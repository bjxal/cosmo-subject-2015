!function(e){var t={id:"da485b50",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){jQuery.cookie=function(e,t,i){if("undefined"==typeof t){var n=null;if(document.cookie&&""!=document.cookie)for(var r=document.cookie.split(";"),a=0;a<r.length;a++){var o=jQuery.trim(r[a]);if(o.substring(0,e.length+1)==e+"="){n=decodeURIComponent(o.substring(e.length+1));break}}return n}i=i||{},null===t&&(t="",i=$.extend({},i),i.expires=-1);var s="";if(i.expires&&("number"==typeof i.expires||i.expires.toUTCString)){var l;"number"==typeof i.expires?(l=new Date,l.setTime(l.getTime()+24*i.expires*60*60*1e3)):l=i.expires,s="; expires="+l.toUTCString()}var u=i.path?"; path="+i.path:"",c=i.domain?"; domain="+i.domain:"",d=i.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(t),s,u,c,d].join("")}})(t.exports,t,e);e.__modules__.da485b50=t.exports}(this),function(e){var t={id:"da485b51",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){(function(){var i=this,n=i._,r={},a=Array.prototype,o=Object.prototype,s=Function.prototype,l=a.push,u=a.slice,c=a.concat,d=o.toString,f=o.hasOwnProperty,h=a.forEach,p=a.map,g=a.reduce,_=a.reduceRight,m=a.filter,v=a.every,x=a.some,b=a.indexOf,w=a.lastIndexOf,y=Array.isArray,F=Object.keys,$=s.bind,S=function(e){return e instanceof S?e:this instanceof S?void(this._wrapped=e):new S(e)};"undefined"!=typeof e?("undefined"!=typeof t&&t.exports&&(e=t.exports=S),e._=S):i._=S,S.VERSION="1.6.0";var T=S.each=S.forEach=function(e,t,i){if(null==e)return e;if(h&&e.forEach===h)e.forEach(t,i);else if(e.length===+e.length){for(var n=0,a=e.length;a>n;n++)if(t.call(i,e[n],n,e)===r)return}else for(var o=S.keys(e),n=0,a=o.length;a>n;n++)if(t.call(i,e[o[n]],o[n],e)===r)return;return e};S.map=S.collect=function(e,t,i){var n=[];return null==e?n:p&&e.map===p?e.map(t,i):(T(e,function(e,r,a){n.push(t.call(i,e,r,a))}),n)};var k="Reduce of empty array with no initial value";S.reduce=S.foldl=S.inject=function(e,t,i,n){var r=arguments.length>2;if(null==e&&(e=[]),g&&e.reduce===g)return n&&(t=S.bind(t,n)),r?e.reduce(t,i):e.reduce(t);if(T(e,function(e,a,o){r?i=t.call(n,i,e,a,o):(i=e,r=!0)}),!r)throw new TypeError(k);return i},S.reduceRight=S.foldr=function(e,t,i,n){var r=arguments.length>2;if(null==e&&(e=[]),_&&e.reduceRight===_)return n&&(t=S.bind(t,n)),r?e.reduceRight(t,i):e.reduceRight(t);var a=e.length;if(a!==+a){var o=S.keys(e);a=o.length}if(T(e,function(s,l,u){l=o?o[--a]:--a,r?i=t.call(n,i,e[l],l,u):(i=e[l],r=!0)}),!r)throw new TypeError(k);return i},S.find=S.detect=function(e,t,i){var n;return C(e,function(e,r,a){return t.call(i,e,r,a)?(n=e,!0):void 0}),n},S.filter=S.select=function(e,t,i){var n=[];return null==e?n:m&&e.filter===m?e.filter(t,i):(T(e,function(e,r,a){t.call(i,e,r,a)&&n.push(e)}),n)},S.reject=function(e,t,i){return S.filter(e,function(e,n,r){return!t.call(i,e,n,r)},i)},S.every=S.all=function(e,t,i){t||(t=S.identity);var n=!0;return null==e?n:v&&e.every===v?e.every(t,i):(T(e,function(e,a,o){return(n=n&&t.call(i,e,a,o))?void 0:r}),!!n)};var C=S.some=S.any=function(e,t,i){t||(t=S.identity);var n=!1;return null==e?n:x&&e.some===x?e.some(t,i):(T(e,function(e,a,o){return n||(n=t.call(i,e,a,o))?r:void 0}),!!n)};S.contains=S.include=function(e,t){return null==e?!1:b&&e.indexOf===b?-1!=e.indexOf(t):C(e,function(e){return e===t})},S.invoke=function(e,t){var i=u.call(arguments,2),n=S.isFunction(t);return S.map(e,function(e){return(n?t:e[t]).apply(e,i)})},S.pluck=function(e,t){return S.map(e,S.property(t))},S.where=function(e,t){return S.filter(e,S.matches(t))},S.findWhere=function(e,t){return S.find(e,S.matches(t))},S.max=function(e,t,i){if(!t&&S.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var n=-(1/0),r=-(1/0);return T(e,function(e,a,o){var s=t?t.call(i,e,a,o):e;s>r&&(n=e,r=s)}),n},S.min=function(e,t,i){if(!t&&S.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);var n=1/0,r=1/0;return T(e,function(e,a,o){var s=t?t.call(i,e,a,o):e;r>s&&(n=e,r=s)}),n},S.shuffle=function(e){var t,i=0,n=[];return T(e,function(e){t=S.random(i++),n[i-1]=n[t],n[t]=e}),n},S.sample=function(e,t,i){return null==t||i?(e.length!==+e.length&&(e=S.values(e)),e[S.random(e.length-1)]):S.shuffle(e).slice(0,Math.max(0,t))};var P=function(e){return null==e?S.identity:S.isFunction(e)?e:S.property(e)};S.sortBy=function(e,t,i){return t=P(t),S.pluck(S.map(e,function(e,n,r){return{value:e,index:n,criteria:t.call(i,e,n,r)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(n>i||void 0===n)return-1}return e.index-t.index}),"value")};var A=function(e){return function(t,i,n){var r={};return i=P(i),T(t,function(a,o){var s=i.call(n,a,o,t);e(r,s,a)}),r}};S.groupBy=A(function(e,t,i){S.has(e,t)?e[t].push(i):e[t]=[i]}),S.indexBy=A(function(e,t,i){e[t]=i}),S.countBy=A(function(e,t){S.has(e,t)?e[t]++:e[t]=1}),S.sortedIndex=function(e,t,i,n){i=P(i);for(var r=i.call(n,t),a=0,o=e.length;o>a;){var s=a+o>>>1;i.call(n,e[s])<r?a=s+1:o=s}return a},S.toArray=function(e){return e?S.isArray(e)?u.call(e):e.length===+e.length?S.map(e,S.identity):S.values(e):[]},S.size=function(e){return null==e?0:e.length===+e.length?e.length:S.keys(e).length},S.first=S.head=S.take=function(e,t,i){return null==e?void 0:null==t||i?e[0]:0>t?[]:u.call(e,0,t)},S.initial=function(e,t,i){return u.call(e,0,e.length-(null==t||i?1:t))},S.last=function(e,t,i){return null==e?void 0:null==t||i?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},S.rest=S.tail=S.drop=function(e,t,i){return u.call(e,null==t||i?1:t)},S.compact=function(e){return S.filter(e,S.identity)};var I=function(e,t,i){return t&&S.every(e,S.isArray)?c.apply(i,e):(T(e,function(e){S.isArray(e)||S.isArguments(e)?t?l.apply(i,e):I(e,t,i):i.push(e)}),i)};S.flatten=function(e,t){return I(e,t,[])},S.without=function(e){return S.difference(e,u.call(arguments,1))},S.partition=function(e,t){var i=[],n=[];return T(e,function(e){(t(e)?i:n).push(e)}),[i,n]},S.uniq=S.unique=function(e,t,i,n){S.isFunction(t)&&(n=i,i=t,t=!1);var r=i?S.map(e,i,n):e,a=[],o=[];return T(r,function(i,n){(t?n&&o[o.length-1]===i:S.contains(o,i))||(o.push(i),a.push(e[n]))}),a},S.union=function(){return S.uniq(S.flatten(arguments,!0))},S.intersection=function(e){var t=u.call(arguments,1);return S.filter(S.uniq(e),function(e){return S.every(t,function(t){return S.contains(t,e)})})},S.difference=function(e){var t=c.apply(a,u.call(arguments,1));return S.filter(e,function(e){return!S.contains(t,e)})},S.zip=function(){for(var e=S.max(S.pluck(arguments,"length").concat(0)),t=new Array(e),i=0;e>i;i++)t[i]=S.pluck(arguments,""+i);return t},S.object=function(e,t){if(null==e)return{};for(var i={},n=0,r=e.length;r>n;n++)t?i[e[n]]=t[n]:i[e[n][0]]=e[n][1];return i},S.indexOf=function(e,t,i){if(null==e)return-1;var n=0,r=e.length;if(i){if("number"!=typeof i)return n=S.sortedIndex(e,t),e[n]===t?n:-1;n=0>i?Math.max(0,r+i):i}if(b&&e.indexOf===b)return e.indexOf(t,i);for(;r>n;n++)if(e[n]===t)return n;return-1},S.lastIndexOf=function(e,t,i){if(null==e)return-1;var n=null!=i;if(w&&e.lastIndexOf===w)return n?e.lastIndexOf(t,i):e.lastIndexOf(t);for(var r=n?i:e.length;r--;)if(e[r]===t)return r;return-1},S.range=function(e,t,i){arguments.length<=1&&(t=e||0,e=0),i=arguments[2]||1;for(var n=Math.max(Math.ceil((t-e)/i),0),r=0,a=new Array(n);n>r;)a[r++]=e,e+=i;return a};var D=function(){};S.bind=function(e,t){var i,n;if($&&e.bind===$)return $.apply(e,u.call(arguments,1));if(!S.isFunction(e))throw new TypeError;return i=u.call(arguments,2),n=function(){if(!(this instanceof n))return e.apply(t,i.concat(u.call(arguments)));D.prototype=e.prototype;var r=new D;D.prototype=null;var a=e.apply(r,i.concat(u.call(arguments)));return Object(a)===a?a:r}},S.partial=function(e){var t=u.call(arguments,1);return function(){for(var i=0,n=t.slice(),r=0,a=n.length;a>r;r++)n[r]===S&&(n[r]=arguments[i++]);for(;i<arguments.length;)n.push(arguments[i++]);return e.apply(this,n)}},S.bindAll=function(e){var t=u.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return T(t,function(t){e[t]=S.bind(e[t],e)}),e},S.memoize=function(e,t){var i={};return t||(t=S.identity),function(){var n=t.apply(this,arguments);return S.has(i,n)?i[n]:i[n]=e.apply(this,arguments)}},S.delay=function(e,t){var i=u.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},S.defer=function(e){return S.delay.apply(S,[e,1].concat(u.call(arguments,1)))},S.throttle=function(e,t,i){var n,r,a,o=null,s=0;i||(i={});var l=function(){s=i.leading===!1?0:S.now(),o=null,a=e.apply(n,r),n=r=null};return function(){var u=S.now();s||i.leading!==!1||(s=u);var c=t-(u-s);return n=this,r=arguments,0>=c?(clearTimeout(o),o=null,s=u,a=e.apply(n,r),n=r=null):o||i.trailing===!1||(o=setTimeout(l,c)),a}},S.debounce=function(e,t,i){var n,r,a,o,s,l=function(){var u=S.now()-o;t>u?n=setTimeout(l,t-u):(n=null,i||(s=e.apply(a,r),a=r=null))};return function(){a=this,r=arguments,o=S.now();var u=i&&!n;return n||(n=setTimeout(l,t)),u&&(s=e.apply(a,r),a=r=null),s}},S.once=function(e){var t,i=!1;return function(){return i?t:(i=!0,t=e.apply(this,arguments),e=null,t)}},S.wrap=function(e,t){return S.partial(t,e)},S.compose=function(){var e=arguments;return function(){for(var t=arguments,i=e.length-1;i>=0;i--)t=[e[i].apply(this,t)];return t[0]}},S.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},S.keys=function(e){if(!S.isObject(e))return[];if(F)return F(e);var t=[];for(var i in e)S.has(e,i)&&t.push(i);return t},S.values=function(e){for(var t=S.keys(e),i=t.length,n=new Array(i),r=0;i>r;r++)n[r]=e[t[r]];return n},S.pairs=function(e){for(var t=S.keys(e),i=t.length,n=new Array(i),r=0;i>r;r++)n[r]=[t[r],e[t[r]]];return n},S.invert=function(e){for(var t={},i=S.keys(e),n=0,r=i.length;r>n;n++)t[e[i[n]]]=i[n];return t},S.functions=S.methods=function(e){var t=[];for(var i in e)S.isFunction(e[i])&&t.push(i);return t.sort()},S.extend=function(e){return T(u.call(arguments,1),function(t){if(t)for(var i in t)e[i]=t[i]}),e},S.pick=function(e){var t={},i=c.apply(a,u.call(arguments,1));return T(i,function(i){i in e&&(t[i]=e[i])}),t},S.omit=function(e){var t={},i=c.apply(a,u.call(arguments,1));for(var n in e)S.contains(i,n)||(t[n]=e[n]);return t},S.defaults=function(e){return T(u.call(arguments,1),function(t){if(t)for(var i in t)void 0===e[i]&&(e[i]=t[i])}),e},S.clone=function(e){return S.isObject(e)?S.isArray(e)?e.slice():S.extend({},e):e},S.tap=function(e,t){return t(e),e};var M=function(e,t,i,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof S&&(e=e._wrapped),t instanceof S&&(t=t._wrapped);var r=d.call(e);if(r!=d.call(t))return!1;switch(r){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var a=i.length;a--;)if(i[a]==e)return n[a]==t;var o=e.constructor,s=t.constructor;if(o!==s&&!(S.isFunction(o)&&o instanceof o&&S.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1;i.push(e),n.push(t);var l=0,u=!0;if("[object Array]"==r){if(l=e.length,u=l==t.length)for(;l--&&(u=M(e[l],t[l],i,n)););}else{for(var c in e)if(S.has(e,c)&&(l++,!(u=S.has(t,c)&&M(e[c],t[c],i,n))))break;if(u){for(c in t)if(S.has(t,c)&&!l--)break;u=!l}}return i.pop(),n.pop(),u};S.isEqual=function(e,t){return M(e,t,[],[])},S.isEmpty=function(e){if(null==e)return!0;if(S.isArray(e)||S.isString(e))return 0===e.length;for(var t in e)if(S.has(e,t))return!1;return!0},S.isElement=function(e){return!(!e||1!==e.nodeType)},S.isArray=y||function(e){return"[object Array]"==d.call(e)},S.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){S["is"+e]=function(t){return d.call(t)=="[object "+e+"]"}}),S.isArguments(arguments)||(S.isArguments=function(e){return!(!e||!S.has(e,"callee"))}),"function"!=typeof/./&&(S.isFunction=function(e){return"function"==typeof e}),S.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},S.isNaN=function(e){return S.isNumber(e)&&e!=+e},S.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==d.call(e)},S.isNull=function(e){return null===e},S.isUndefined=function(e){return void 0===e},S.has=function(e,t){return f.call(e,t)},S.noConflict=function(){return i._=n,this},S.identity=function(e){return e},S.constant=function(e){return function(){return e}},S.property=function(e){return function(t){return t[e]}},S.matches=function(e){return function(t){if(t===e)return!0;for(var i in e)if(e[i]!==t[i])return!1;return!0}},S.times=function(e,t,i){for(var n=Array(Math.max(0,e)),r=0;e>r;r++)n[r]=t.call(i,r);return n},S.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},S.now=Date.now||function(){return(new Date).getTime()};var L={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};L.unescape=S.invert(L.escape);var E={escape:new RegExp("["+S.keys(L.escape).join("")+"]","g"),unescape:new RegExp("("+S.keys(L.unescape).join("|")+")","g")};S.each(["escape","unescape"],function(e){S[e]=function(t){return null==t?"":(""+t).replace(E[e],function(t){return L[e][t]})}}),S.result=function(e,t){if(null==e)return void 0;var i=e[t];return S.isFunction(i)?i.call(e):i},S.mixin=function(e){T(S.functions(e),function(t){var i=S[t]=e[t];S.prototype[t]=function(){var e=[this._wrapped];return l.apply(e,arguments),z.call(this,i.apply(S,e))}})};var B=0;S.uniqueId=function(e){var t=++B+"";return e?e+t:t},S.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var R=/(.)^/,N={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},O=/\\|'|\r|\n|\t|\u2028|\u2029/g;S.template=function(e,t,i){var n;i=S.defaults({},i,S.templateSettings);var r=new RegExp([(i.escape||R).source,(i.interpolate||R).source,(i.evaluate||R).source].join("|")+"|$","g"),a=0,o="__p+='";e.replace(r,function(t,i,n,r,s){return o+=e.slice(a,s).replace(O,function(e){return"\\"+N[e]}),i&&(o+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'"),n&&(o+="'+\n((__t=("+n+"))==null?'':__t)+\n'"),r&&(o+="';\n"+r+"\n__p+='"),a=s+t.length,t}),o+="';\n",i.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{n=new Function(i.variable||"obj","_",o)}catch(s){throw s.source=o,s}if(t)return n(t,S);var l=function(e){return n.call(this,e,S)};return l.source="function("+(i.variable||"obj")+"){\n"+o+"}",l},S.chain=function(e){return S(e).chain()};var z=function(e){return this._chain?S(e).chain():e};S.mixin(S),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=a[e];S.prototype[e]=function(){var i=this._wrapped;return t.apply(i,arguments),"shift"!=e&&"splice"!=e||0!==i.length||delete i[0],z.call(this,i)}}),T(["concat","join","slice"],function(e){var t=a[e];S.prototype[e]=function(){return z.call(this,t.apply(this._wrapped,arguments))}}),S.extend(S.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return S}),window._=S}).call(this)})(t.exports,t,e);e.__modules__.da485b51=t.exports}(this),function(e){var t={id:"da488260",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Handlebars.registerHelper("range",function(e,t){for(var i="",n=0;e>n;n++)i+=t.fn(n);return i}),Handlebars.registerHelper("equal",function(e,t,i){return e==t?i.fn(this):i.inverse(this)})})(t.exports,t,e);e.__modules__.da488260=t.exports}(this),function(e){var t={id:"da488261",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){function n(e){return c(r(u(e),e.length*f))}function r(e,t){e[t>>5]|=128<<24-t%32,e[(t+64>>9<<4)+15]=t;for(var i=Array(80),n=1732584193,r=-271733879,u=-1732584194,c=271733878,d=-1009589776,f=0;f<e.length;f+=16){for(var h=n,p=r,g=u,_=c,m=d,v=0;80>v;v++){16>v?i[v]=e[f+v]:i[v]=l(i[v-3]^i[v-8]^i[v-14]^i[v-16],1);var x=s(s(l(n,5),a(v,r,u,c)),s(s(d,i[v]),o(v)));d=c,c=u,u=l(r,30),r=n,n=x}n=s(n,h),r=s(r,p),u=s(u,g),c=s(c,_),d=s(d,m)}return Array(n,r,u,c,d)}function a(e,t,i,n){return 20>e?t&i|~t&n:40>e?t^i^n:60>e?t&i|t&n|i&n:t^i^n}function o(e){return 20>e?1518500249:40>e?1859775393:60>e?-1894007588:-899497514}function s(e,t){var i=(65535&e)+(65535&t),n=(e>>16)+(t>>16)+(i>>16);return n<<16|65535&i}function l(e,t){return e<<t|e>>>32-t}function u(e){for(var t=Array(),i=(1<<f)-1,n=0;n<e.length*f;n+=f)t[n>>5]|=(e.charCodeAt(n/f)&i)<<32-f-n%32;return t}function c(e){for(var t=d?"0123456789ABCDEF":"0123456789abcdef",i="",n=0;n<4*e.length;n++)i+=t.charAt(e[n>>2]>>8*(3-n%4)+4&15)+t.charAt(e[n>>2]>>8*(3-n%4)&15);return i}var d=0,f=8;t.exports={hex_sha1:n,h:n}})(t.exports,t,e);e.__modules__.da488261=t.exports}(this),function(e){var t={id:"da488262",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){var n=(window.location.hostname,function(e,t){var i,n=this;i=e&&_.has(e,"constructor")?e.constructor:function(){return n.apply(this,arguments)},_.extend(i,n,t);var r=function(){this.constructor=i};return r.prototype=n.prototype,i.prototype=new r,e&&_.extend(i.prototype,e),_.extend(i.prototype,{"super":n.prototype}),i}),r=function(e){e||(e={});var t,i,n=this["super"],r={},a={},o=[],s={},l={},u=[];for("page4"==e.ftype;n;)o.push(n.config),u.push(n.listeners),n=n["super"];for(o.reverse(),t=0,i=o.length;i>t;t++)_.extend(a,o[t]);for(t=0,i=u.length;i>t;t++)_.extend(l,u[t]);_.extend(r,a,this.config),_.extend(s,l,this.listeners,e.listeners);var c=_.keys(r);r=_.defaults(_.pick(e,c),r),e=_.omit(e,c),e.config=r,e.listeners=s,this.options=e,this.initial.call(this,e)};_.extend(r.prototype,{fid:0,config:{},events:{},listeners:{},initial:function(){},set:function(e,t){if(_.isObject(e)&&!t)for(var i in e)e.hasOwnProperty(i)&&this.set(i,e[i]);else if(_.isString(e)){var n,r,a=_.result(this.options,"config");"undefined"!=typeof a[e]&&(_.isFunction(t)&&(t=t.call(null)),r=a[e],this.options.config[e]=t,n=this.options.listeners[e+"Changed"]||this.events[e+"changed"],_.isFunction(n)&&!1===n.apply(this,[t,r])&&(this.options.config[e]=r))}},get:function(e){var t=this.options.config[e];_.isFunction(t)&&(t=t.call(this));var i=this.options.listeners[e+"Get"];return _.isFunction(i)?i.call(this,t):t},trigger:function(e,t){e=this.options.listeners[e],_.isArray(t)||(t=[t]),_.isFunction(e)&&e.apply(this,t)}}),r.extend=n;i.__modules__.da488261;t.exports=null,t.exports=i.F=i.FClass=r})(t.exports,t,e);e.__modules__.da488262=t.exports}(this),function(e){var t={id:"da488263",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){var n=/^(\S+)\s*(.*)$/,r=window.Fui=t.exports=FClass.extend({el:null,$el:null,tagName:"div",config:null,model:null,collection:null,attributes:null,css:null,className:null,events:{},initialize:function(){},initial:function(e){this.cid=_.uniqueId("fui"),_.extend(this.events,e.events||{}),_.extend(this,_.omit(e,["events"])),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},render:function(){},callParent:function(e){_.isString(e)||(e="render");var t=this["super"][e];return _.isFunction(t)&&(t=t.call(this)),t},show:function(){this.$el.show()},hide:function(){this.$el.hide()},refresh:null,remove:function(){return this.$el.remove(),this.stopListening(),this.onRemove(),this},onRemove:function(){},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},delegateEvents:function(e){if(!e&&!(e=_.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var i=e[t];if(_.isFunction(i)||(i=this[e[t]]),i){var r=t.match(n),a=r[1],o=r[2];i=_.bind(i,this),a+=".delegateEvents"+this.cid,""===o?this.$el.on(a,i):this.$el.on(a,o,i)}}return this},setElement:function(e,t){this.$el&&this.undelegateEvents(),this.$el=e instanceof $?e:$(e),this.el=this.$el[0];var i=_.extend({},_.result(this,"attributes")),n=_.extend({},_.result(this,"css"));this.id&&(i.id=_.result(this,"id"));var r=_.result(this,"className");return _.isFunction(r)&&(r=r.apply(this)),_.isArray(r)&&(r=r.join(" ")),this.$el.attr(i).css(n).addClass(r),t!==!1&&this.delegateEvents(),this},_ensureElement:function(){if(this.el)this.setElement(_.result(this,"el"),!1);else{var e=$("<"+_.result(this,"tagName")+">");this.$el&&(e=this.$el[0]),this.setElement(e,!1)}},stopListening:function(e,t,i){var n=this._listeningTo;if(!n)return this;var r=!t&&!i;i||"object"!=typeof t||(i=this),e&&((n={})[e._listenId]=e);for(var a in n)e=n[a],e.off(t,i,this),(r||_.isEmpty(e._events))&&delete this._listeningTo[a];return this}},{WIDTH:640,HEIGHT:1008,WIN_W:$(window).width(),WIN_H:$(window).height(),IMG_STANDARD_WIDTH:640,IMG_STANDARD_HEIGHT:1008,emptyFunc:function(){},deviceType:function(){var e=this.WIN_W;return 640>e?1:960>e?2:1280>e?3:4},getLocationParam:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),i=window.location.search.substr(1).match(t);return null!=i?unescape(i[2]):null},isM:function(){return 1==this.deviceType()},SCROLL_TOP:function(){return $(document).scrollTop()},Msg:function(e,t){t=t||"info",console.log("["+t+"] "+e)},getTrans:function(e){var t=getComputedStyle(e[0],null).webkitTransform;if(!/^matrix/.test(t))return 0;var i=/matrix\(([\d\,\.\-\s]*)\)/g.exec(t)[1];return i=i.split(","),{x:i[4]<<0,y:i[5]<<0}}});r.View=r.extend({config:{event:!1},listeners:{tap:null},initialize:function(){this.get("event")&&(this.event=new r.Event({hoster:this,stopPropagation:!0})),this.design&&this.design()}})})(t.exports,t,e);e.__modules__.da488263=t.exports}(this),function(e){var t={id:"da488264",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){var n={ua:navigator.userAgent,andrioid_version:100,isAndroid:!1,init:function(){this.OS=this.searchString(this.dataOS())||"an unknown OS",this.Browser=this.searchBrowser(this.dataB()),"iPhone"==this.OS||"iPad"==this.OS||"Android"==this.OS||"Winphone"==this.OS?this.mobile=!0:this.mobile=!1,/Android (\d+\.\d+)/.test(navigator.userAgent)&&(this.andrioid_version=RegExp.$1,this.isAndroid=!0)},searchString:function(e){for(var t=0;t<e.length;t++){var i=e[t].string;if(i&&-1!=i.indexOf(e[t].forSearch))return e[t].forShow}},searchBrowser:function(e){for(var t="",i=0;i<e.length;i++){var n=e[i].string;n&&-1!=n.indexOf(e[i].forSearch)&&(t+=e[i].forShow+"|")}return t.substring(0,t.length-1)},dataOS:function(){return[{string:navigator.platform,forSearch:"Win",forShow:"Windows"},{string:navigator.platform,forSearch:"Mac",forShow:"Mac"},{string:this.ua,forSearch:"iPhone",forShow:"iPhone"},{string:this.ua,forSearch:"iPad",forShow:"iPad"},{string:this.ua,forSearch:"Android",forShow:"Android"},{string:this.ua,forSearch:"Windows Phone",forShow:"Winphone"}]},dataB:function(){return[{string:this.ua,forSearch:"360browser",forShow:"360"},{string:this.ua,forSearch:"Maxthon",forShow:"Maxthon"},{string:this.ua,forSearch:"UCBrowser",forShow:"uc"},{string:this.ua,forSearch:"Oupeng",forShow:"opera"},{string:this.ua,forSearch:"Opera",forShow:"opera"},{string:this.ua,forSearch:"Sogou",forShow:"sogou"},{string:this.ua,forSearch:"baidu",forShow:"baidu"},{string:this.ua,forSearch:"Safari",forShow:"safari"},{string:this.ua,forSearch:"MicroMessenger",forShow:"weixin"},{string:this.ua,forSearch:"QQ/",forShow:"qq"},{string:this.ua,forSearch:"Weibo",forShow:"weibo"},{string:this.ua,forSearch:"MQBrowser",forShow:"360"},{string:this.ua,forSearch:"MQQBrowser",forShow:"qqbrowser"},{string:this.ua,forSearch:"CriOS",forShow:"Maxthon"},{string:this.ua,forSearch:"Firefox/",forShow:"ff"}]}};n.init(),Fui.client=n})(t.exports,t,e);e.__modules__.da488264=t.exports}(this),function(e){var t={id:"da488265",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){var n=Fui.Event=function(e){this.options=_.defaults(e,{stopPropagation:!1,draggable:!1,pinch:!1}),this.options.draggable&&this.options.hoster.$target&&this.options.hoster.$target.css({webkitTransform:"translate(0,0)",transform:"translate(0,0)"}),this.easingX=new Fui.Easing,this.easingY=new Fui.Easing,this.bindEvents()};n.prototype={_event_start:!1,_event_start_p:{x:0,y:0,ts:0},_event_cur_p:{x:0,y:0,ts:0},_event_cur_dis:{x:0,y:0},_event_del_p:{x:0,y:0,ts:0},_event_cur_speed:{x:0,y:0},_draggable:{startTrans:{x:0,y:0}},_pinch:{startDis:0,scale:1,preScale:1,tempScale:1},gesture:null,startGesture:null,max:{x:0,y:0},min:{x:0,y:0},unbindEvents:function(){var e=this.options.hoster;e.$el.undelegate("."+e.cid),delete this},getAngle:function(e,t){var i=180*Math.atan(Math.abs(t/e))/Math.PI;return 0>e&&(i=180-i),t>0&&(i=-i),i},getCurAngle:function(){var e,t=this,i=t._event_del_p;return e=180*Math.atan(-i.y/i.x)/Math.PI,i.x<0&&(e+=90),e},trans:function(e,t){var i,n,r=t.transform||{},a=t.transition||"none";if(r.translate3d){var o=i=r.translate3d;r.translate3d.x=o.x||0,r.translate3d.y=o.y||0,r.translate3d.z=o.z||0,/\%$/.test(i.x)||(i.x=parseInt(i.x)+"px"),/\%$/.test(i.y)||(i.y=parseInt(i.y)+"px"),/\%$/.test(i.z)||(i.z=parseInt(i.z)+"px")}else r.translate3d={x:0,y:0,z:0};r.scale?n=r.scale:r.scale=n=1;var s="translate3d("+i.x+","+i.y+","+i.z+") scale("+n+")";e.css({webkitTransform:s,webkitTransition:a})},getDisTwoPoint:function(e){if(2!=e.length)return null;var t={x:e[0].clientX,y:e[0].clientY},i={x:e[1].clientX,y:e[1].clientY},n=Math.sqrt((t.x-i.x)*(t.x-i.x)+(t.y-i.y)*(t.y-i.y)),r={x:t.x+i.x>>1,y:t.y+i.y>>1};return{dis:n,p:r}},getTrans:function(e){var t=getComputedStyle(e[0],null).webkitTransform;if(!/^matrix/.test(t))return 0;var i=/matrix\(([\d\,\.\-\s]*)\)/g.exec(t)[1];return i=i.split(","),{x:i[4]<<0,y:i[5]<<0}},checkOrientGesture:function(e){return"x"==e&&/^left|right/.test(this.startGesture)||"y"==e&&/^up|down/.test(this.startGesture)},stopPropagation:function(){this.$e.stopPropagation()},preventDefault:function(){this.$e.preventDefault()},bindEvents:function(){function e(){s._event_cur_speed={x:0,y:0},s._event_cur_dis={x:0,y:0}}function t(t){g&&(t.stopPropagation(),t.preventDefault()),s.$e=t;var i=t.originalEvent.touches?t.originalEvent.touches[0]:t.originalEvent;if(x||(x=i.identifier),s._event_start=!0,d=s._event_start_p=s._event_cur_p=p=h={x:i.clientX,y:i.clientY,ts:Date.now()},e(),m=!0,s.gesture=null,s.startGesture=null,i.identifier==x&&(!0===s.options.draggable&&(t.stopPropagation(),t.preventDefault(),s._draggable.startTrans=s.getTrans(l.$target)),!0===s.options.pinch)){t.stopPropagation(),t.preventDefault();var n=s.getDisTwoPoint(t.originalEvent.touches);n&&(s._pinch.startDis=n.dis,s._pinch.preScale=s._pinch.tempScale)}_.isFunction(l._onstart)&&l._onstart(t),l.trigger("touchstart",[s])}function i(e){g&&(e.stopPropagation(),e.preventDefault()),s.$e=e;var t=e.originalEvent.touches?e.originalEvent.touches[0]:e.originalEvent;m&&(v=!0),f=s._event_cur_p={x:t.clientX,y:t.clientY,ts:Date.now()},p=h,h=f;var i=s._event_cur_dis={x:f.x-d.x,y:f.y-d.y};if(null==s.startGesture&&(Math.abs(i.x)>100||Math.abs(i.y)>100)){var n=s.getAngle(i.x,i.y),u=s._event_cur_speed;Math.abs(n)<=30||Math.abs(n)>=150?(u.x>0&&(s.startGesture="rightSwipe"),u.x<0&&(s.startGesture="leftSwipe")):(u.y>0&&(s.startGesture="downSwipe"),u.y<0&&(s.startGesture="upSwipe"))}h.ts-p.ts>5&&(r=h.x-p.x,a=h.y-p.y,o=h.ts-p.ts,s._event_del_p={x:r,y:a,ts:o},s._event_cur_speed={x:r/o,y:a/o},_.isFunction(l._onmove)&&l._onmove(e),l.trigger("touchmove",[s]));var c={x:0,y:0},b=1;if(t.identifier==x){if(!0===s.options.draggable&&(c={x:i.x+s._draggable.startTrans.x,y:i.y+s._draggable.startTrans.y},s.options.hoster.trigger("drag",[c.x,c.y])),!0===s.options.pinch){e.stopPropagation(),e.preventDefault();var w=s.getDisTwoPoint(e.originalEvent.touches);w?(b=w.dis/s._pinch.startDis,b*=s._pinch.preScale):b=s._pinch.tempScale,s.options.hoster.trigger("pinch",[b])}(!0===s.options.draggable||!0===s.options.pinch)&&(e.stopPropagation(),e.preventDefault(),s.options.hoster.trigger("translate",[c.x,c.y,b]),s.trans(l.$target,{transform:{translate3d:c,scale:b}}),s._pinch.tempScale=b)}}function n(t){g&&(t.stopPropagation(),t.preventDefault());var i=t.originalEvent.changedTouches;_.each(i,function(e){e.identifier==x&&(x=0)}),s.$e=t;var n=s._event_cur_dis.x,r=s._event_cur_dis.y,a=(s.gesture,$(t.target)),o=u.height(),c=u.width();if(Math.abs(n)>10||Math.abs(r)>10){var d=s.getAngle(n,r),f=s._event_cur_speed;Math.abs(d)<=30||Math.abs(d)>=150?(Math.abs(f.x)>.5||Math.abs(n)>c/2)&&(f.x>0&&(s.gesture="rightSwipe"),f.x<0&&(s.gesture="leftSwipe")):(Math.abs(f.y)>.5||Math.abs(r)>o/2)&&(f.y>0&&(s.gesture="downSwipe"),f.y<0&&(s.gesture="upSwipe"))}else{s.gesture="tap";var h=t.target.tagName.toLowerCase();("input"==h||"a"==h)&&m&&!v&&(t.target.focus(),t.target.click())}_.isFunction(l.onGesture)&&l.onGesture(s.gesture,a,s),_.isFunction(l._ontap)&&l._ontap(s),_.isFunction(l._onend)&&l._onend(s),l.trigger("touchend",[s]),l.trigger(s.gesture,[s,a]),l.trigger("gesture",[s,s.gesture,a]),m=!1,v=!1,e()}var r,a,o,s=this,l=this.options.hoster,u=l.$el,c=l.cid,d={x:0,y:0},f={x:0,y:0},h={x:0,y:0},p={x:0,y:0},g=s.options.stopPropagation,m=!1,v=!1,x=0,b=!1;u.on("touchstart."+c,t).on("touchmove."+c,i).on("touchend."+c,n),u.on("mousedown."+c,function(e){b=!0,t(e)}).on("mousemove."+c,function(e){b&&i(e)}).on("mouseup."+c,function(e){b&&(n(e),b=!1)}).on("mouseout."+c,function(e){b&&(n(e),b=!1)}),window.hasOwnProperty("ontouchstart")}}})(t.exports,t,e);e.__modules__.da488265=t.exports}(this),function(e){var t={id:"da488266",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){!function(){var e,t,i=0,n=["ms","moz","webkit","o"],r=n.length;for(e=0;r>e&&!window.requestAnimationFrame;++e)t=n[e],window.requestAnimationFrame=window[t+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t+"CancelAnimationFrame"]||window[t+"CancelRequestAnimationFrame"];Fui.performance={},window.performance&&window.performance.now?Fui.performance.now=function(){return window.performance.now()}:Fui.performance.now=function(){return Date.now()},window.requestAnimationFrame=function(e,t){var n=Date.now(),r=Math.max(0,16-(n-i)),a=window.setTimeout(function(){e.call(t)},0);return i=n+r,a},window.requestAnimationFrame&&(Fui.trueRequestAnimationFrames=!0),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),Fui.AnimationQueue=FClass.extend({config:{queue:[],status:"stop",ts:0},push:function(e,t,i){this.get("queue").push(arguments)},start:function(){this.set("status","start"),this.clear(),this.set("ts",Date.now()),this.doStart()},run:function(){var e=this,t=this.get("queue").shift();t&&(t[0].apply(t[1],t[2]),e.set("ts",Date.now())),e.doIterator()},doIterator:function(){this.animationId=requestAnimationFrame(this.run,this)},doStart:function(){this.animationId=requestAnimationFrame(this.run,this)},stop:function(){cancelAnimationFrame(this.animationId)},clear:function(){this.get("queue").length=0}})})(t.exports,t,e);e.__modules__.da488266=t.exports}(this),function(e){var t={id:"da488267",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.Easing=FClass.extend({getTrans:function(e){var t=getComputedStyle(e[0],null).webkitTransform;if(!/^matrix/.test(t))return 0;var i=/matrix\(([\d\,\.\-\s]*)\)/g.exec(t)[1];return i=i.split(","),{x:i[4]<<0,y:i[5]<<0}},init:function(e,t,i){var n=i.$ele;if(this.friction=.5,this.acceleration=30,this.theta=Math.log(1-this.friction/10),this.alpha=this.theta/this.acceleration,e&&(this.startTime=Date.now(),this.startSpeed=e._event_cur_speed[t]*this.acceleration,this.startPos=this.getTrans(n)[t],this.maxV=i.max[t],this.minV=i.min[t]),this.outBound=this.startPos>this.maxV||this.startPos<this.minV,this.ended=!1,this.bounceBack=!1,this.lastValue=null,this.bounceInitValue="undefined"==typeof this.bounceInitValue?0:this.bounceInitValue,this.outBound){var r=null;this.startPos>this.maxV&&(r="max"),this.startPos<this.minV&&(r="min"),this.setBounce(Date.now(),("max"==r?this.maxV:this.minV)+this.bounceInitValue,0,!0)}},getValue:function(){var e=this.startSpeed,t=Math.exp((Date.now()-this.startTime)*this.alpha),i=this.startPos-e*(1-t)/this.theta,n=t*e;
if(0==e)return this.ended=!0,this.startPos;if(this.direction=e>0?1:-1,!this.outBound){if(Math.abs(n)<1&&(this.ended=!0),i<=this.maxV&&i>=this.minV)return i;this.outBound=!0,this.setBounce(Date.now(),n>0?this.maxV:this.minV,n)}if(i=Math.round(this.getBounceValue()),!this.ended)if(this.bounceBack){if(Math.round(i)==this.bounceStartValue)return this.ended=!0,i}else null!=this.lastValue&&(1==this.direction&&i<this.lastValue||-1==this.direction&&i>this.lastValue)&&(this.bounceBack=!0);return this.lastValue=i,i},setBounce:function(e,t,i,n){this.bounceStartTime=e,this.bounceStartValue=t,this.bounceStartVelocity=i,this.bounceBack=!1,this.bounceTT=n},getBounceValue:function(){if(!this.bounceTT){var e=Date.now()-this.bounceStartTime,t=e/30,i=t*Math.pow(Math.E,-.3*t);return this.bounceStartValue+this.bounceStartVelocity*i}if(this.bounceTT){var n=1.2*(Date.now()-this.startTime)/300;return n>=1&&(n=1),this.startPos+(this.bounceStartValue-this.startPos)*n}}})})(t.exports,t,e);e.__modules__.da488267=t.exports}(this),function(e){var t={id:"da488268",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){function n(e,t,i,n){function r(e){return/^[\+|\-]{1}$/.test(e)?e=parseInt(e+a.pageSize[i])+"px":/\%$/.test(e)||(e=parseInt(e)+"px"),["translate3d("+("x"==i?e:"0px"),"y"==i?e:"0px","0px) scale(1) rotate(0deg) skew(0deg,0deg)"].join(",")}var a=this;"undefined"==typeof n&&(n=!1),"undefined"==typeof n&&(n=!0),e&&1==e.length&&e.css({display:"block",zoom:1,webkitTransform:r(t),webkitTransition:n?"-webkit-transform .4s":"none"})}Fui.ScrollBar=Fui.extend({className:function(){return["fui-scrollbar","fui-scrollbar-"+this.get("orient")]},config:{orient:"y"},boundWidth:0,boundHeight:0,innerWidth:0,innerHeight:0,updatePos:function(e){var t=this.get("orient");"x"!=t&&n(this.$i,-this.boundHeight*e/this.innerHeight,t),"y"!=t&&n(this.$i,-this.boundWidth*e/this.innerWidth,t)},updateIWH:function(){"x"!=this.get("orient")&&this.$i.height(100*this.boundHeight/this.innerHeight+"%"),"y"!=this.get("orient")&&this.$i.width(100*this.boundWidth/this.innerWidth+"%")},hide:function(){this.$el.removeClass("show")},show:function(){this.$el.addClass("show")},initialize:function(){var e=this,t=e.$el,i=e.$i=$('<div class="fui-scrollbar-inner"></div>');t.append(i),e.updateIWH()}}),Fui.Scrollable=Fui.extend({config:{orient:"y",scrollBar:!0,stopPropagation:!1,hoster:null},touched:!1,_pre_dis:0,initialize:function(e){var t=this,i=t.get("orient"),n=t.$el=e.$el,r=t.$ele=n.children().first();t.event=new Fui.Event({hoster:t}),t.aq=new Fui.AnimationQueue({});if(n.css({position:"absolute"}).addClass("fui-scrollable"),t.get("scrollBar")){var a=null,o=null;"y"!=i&&(a=t.bar_x=new Fui.ScrollBar({orient:"x",boundWidth:n.width(),innerWidth:r.width()}),n.append(a.$el)),"x"!=i&&(o=t.bar_y=new Fui.ScrollBar({orient:"y",boundHeight:n.height(),innerHeight:r.height()}),n.append(o.$el))}t._doTrans(r,0,!1)},_doTrans:function(e,t,i){function n(e){return/^[\+|\-]{1}$/.test(e)?e=parseInt(e+a.pageSize[r])+"px":/\%$/.test(e)||(e=parseInt(e)+"px"),["translate3d("+("x"==r?e:"0px"),"y"==r?e:"0px","0px) scale(1) rotate(0deg) skew(0deg,0deg)"].join(",")}var r=this.get("orient"),a=this;"undefined"==typeof i&&(i=!0),e&&1==e.length&&e.css({display:"block",zoom:1,webkitTransform:n(t),webkitTransition:i?"-webkit-transform .4s":"none"})},scrollingFn:function(e){var t=this.get("orient"),i=this._pre_dis+e._event_cur_dis[t];n(this.$ele,i,t);var r=this["bar_"+t];r&&r.updatePos(i)},requestAniFrame:function(e){var t=this.get("orient"),i={x:0,y:0};"y"!=this.orient?i.x=e.easingX.getValue():e.easingX.ended=!0,"x"!=this.orient?i.y=e.easingY.getValue():e.easingY.ended=!0,this._doTrans(this.$ele,i[t],!1);var n=this["bar_"+t];n&&n.updatePos(i[t])},easing:function(e){e.easingX.init(e,"x",this),e.easingY.init(e,"y",this);var t=this,i=requestAnimationFrame(function(){cancelAnimationFrame(i),t.touched?t._scrollend(e):(t.aq.push(t.requestAniFrame,t,[e]),e.easingX.ended&&e.easingY.ended?t._scrollend(e):i=requestAnimationFrame(arguments.callee))})},_scrollstart:function(){var e=this["bar_"+this.get("orient")];e&&e.show(),this.trigger("scrollstart")},_scrollend:function(){var e=this["bar_"+this.get("orient")];e&&e.hide(),this.trigger("scrollend")},onTouchEnd:null,listeners:{scrollend:null,scrollstart:null,gesture:function(e,t,i){var n=this.get("hoster");n&&n.trigger&&n.trigger("gesture",[e,t,i])},touchstart:function(e){var t=this;this.touched=!0,t.get("stopPropagation")&&(e.stopPropagation(),e.preventDefault()),t.max={x:0,y:0},t.min={x:t.$el.width()-t.$ele.width(),y:t.$el.height()-t.$ele.height()},this._pre_dis=e.getTrans(this.$ele)[this.get("orient")],this.aq.start(),this._scrollstart(e)},touchmove:function(e){this.get("stopPropagation")&&(e.stopPropagation(),e.preventDefault()),e.checkOrientGesture(this.get("orient"))&&this.aq.push(this.scrollingFn,this,[e])},touchend:function(e){this.get("stopPropagation")&&(e.stopPropagation(),e.preventDefault()),this.touched=!1,_.isFunction(this.ontouchend)&&this.ontouchend.apply(this,[e]),e.checkOrientGesture(this.get("orient"))&&this.easing(e)}}})})(t.exports,t,e);e.__modules__.da488268=t.exports}(this),function(e){var t={id:"da488269",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.Draggable=Fui.extend({config:{$target:null},initialize:function(){var e=this;e.event=new Fui.Event({hoster:e}),e.$target=e.get("$target"),e.$target.css({webkitTransform:"translate3d(0,0,0) scale(1) rotate(0deg)"}),console.log(e.$target)},startTrans:{x:0,y:0},listeners:{touchstart:function(e){e.stopPropagation(),e.preventDefault();var t=this;t.$el;t.startTrans=e.getTrans(t.$target)},touchmove:function(e){e.stopPropagation(),e.preventDefault();var t=this,i=e._event_cur_dis,n=t.startTrans;t.trigger("translate",[e,{x:n.x+i.x,y:n.y+i.y}])},touchend:function(e){e.stopPropagation(),e.preventDefault()}}})})(t.exports,t,e);e.__modules__.da488269=t.exports}(this),function(e){var t={id:"da48826a",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.Pinch=Fui.extend({config:{$target:null,initScale:1},initialize:function(){var e=this;e.event=new Fui.Event({hoster:e}),e.$target=e.get("$target"),e.$target.css({webkitTransform:"translate3d(0,0,0) scale(1) rotate(0deg)"}),console.log(e.$target)},startTrans:{x:0,y:0},getDis:function(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))},listeners:{pinch:null,touchstart:function(e){e.stopPropagation(),e.preventDefault();var t=this,i=(t.$el,e.$e.originalEvent.touches);if(2==i.length){var n=i[0],r=i[1];t.start_dis=t.getDis({x:n.clientX,y:n.clientY},{x:r.clientX,y:r.clientY})}},touchmove:function(e){e.stopPropagation(),e.preventDefault();var t=this,i=e.$e.originalEvent.touches;if(2==i.length){var n=i[0],r=i[1],a=t.cur_dis=t.getDis({x:n.clientX,y:n.clientY},{x:r.clientX,y:r.clientY});t.trigger("pinch",[e,a/t.start_dis])}},touchend:function(e){e.stopPropagation(),e.preventDefault()}}})})(t.exports,t,e);e.__modules__.da48826a=t.exports}(this),function(e){var t={id:"da48826b",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){i.__modules__.da485b50,i.__modules__.da485b51,i.__modules__.da488260,i.__modules__.da488262,i.__modules__.da488263,i.__modules__.da488264,i.__modules__.da488265,i.__modules__.da488266,i.__modules__.da488267,i.__modules__.da488268,i.__modules__.da488269,i.__modules__.da48826a})(t.exports,t,e);e.__modules__.da48826b=t.exports}(this),function(e){var t={id:"da48826c",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.Audio=function(e){var t=new Audio;t.loop=e.loop||!0,t.preload=e.preload||"auto",t.autoplay=e.autoplay===!0,t.isLoadedmetadata=!1,t.touchstart=!0,t.audio=!0,t.src=e.src||"",t.load();var i=e.stopCls||"stop",n=e.color||"black",r=e.onstop||function(){},a=e.onplay||function(){},o=$('<a class="app-music"><span class="icon icon-music"><b></b></span></a>');return e.cls?o=$('<a class="app-music '+e.cls+'"></a>'):o.children().css({color:n,borderColor:n}).children().css({backgroundColor:n}),e.autoplay||o.addClass(i),$("body").append(o),o.bind("touchend",function(e){e.stopPropagation(),e.preventDefault();var n=$(this);n.toggleClass(i),n.hasClass(i)?(t.pause(),r()):(t.play(),a())}),{play:function(){o.removeClass(i),t.play()},pause:function(){o.addClass(i),t.pause()}}}})(t.exports,t,e);e.__modules__.da48826c=t.exports}(this),function(e){var t={id:"da48826d",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.Button=Fui.extend({tagName:"button",config:{type:"default",text:"button",action:null,size:null},initialize:function(){this.render()},attributes:{type:"button"},className:function(){this.get("size");return["btn",this.getCls(this.get("type")),this.getCls(this.get("size"))]},getCls:function(e){return e?"btn-"+e:""},render:function(){this.$el.text(this.get("text"))},onClick:Fui.emptyFunc,listeners:{tap:null},events:{click:function(e){this.trigger("tap",[e]),e.stopPropagation()},typechanged:function(e,t){this.$el.removeClass(this.getCls(t)),this.$el.addClass(this.className())},textchanged:function(e,t){this.$el.text(e)}}})})(t.exports,t,e);e.__modules__.da48826d=t.exports}(this),function(e){var t={id:"da48826d",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.Button=Fui.extend({tagName:"button",config:{type:"default",text:"button",action:null,size:null},initialize:function(){this.render()},attributes:{type:"button"},className:function(){this.get("size");return["btn",this.getCls(this.get("type")),this.getCls(this.get("size"))]},getCls:function(e){return e?"btn-"+e:""},render:function(){this.$el.text(this.get("text"))},onClick:Fui.emptyFunc,listeners:{tap:null},events:{click:function(e){this.trigger("tap",[e]),e.stopPropagation()},typechanged:function(e,t){this.$el.removeClass(this.getCls(t)),this.$el.addClass(this.className())},textchanged:function(e,t){this.$el.text(e)}}})})(t.exports,t,e);e.__modules__.da48826d=t.exports}(this),function(e){var t={id:"da48826e",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){t.exports='<h3 class="fui-form-title">{{title}}</h3><ul class="fui-form-ele-list" data-fui-key="ele-list">    {{#range lines}}    <li class="fui-form-line"></li>    {{/range}}</ul>'})(t.exports,t,e);e.__modules__.da48826e=t.exports}(this),function(e){var t={id:"da48826f",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.Form=Fui.extend({className:function(){return["fui-form","fui-form-"+this.get("size")]},config:{title:"Form",size:"normal",width:null,tpl:i.__modules__.da48826e,grid:1,items:[]},listeners:{submit:null,init:null,titleChanged:function(e){this.$el.find(".fui-form-title").text(e)}},itemsMap:{},initialize:function(e){this.options=e,this.render(),this.trigger("init")},setData:function(e,t){var i=this,n=this.get("items");_.isObject(e)&&"undefined"==typeof t?_.each(e,function(e,t){i.setData(t,e)}):_.each(n,function(i){i.get("name")==e&&i.set("value",t)})},getData:function(){for(var e=this.get("items"),t={},i=0,n=e.length;n>i;i++){var r=e[i];if(r){var a=r.get("name");if(a){var o=r.getData();o&&(t[o.name]=o.value)}}}return t},upload:function(e){var t=this,i=t.get("items"),n=0,r=0;_.each(i,function(e){e.upload&&n++}),console.log("form",t.get("title"),"has",n,"items upload ..."),0==n&&e(!0),_.each(i,function(t){t.upload&&t.upload(function(t,i){return t?void(++r==n&&(console.log("item upload: ",i,t),e(!0))):e(!1)})})},getItem:function(e){for(var t=this,i=t.get("items"),n=0,r=i.length;r>n;n++)if(e==i[n].get("name"))return i[n]},validate:function(e){function t(t,i){t?r++:s.push(i),++a==o&&e(r==o,s)}var i=this,n=i.get("items"),r=0,a=0,o=n.length,s=[];_.each(n,function(e){_.isFunction(e.validate)?e.validate(t):e.noValidate?t(!0):console.log("FormItem has no validate :",e)})},_submit:function(){var e=this;this.validate(function(t){t?e.trigger("submit",[e.getData()]):0})},render:function(){var e=this,t=e.$el,i=e.get("items"),n=e.get("width"),r=Handlebars.compile(e.get("tpl"));if(!_.isArray(i))return error("Form need an array[Form.Element] for items");isNaN(n)||t.css("width",n);var a=0,o=e.get("grid");_.each(i,function(e){isNaN(e.grid)&&(e.grid=o),a+=e.grid}),t.html(r({title:e.get("title"),lines:Math.floor(a/o)})),a=0;var s=t.find("[data-fui-key=ele-list]"),l=s.children("li");_.each(i,function(t,n){var r=t.type;switch(t.type){case"Submit":t.listeners={tap:function(){e._submit()}};break;case"Cancel":t.listeners={tap:function(){e.trigger("cancel")}}}isNaN(t.grid)&&(t.grid=o);var s=Fui.Form[r],u=null;delete t.type,_.isFunction(s)&&(u=new s(t),i.splice(n,1,u),l.eq(Math.floor(a)).append(u.$el),a+=t.grid,t.grid<o&&u.$el.addClass("inline").css({width:100*t.grid/o+"%"}))})},events:{keyup:function(e){13==e.keyCode&&(this.$el.find("input").blur(),this.trigger("submit"))},click:function(e){e.stopPropagation()}}})})(t.exports,t,e);e.__modules__.da48826f=t.exports}(this),function(e){var t={id:"da488270",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){t.exports='<label class="fui-form-ele-label">{{title}}</label><ul class="fui-form-ele-list" data-fui-key="ele-list">    {{#range lines}}    <li class="fui-form-line"></li>    {{/range}}</ul>'})(t.exports,t,e);e.__modules__.da488270=t.exports}(this),function(e){var t={id:"da488271",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.Form.Group=Fui.Form.extend({className:function(){return["fui-form-group"]},config:{tpl:i.__modules__.da488270,name:null,value:null},listeners:{valueChanged:function(e){this.setData(e)}},upload:function(e){var t=this,i=t.get("items"),n=t.get("title"),r=0,a=0;_.each(i,function(e){e.upload&&r++}),console.log("group",t.get("title"),"has",r,"items upload ..."),0==r&&e(!0,n),_.each(i,function(t){t.upload&&t.upload(function(t,i){return t?void(++a==r&&(console.log("item upload: ",i,t),e(!0,n))):e(!1,n)})})},getData:function(){return{name:this.get("name"),value:this["super"].getData.call(this)}}})})(t.exports,t,e);e.__modules__.da488271=t.exports}(this),function(e){var t={id:"da488272",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.Form.Element=Fui.extend({className:"fui-form-ele",config:{name:null,value:null,label:null,withErrMsg:!1,grid:0},initialize:function(){},getData:function(){return{name:this.get("name"),value:this.get("value")}},validate:function(e){e(!0)}})})(t.exports,t,e);e.__modules__.da488272=t.exports}(this),function(e){var t={id:"da488273",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){t.exports='<div class="fui-form-ele fui-form-text">    {{#if label}}    <label class="fui-form-ele-label">{{label}}</label>    {{/if}}    <div class="fui-form-ele-container">        <!--{{#if label}}-->        <!--<div class="left">-->            <!--<label>{{label}}</label>-->        <!--</div>-->        <!--{{/if}}-->        <div class="right">            <label class="fui-form-field">                {{#if icon}}                <span class="input-icon icon icon-{{icon}}"></span>                {{else}}                <span class="input-icon-null"></span>                {{/if}}                <span class="input-wrapper">                    {{#if disabled}}                    <input type="{{type}}" disabled="disabled" value="{{value}}"/>                    {{else}}                    <input type="{{type}}" placeholder="{{placeholder}}" value="{{value}}"/>                    {{/if}}                </span>                <span class="fui-form-field-label">{{fieldLabel}}</span>            </label>        </div>    </div>    <div class="fui-form-ele-description">{{description}}</div>    <div class="fui-form-ele-error-msg"></div></div>'})(t.exports,t,e);e.__modules__.da488273=t.exports}(this),function(e){var t={id:"da488274",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.Form.Text=Fui.Form.Element.extend({config:{type:"text",label:null,icon:null,textAlign:"left",fieldLabel:null,tpl:i.__modules__.da488273,placeholder:"",description:null,value:null,focusCls:"focus",hidden:!1,disabled:!1},initialize:function(){var e=this,t=e.get("label"),i=e.get("placeholder"),n=Handlebars.compile(e.get("tpl"));e.$el.html(n({type:e.get("type"),label:t,icon:e.get("icon"),placeholder:i,description:e.get("description"),fieldLabel:e.get("fieldLabel"),disabled:e.get("disabled"),hidden:e.get("hidden"),value:e.get("value")})),e.get("hidden")&&this.$el.hide();var r=e.$input=e.$el.find("input");r.css({textAlign:e.get("textAlign")}),e.$field=e.$el.find(".fui-form-field"),e.$err_msg=e.$el.find(".fui-form-ele-error-msg");var a=e.get("value");null!=a&&"undefined"!=typeof a&&r.val(a),_.isFunction(this.render)&&this.render()},setErrorMsg:function(e){e?(this.$field.addClass("error"),this.$err_msg.text(e)):(this.$field.removeClass("error"),this.$err_msg.text(""))},listeners:{hiddenChanged:function(e){e?this.$el.show():this.$el.hide()},valueChanged:function(e,t){this.$input.val(e),this.trigger("change",[e])},focus:function(){this.$input.focus()},blue:function(){this.$input.blur()},change:null},events:{"focus input":function(){this.get("disabled")||this.$field.addClass(this.get("focusCls"))},"blur input":function(){var e=this;this.get("disabled")||(this.set("value",this.$input.val()),this.$field.removeClass(this.get("focusCls")),this.validate(function(t,i){t?(e.$field.removeClass("error"),e.$err_msg.text("")):(e.$field.addClass("error"),e.$err_msg.text(i))}))}},getData:function(){return{name:this.get("name"),value:this.get("value")}}})})(t.exports,t,e);e.__modules__.da488274=t.exports}(this),function(e){var t={id:"da488275",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){t.exports='<div class="fui-form-ele fui-form-textarea">    {{#if label}}    <label class="fui-form-ele-label">{{label}}</label>    {{/if}}    <div class="fui-form-ele-container">        <div class="right">            <label class="fui-form-field">                <span class="input-wrapper">                    <textarea placeholder="{{placeholder}}" rows="{{rows}}">{{text}}</textarea>                </span>                <span class="fui-form-field-label"></span>            </label>        </div>    </div>    <div class="fui-form-ele-description"></div>    <div class="fui-form-ele-error-msg"></div></div>'})(t.exports,t,e);e.__modules__.da488275=t.exports}(this),function(e){var t={id:"da488276",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.Form.TextArea=Fui.Form.Element.extend({config:{placeholder:"",rows:5},initialize:function(){var e=this,t=i.__modules__.da488275;e.$el.html(Handlebars.compile(t)({label:e.get("label"),text:e.get("value"),placeholder:e.get("placeholder"),rows:e.get("rows")})),e.$field=e.$el.find(".fui-form-field"),e.$input=e.$el.find("textarea")},getData:function(){return{name:this.get("name"),value:this.get("value")}},listeners:{valueChanged:function(e){this.$input.val(e)},change:null},events:{"focus textarea":function(){this.$field.addClass("focus")},"blur textarea":function(){this.set("value",this.$input.val()),this.$field.removeClass("focus")},"input textarea":function(){this.trigger("change",[this.$input.val()])}}})})(t.exports,t,e);e.__modules__.da488276=t.exports}(this),function(e){var t={id:"da488277",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){t.exports='<div class="fui-form-ele fui-form-article-list">    <label class="fui-form-ele-label">{{label}}</label>    <div class="fui-form-ele-container">        <div class="right">            <div class="article-list"></div>            <div class="article-tools"></div>        </div>    </div>    <div class="fui-form-ele-description"></div>    <div class="fui-form-ele-error-msg"></div></div>'})(t.exports,t,e);e.__modules__.da488277=t.exports}(this),function(e){var t={id:"da488278",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.Form.TitleContent=Fui.Form.Element.extend({config:{type:"TitleContent",title:null,content:null,titlePlaceholder:null,descPlaceholder:null},index:-1,listeners:{del:null},initialize:function(){var e=this,t=e.$el,i=e.title=new Fui.Form.Text({label:e.get("label"),value:e.get("title"),placeholder:e.get("titlePlaceholder")});i.$el.find(".fui-form-ele-error-msg").remove(),i.$el.find(".fui-form-ele-label").append('<a href="javascript:void(0)" style="color:white;float:right;"></a>');var n=e.desc=new Fui.Form.TextArea({placeholder:e.get("descPlaceholder"),value:e.get("content")});t.append(i.$el),t.append(n.$el)},events:{"click .fui-form-ele-label a":function(){this.trigger("del"),this.remove()}},getData:function(){return{name:this.get("name"),value:{title:this.title.getData().value,content:this.desc.getData().value}}}}),Fui.Form.TitleContentList=Fui.Form.Element.extend({config:{type:"TitleContentList",tpl:i.__modules__.da488277,titlePlaceholder:"",descPlaceholder:"",article_list:null},listeners:{valueChanged:function(e){var t=this;_.isArray(e)&&_.each(e,function(e){t.addLine(e)})}},getData:function(){var e=[];return _.each(this.get("article_list"),function(t){e.push(t.getData().value)}),{name:this.get("name"),value:e}},initialize:function(){var e=this,t=e.$el,i=Handlebars.compile(e.get("tpl"));e.set("article_list",[]),t.append(i({label:e.get("label")})),e.$list=t.find(".article-list");var n=e.$tools=t.find(".article-tools"),r=e.addBtn=new Fui.Form.Button({text:"",type:"primary",size:"xs",css:{marginBottom:0},listeners:{tap:function(){e.addLine()}}});n.append(r.$el)},addLine:function(e){var t,i,n=this;e&&(t=e.title,i=e.content);var r=new Fui.Form.TitleContent({label:":",titlePlaceholder:n.get("titlePlaceholder"),title:t,content:i,descPlaceholder:n.get("descPlaceholder"),listeners:{del:function(){n.get("article_list").splice(this.index,1)}}});this.get("article_list").push(r),r.index=this.$list.children().length,this.$list.append(r.$el)}})})(t.exports,t,e);e.__modules__.da488278=t.exports}(this),function(e){var t={id:"da488279",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.Form.Mail=Fui.Form.Text.extend({config:{icon:"mail2",placeholder:"",errMsg:""},validateUsed:function(e){e(!0)},validate:function(e){/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/g.test(this.get("value"))?this.validateUsed(e):(this.setErrorMsg(this.get("errMsg")),e(!1,this.get("errMsg")))}})})(t.exports,t,e);e.__modules__.da488279=t.exports}(this),function(e){var t={id:"da48827a",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.Form.Password=Fui.Form.Text.extend({ftype:"Fui.Form.Password",config:{type:"password",placeholder:"",icon:"key",errMsg:"6"},validate:function(e){var t=this.get("value"),i="";!t||t.length<6?(i=this.get("errMsg"),e(!1,i)):e(!0),this.setErrorMsg(i)}})})(t.exports,t,e);e.__modules__.da48827a=t.exports}(this),function(e){var t={id:"da48827b",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){t.exports='{{#if icon}}<div class="btn btn-{{type}} btn-{{size}} fui-form-field icon icon-{{icon}}"></div>{{else}}<div class="btn btn-{{type}} btn-{{size}} fui-form-field">{{text}}</div>{{/if}}'})(t.exports,t,e);e.__modules__.da48827b=t.exports}(this),function(e){var t={id:"da48827c",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.Form.Button=Fui.Form.Element.extend({className:function(){return["fui-form-ele fui-form-button"]},noValidate:!0,config:{type:"primary",text:"Button",icon:null,size:null,inline:!0,tpl:i.__modules__.da48827b},listeners:{tap:null,textChanged:function(e){this.$field.text(e)},iconChanged:function(e,t){this.$field.removeClass("icon-"+t).addClass("icon-"+e)}},getTplData:function(){return{type:this.get("type"),text:this.get("text"),size:this.get("size"),icon:this.get("icon")}},events:{"click .fui-form-field":function(){this.trigger("tap")}},initialize:function(){var e=this,t=e.get("tpl");e.$el.append(Handlebars.compile(t)(e.getTplData())),e.$field=e.$el.find(".fui-form-field"),e.get("inline")===!1&&e.$el.css("display","block")}})})(t.exports,t,e);e.__modules__.da48827c=t.exports}(this),function(e){var t={id:"da48827d",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.Form.Submit1=Fui.Button.extend({className:function(){return this.callParent("className").concat("fui-form-button ")},noValidate:!0,config:{type:"primary"}}),Fui.Form.Submit=Fui.Form.Button.extend({config:{type:"primary"},listeners:{tap:null}})})(t.exports,t,e);e.__modules__.da48827d=t.exports}(this),function(e){var t={id:"da48827e",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.Form.Cancel1=Fui.Button.extend({className:function(){return this.callParent("className").concat("fui-form-button")},noValidate:!0,config:{}}),Fui.Form.Cancel=Fui.Form.Button.extend({config:{type:"default"},listeners:{tap:null}})})(t.exports,t,e);e.__modules__.da48827e=t.exports}(this),function(e){var t={id:"da48827f",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){t.exports='<div class="fui-form-ele fui-form-file-picker">    {{#if label}}    <label class="fui-form-ele-label">{{label}}</label>    {{/if}}    <div class="fui-form-ele-container">        <div class="right">            <input type="file" accept="{{mimeType}}"/>            <div class="content"></div>            <div class="tools"></div>        </div>    </div>    <div class="fui-form-ele-description"></div>    {{#if withErrMsg}}    <div class="fui-form-ele-error-msg"></div>    {{/if}}</div>'})(t.exports,t,e);e.__modules__.da48827f=t.exports}(this),function(e){var t={id:"da488280",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.Form.FilePicker=Fui.Form.Element.extend({config:{label:"",mimeType:"*",tpl:i.__modules__.da48827f},initialize:function(){var e=this,t=(e.get("label"),e.$el),i=Handlebars.compile(e.get("tpl"));t.html(i({label:e.get("label"),mimeType:e.get("mimeType")}));var n=(e.$content=t.find(".content"),e.$input=t.find("input[type=file]")),r=e.$tools=t.find(".tools"),a=e.selBtn=new Fui.Form.Button({size:"xs",text:"",type:"primary",css:{marginRight:10},listeners:{tap:function(){n.click()}}}),o=e.cancelBtn=new Fui.Form.Button({size:"xs",text:"",type:"default",listeners:{tap:function(){n.val(null),e.trigger("clear"),e.resetBtns()}}});o.hide(),r.append([a.$el,o.$el]),e.render()},ensureBtns:function(){this.selBtn.set("text",""),this.cancelBtn.show()},resetBtns:function(){this.selBtn.set("text",""),this.cancelBtn.hide()},render:function(){},listeners:{select:null,clear:null},events:{"change input[type=file]":function(e){var t=this;this.trigger("select",[e,function(){t.ensureBtns()},function(){t.resetBtns()}])}}})})(t.exports,t,e);e.__modules__.da488280=t.exports}(this),function(e){var t={id:"da488281",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.Form.AudioPicker=Fui.Form.FilePicker.extend({config:{mimeType:"audio/x-mpeg",file:null},audio:null,render:function(){var e=this,t=e.$content,i=e.playBtn=new Fui.Form.Button({icon:"play3",size:"sm",listeners:{tap:function(){"play3"==this.get("icon")?(this.set("icon","pause2"),e.play()):(this.set("icon","play3"),e.pause())}}});i.hide(),t.append([i.$el])},play:function(){var e=this.audio;e&&e.play()},pause:function(){var e=this.audio;e&&e.pause()},listeners:{clear:function(){this.playBtn.hide(),this.set("file",null),this.audio.pause(),this.audio=null},select:function(e,t,i){var n=this,r=e.target.files[0];if(r){var a=URL.createObjectURL(r);n.set("file",r);var o=n.audio=new Audio;o.autoplay=!1,o.isLoadedmetadata=!1,o.touchstart=!0,o.preload="auto",o.loop=!0,o.audio=!0,o.src=a,n.playBtn.show(),t()}else n.playBtn.hide(),i()}}})})(t.exports,t,e);e.__modules__.da488281=t.exports}(this),function(e){var t={id:"da488282",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){t.exports='<div class="fui-imagecutter">    <div class="btns">        <a class="btn btn-default cancel"></a>        <a class="btn btn-primary submit"></a>    </div>    <div class="event"></div>    <div class="box">        {{#if withIphone4}}        <div class="b face iphone4"></div>        {{else}}        <div class="b face"></div>        {{/if}}        <div class="b top"></div>        <div class="b left"></div>        <div class="b right"></div>        <div class="b bottom"></div>    </div></div>'})(t.exports,t,e);e.__modules__.da488282=t.exports}(this),function(e){var t={id:"da488283",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.ImageCutter=Fui.extend({config:{width:800,height:600,targetWidth:640,targetHeight:1008,withIphone4:!1,file:null,tpl:i.__modules__.da488282},left:0,top:0,ttw:0,tth:0,naturalWidth:0,naturalHeight:0,initialize:function(){var e=this,t=e.get("file"),i=Handlebars.compile(e.get("tpl"))({withIphone4:e.get("withIphone4")}),n=e.$el=$(i);if(e.el=n[0],t)if(t instanceof Image)e.$box=n.find(".box"),e.$event=n.find(".event"),e.$box.append(t),e.$img=$(t),e.render();else if(t instanceof File){var r=URL.createObjectURL(t),a=new Image;a.src=r,a.onload=function(){e.$box=n.find(".box"),e.$event=n.find(".event"),e.$box.append(a),e.$img=$(a),e.render()},a.onerror=function(){console.log("image load error")}}},render:function(){var e=this,t=e.get("width"),i=e.$img,n=e.get("height"),r=e.get("targetWidth"),a=e.get("targetHeight");e.$el.css({width:t,height:n});var o=e.$img[0],s=e.naturalWidth=o.naturalWidth,l=e.naturalHeight=o.naturalHeight,u=t-(s>>1)>>1,c=n-(l>>1)>>1;e.$img.css({width:e.naturalWidth>>1,left:u,top:c}),e.left=u,e.top=c;var d=n-(a>>1)>>1,f=t-(r>>1)>>1;e.$box.find(".top").css({top:0,left:0,right:0,height:d}),e.$box.find(".left").css({top:d,left:0,bottom:d,width:f}),e.$box.find(".right").css({top:d,right:0,bottom:d,width:f}),e.$box.find(".bottom").css({left:0,right:0,bottom:0,height:d}),e.$box.find(".face").css({left:f,top:d,width:r>>1,height:a>>1}),e.ttw=f,e.tth=d;var h=new Fui.View({el:e.$event[0],listeners:{touchstart:function(t){t.$e.target===e.$event[0]&&(e.left=parseInt(i.css("left")),e.top=parseInt(i.css("top")))},touchmove:function(i){if(i.$e.target===e.$event[0]){var r=e.left+i._event_cur_dis.x,a=e.top+i._event_cur_dis.y,o=f,u=-((s>>1)+f-t);r>o?r=o:u>r&&(r=u);var c=d,h=-((l>>1)+d-n);a>c?a=c:h>a&&(a=h),e.$img.css({left:r,top:a})}},touchend:function(t){t.$e.target!==e.$event[0]}}});e.event=new Fui.Event({hoster:h})},events:{"click .submit":function(e){e.stopPropagation();var t=this,i=t.$img,n=parseInt(i.css("left")),r=parseInt(i.css("top")),a=t.get("targetWidth"),o=t.get("targetHeight");n=-n+t.ttw<<1,r=-r+t.tth<<1;var s=document.createElement("canvas");s.width=a,s.height=o;var l=s.getContext("2d");l.save(),l.drawImage(t.$img[0],n,r,a,o,0,0,a,o),l.restore();for(var u="image/jpeg",c=s.toDataURL(u).split(",")[1],d=atob(c),f=new Uint8Array(d.length),h=0,p=d.length;p>h;h++)f[h]=d.charCodeAt(h);this.trigger("submit",[new Blob([f.buffer],{type:u}),c])},"click .cancel":function(){this.trigger("cancel")}},listeners:{}})})(t.exports,t,e);e.__modules__.da488283=t.exports}(this),function(e){var t={id:"da488284",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){t.exports='<div class="pack">    <div class="toolbar">        <a href="javascript:void(0)" class="btn btn-danger close"></a>    </div>    <div class="item">        <h3></h3>        <p>            {{#range 10}}            <img src="http://www.36ap.com/img/example-album/bg/100H/{{this}}.jpg"/>            {{/range}}        </p>    </div>    <div class="item">        <h3></h3>        <p>            {{#range 1}}            <img src="http://www.36ap.com/img/example-album/fg/100H/{{this}}.png"/>            {{/range}}        </p>    </div></div>'})(t.exports,t,e);e.__modules__.da488284=t.exports}(this),function(e){var t={id:"da488285",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){t.exports='<div class="fui-form-ele fui-form-image-picker">    <!--<div class="left">-->        <!--<label>{{label}}</label>-->    <!--</div>-->    <!--<div class="right">-->        <!--<input type="file" accept="image/*"/>-->    <!--</div>-->    {{#if label}}    <label class="fui-form-ele-label">{{label}}</label>    {{/if}}    <div class="fui-form-ele-container">        <!--{{#if label}}-->        <!--<div class="left">-->        <!--<label>{{label}}</label>-->        <!--</div>-->        <!--{{/if}}-->        <div class="right">            <input type="file" accept="{{mimeType}}"/>            <div class="img">            </div>            <!--<input type="text" style="display: none;"/>-->        </div>    </div>    <div class="fui-form-ele-description"></div>    {{#if withErrMsg}}    <div class="fui-form-ele-error-msg"></div>    {{/if}}</div>';
})(t.exports,t,e);e.__modules__.da488285=t.exports}(this),function(e){var t={id:"da488286",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.AlbumPicker=Fui.extend({className:"fui-album-picker",maxLH:400,tpl:i.__modules__.da488284,config:{imgList:null},addImg:function(){var e=this;e.$el.children().last()},addLine:function(){this.$el.append('<div class="line"></div>')},remove:function(){var e=this;this.$pop&&(this.$pop.removeClass("show"),setTimeout(function(){e.$pop.remove()},500))},popup:function(){var e=this.$pop=$('<div class="fui-popup scale"></div>');return e.append(this.$el),$("body").append(e),e.addClass("show"),this},listeners:{select:null},events:{"click img":function(e){var t=this,i=e.target.src;i=i.replace(/\/100H\//,"/origin/");var n=new Image;n.src=i,n.onload=function(){t.trigger("select",[this])},n.onerror=function(){Fui.Error("",i),t.remove()}},"click .close":function(){this.remove()}},initialize:function(){var e=this,t=e.$el;e.get("imgList")||[];t.html(Handlebars.compile(e.tpl)())}}),Fui.Form.ImagePicker=Fui.Form.Element.extend({config:{label:"Image Picker",file:null,maxWidth:640,maxHeight:1008,withIphone4Hint:!0,mimeType:"image/*",tpl:i.__modules__.da488285},initialize1:function(e){this.render()},initialize:function(){var e=this,t=e.get("label"),i=e.$el,n=Handlebars.compile(e.get("tpl"));e.$el.html(n({label:t,mimeType:e.get("mimeType"),withErrMsg:e.get("withErrMsg")})),e.$desc=i.find(".fui-form-ele-description");var r=e.$right=e.$el.find(".right"),a=e.$input=e.$el.find("input[type=file]");e.$hidden=i.find("input[type=hidden]"),a.hide();var o=e.selBtn=new Fui.Form.Button({type:"primary",size:"xs",text:"",css:{marginTop:10,marginRight:10},listeners:{tap:function(){a[0].click()}}}),s=e.clearBtn=new Fui.Form.Button({type:"default",size:"xs",text:"",css:{marginTop:10,marginRight:10},listeners:{tap:function(){e.$input.val(""),e.set("value",null),this.hide(),o.set("text",""),e.$right.children(".img").empty(),e.trigger("clear")}}}),l=e.selTestBtn=new Fui.Form.Button({type:"link",size:"xs",text:"",css:{marginTop:10},listeners:{tap:function(){new Fui.AlbumPicker({listeners:{select:function(t){e.onImgLoad(t,t),this.remove()}}}).popup()}}});s.hide(),r.append(o.$el),r.append(s.$el),r.append(l.$el);var u=e.get("value");u&&setTimeout(function(){e.set("value",u)},10)},getData:function(){return{name:this.get("name"),value:this.get("value")}},upload:function(e){var t=this,i=t.get("file"),n=t.get("label");return i?void new Fui.FileUpload({file:i,listeners:{end:function(i,r){console.log("upload ",t.get("name"),i," end"),t.set("value",i),e(!0,n)},error:function(){e(!1,n)}}}):e(!0,n)},setImg:function(e){var t=this;t.trigger("change",[e]);var i=new Image;i.src=e,i.onload=function(){t.selBtn.set({text:""}),t.clearBtn.show(),t.$right.children(".img").empty().append(this)},i.onerror=function(){Fui.Error(""),t.selBtn.set({text:""}),t.clearBtn.hide()}},onImgLoad:function(e,t){var i=this,n=e.naturalWidth,r=e.naturalHeight,a=i.get("maxWidth"),o=i.get("maxHeight");if(a>n||o>r)return Fui.Error(" "+a+" X "+o);if(n==a&&r==o)i.set("value",e.src),i.set("file",t);else var s=new Fui.ImageCutter({file:t,targetWidth:i.get("maxWidth"),targetHeight:i.get("maxHeight"),withIphone4:i.get("withIphone4Hint"),listeners:{submit:function(e,t){i.set("value",URL.createObjectURL(e)),i.set("file",t),l.hide()},cancel:function(){l.hide()}}}),l=new Fui.Popup({lock:!0}).popView(s)},listeners:{valueChanged:function(e,t){this.set("file",null),this.setImg(e)},change:null,clear:null,focus:function(){this.$input[0].click()}},events:{"blur input[type=file]":function(){console.log(arguments)},"change input[type=file]":function(e){var t=this,i=e.target.files[0];if(i){var n=URL.createObjectURL(i),r=new Image;r.src=n,r.onload=function(){t.onImgLoad(this,i)}}}}})})(t.exports,t,e);e.__modules__.da488286=t.exports}(this),function(e){var t={id:"da488287",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){t.exports='<div class="fui-form-ele fui-form-image-list-picker">    <label class="fui-form-ele-label">{{label}}</label>    <div class="fui-form-ele-container">        <div class="right">            <div class="image-list"></div>            <input type="file" multiple="multiple" accept="image/png, image/jpeg" />            <div class="image-tools"></div>        </div>    </div>    <div class="fui-form-ele-description"></div>    <div class="fui-form-ele-error-msg"></div></div>'})(t.exports,t,e);e.__modules__.da488287=t.exports}(this),function(e){var t={id:"da488288",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){t.exports='<div class="item" data-form-image-list-item="{{index}}">    <div class="img">    </div></div>'})(t.exports,t,e);e.__modules__.da488288=t.exports}(this),function(e){var t={id:"da488289",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.Form.ImageListPicker=Fui.Form.Element.extend({config:{label:"",listTpl:i.__modules__.da488287,itemTpl:i.__modules__.da488288},index:0,filesMap:{},initialize:function(){var e=this,t=e.$el,i=Handlebars.compile(e.get("listTpl"));e.itemTpl=Handlebars.compile(e.get("itemTpl"));t.append(i({label:e.get("label")}));var n=(e.$imgList=t.find(".image-list"),e.$imgTools=t.find(".image-tools")),r=e.$input=t.find("input"),a=new Fui.Button({type:"primary",size:"xs",text:"",listeners:{tap:function(){setTimeout(function(){r[0].click()},100)}}});n.append(a.$el)},getData:function(){return{name:this.get("name"),value:this.getImgUrls()}},getImgUrls:function(){var e=this,t=this.$imgList.find(".item .img img"),i=[];return t.each(function(t,n){e.filesMap.hasOwnProperty(n.src)||i.push(n.src)}),i},upload:function(e){var t=this,i=t.filesMap,n=this.$imgList.find(".item .img img"),r=t.get("label"),a=[];n.each(function(e,t){i.hasOwnProperty(t.src)&&i[t.src]instanceof File&&a.push(t)});var o=0;0==a.length&&e(!0,r),_.each(a,function(n,s){var l=i[n.src];if(l instanceof File){new Fui.FileUpload({file:l,name:n,listeners:{end:function(n,l){console.log("upload ",t.get("name"),n,s," end"),delete i[l.src],l.src=n,++o==a.length&&e(!0,r)},error:function(){console.error("image list picker upload error ..."),e(!1,r)}}})}})},addImage:function(e){var t=this,i=$(t.itemTpl({index:t.index++}));e.file&&(t.filesMap[e.src]=e.file),i.children(".img").append('<img src="'+e.src+'"/>');var n=t.clearBtn=new Fui.Button({type:"default",size:"xs",text:"",src:e.src,listeners:{tap:function(){this.$el.parent().remove(),delete t.filesMap[this.src]}}});i.append(n.$el),t.$imgList.append(i)},listeners:{change:null,valueChanged:function(e){var t=this;_.isArray(e)||(e=[e]),_.each(e,function(e){var i=new Image;i.src=e,i.onload=function(){t.addImage(this)}})}},events:{"change input":function(e){var t=this,i=e.target.files;_.each(i,function(i,n){var r=URL.createObjectURL(i),a=new Image;a.index=$(e.target).attr("data-form-image-list-item"),a.src=r,a.file=i,a.onload=function(){t.addImage(this),t.trigger("change",[e,this.src,this.index])}})}}})})(t.exports,t,e);e.__modules__.da488289=t.exports}(this),function(e){var t={id:"da48828a",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){t.exports='<div class="fui-form-ele fui-form-select">    {{#if label}}    <label class="fui-form-ele-label">{{label}}</label>    {{/if}}    <div class="fui-form-ele-container">        <!--{{#if label}}-->        <!--<div class="left">-->            <!--<label>{{label}}</label>-->        <!--</div>-->        <!--{{/if}}-->        <div class="right">            <a href="#" class="holder" data-fui-key="sel-holder"></a>            <ul class="sel-list" data-fui-key="sel-list">                {{#each data}}                <li class="sel">                    <a href="#" data-value="{{value}}">{{text}}</a>                </li>                {{/each}}            </ul>        </div>    </div>    <!--<div class="fui-form-ele-description"></div>-->    <!--<div class="fui-form-ele-error-msg"></div>--></div>'})(t.exports,t,e);e.__modules__.da48828a=t.exports}(this),function(e){var t={id:"da48828b",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.Form.Select=Fui.Form.Element.extend({config:{value:null,label:"Select : ",data:[],tpl:i.__modules__.da48828a},initialize:function(){this.render()},render:function(){var e=this,t=e.get("label"),i=e.get("data"),n=Handlebars.compile(e.get("tpl"));e.$el.html(n({label:t,data:i})),e.$list=e.$el.find("[data-fui-key=sel-list]"),e.$holder=e.$el.find("[data-fui-key=sel-holder]"),_.each(i,function(t,i){t.checked===!0&&e.set("value",t.value)})},openSelList:function(){this.$list.show(),this.$holder.addClass("on")},closeSelList:function(){this.$list.hide(),this.$holder.removeClass("on")},getData:function(){return{name:this.get("name"),value:this.get("value")}},onSelChange:Fui.emptyFunc,listeners:{change:Fui.emptyFunc,valueChanged:function(e,t){var i=this;_.each(this.get("data"),function(n,r){return n.value==e?(i.$holder.text(n.text),i.trigger("change",[e,t]),!1):void 0})}},events:{"mouseup [data-fui-key=sel-holder]":function(e){this.$holder.hasClass("on")?this.closeSelList():this.openSelList()},"click [data-fui-key=sel-list]>li>a":function(e){this.set("value",$(e.target).attr("data-value")),this.closeSelList()}}})})(t.exports,t,e);e.__modules__.da48828b=t.exports}(this),function(e){var t={id:"da48828c",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){t.exports='<div class="fui-form-checkbox">    {{#if label}}    <label class="fui-form-ele-label">{{label}}</label>    {{/if}}    <div class="fui-form-ele-container">        <div class="right">            <button class="fui-form-field">                <span class="fui-form-checkbox-icon">                    <span data-form-checkbox-checkmark class="fui-form-checkbox-checkmark icon"></span>                </span>                <span class="fui-form-checkbox-text">{{text}}</span>            </button>        </div>    </div></div>'})(t.exports,t,e);e.__modules__.da48828c=t.exports}(this),function(e){var t={id:"da48828d",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.Form.CheckBox=Fui.Form.Element.extend({config:{checked:!1,text:null,tpl:i.__modules__.da48828c},noValidate:!0,listeners:{change:null,checkedChanged:function(e){var t=this.$checkmark;e?t.addClass("icon-checkmark"):t.removeClass("icon-checkmark"),this.set("value",e),this.trigger("change")}},events:{"click button":function(){this.set("checked",!this.get("checked"))}},getData:function(){return{name:this.get("name"),value:this.get("checked")}},initialize:function(){var e=this,t=e.get("text"),i=e.$el,n=e.get("label"),r=Handlebars.compile(e.get("tpl")),a=e.get("checked");e.$el.html(r({text:t,checked:a,label:n})),e.$checkmark=i.find("[data-form-checkbox-checkmark]"),setTimeout(function(){e.set("checked",a)},10)}})})(t.exports,t,e);e.__modules__.da48828d=t.exports}(this),function(e){var t={id:"da48828e",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){t.exports='<div class="fui-form-link">    {{#if label}}    <label class="fui-form-ele-label">{{label}}</label>    {{/if}}    <div class="fui-form-ele-container">        <div class="right" data-form-link-a>            <a href="{{link}}" target="{{target}}" class="fui-form-link-a">{{text}}</a>        </div>    </div>    <!--<div class="fui-form-ele-error-msg"></div>--></div>'})(t.exports,t,e);e.__modules__.da48828e=t.exports}(this),function(e){var t={id:"da48828f",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.Form.Link=Fui.Form.Element.extend({config:{link:null,text:null,textAlign:"left",target:"_blank",tpl:i.__modules__.da48828e},listeners:{},events:{"click button":function(){this.set("checked",!this.get("checked"))}},initialize:function(){var e=this,t=e.get("text"),i=(e.$el,e.get("label")),n=e.get("link"),r=Handlebars.compile(e.get("tpl"));e.$el.html(r({target:e.get("target"),text:t,label:i,link:n})),e.$el.find("[data-form-link-a]").css({textAlign:e.get("textAlign")})}})})(t.exports,t,e);e.__modules__.da48828f=t.exports}(this),function(e){var t={id:"da488290",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){t.exports='<div class="fui-form-link">    <div class="fui-form-ele-container">        <div class="right" data-form-link-a>            {{#if color}}            <a class="fui-form-string-a" style="color:{{color}};">{{{text}}}</a>            {{else}}            <a class="fui-form-string-a">{{{text}}}</a>            {{/if}}        </div>    </div>    <div class="fui-form-ele-error-msg"></div></div>'})(t.exports,t,e);e.__modules__.da488290=t.exports}(this),function(e){var t={id:"da488291",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.Form.String=Fui.Form.Element.extend({config:{text:null,color:null,textAlign:"left",tpl:i.__modules__.da488290},listeners:{},initialize:function(){var e=this,t=e.get("text"),i=(e.$el,e.get("label")),n=(e.get("link"),Handlebars.compile(e.get("tpl")));e.$el.html(n({text:t,label:i,color:e.get("color")})),e.$el.find("[data-form-string-a]").css({textAlign:e.get("textAlign")})}})})(t.exports,t,e);e.__modules__.da488291=t.exports}(this),function(e){var t={id:"da488292",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.Form.Hidden=Fui.Form.Element.extend({initialize:function(){this.$el.hide()}})})(t.exports,t,e);e.__modules__.da488292=t.exports}(this),function(e){var t={id:"da488293",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){i.__modules__.da48826d,i.__modules__.da48826f,i.__modules__.da488271,i.__modules__.da488272,i.__modules__.da488274,i.__modules__.da488276,i.__modules__.da488278,i.__modules__.da488279,i.__modules__.da48827a,i.__modules__.da48827c,i.__modules__.da48827d,i.__modules__.da48827e,i.__modules__.da488280,i.__modules__.da488281,i.__modules__.da488283,i.__modules__.da488286,i.__modules__.da488289,i.__modules__.da48828b,i.__modules__.da48828d,i.__modules__.da48828f,i.__modules__.da488291,i.__modules__.da488292})(t.exports,t,e);e.__modules__.da488293=t.exports}(this),function(e){var t={id:"da488294",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){t.exports='<div class="video-pack" data-tap1="popup-close">    <a data-tap="popup-close" class="close"></a>    <div id="popup-video-player" class="i">    </div></div>'})(t.exports,t,e);e.__modules__.da488294=t.exports}(this),function(e){var t={id:"da488295",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.Loading=function(e,t){_.defaults(t,{});new Fui.View({initialize:function(){},events:{}})},Fui.Alert=function(e,t){_.defaults(t,{width:320});var i=new Fui.View({initialize:function(){var t=this,i=t.$el;i.addClass("fui-alert"),i.html(['<div class="head"><span class="icon"></span><a class="icon icon-close close"></a></div>',"<p>"+e+"</p>",'<div class="ctrl"><a class="btn btn-primary btn-sm confirm"></a></div>'])},events:{"click .close":function(){i.addClass("hide")},"click .confirm":function(){i.addClass("hide")}}});$("body").append(i.$el)};var n=Fui.extend({className:function(){return"fui-info "+this.get("type")},config:{msg:"",top:50,type:"info",tpl:'<p>{{msg}}</p><a href="javascript:void(0)" class="close icon icon-close"></a>'},initialize:function(){var e=this.get("msg"),t=this;_.isArray(e)||(e=[e]);var i=Handlebars.compile(this.get("tpl"))({msg:""+e.join(",")});this.$el.css({top:this.get("top")}).append(i),$("body").append(this.$el),setTimeout(function(){t.show()},10),setTimeout(function(){t.hide()},3e3)},show:function(){this.$el.addClass("show")},hide:function(){var e=this;this.$el.addClass("hide").one("webkitTransitionEnd",function(){e.remove()})},events:{"click a.close":function(){var e=this;e.hide()}}});Fui.Error=function(e){Fui.Info(e,{type:"error"})},Fui.Info=function(e,t){t||(t={}),_.defaults(t,{msg:e,top:50,type:"info"}),new n(t)},Fui.Popup=Fui.extend({className:function(){return["fui-popup",this.get("theme"),"hide"]},config:{theme:null,form:null,type:"scale",videoTpl:i.__modules__.da488294,width:640,whRatio:16/9,innerView:null,audio:null,lock:!1},listeners:{innerViewChanged:function(e){e&&(e.popup=this)},gesture:function(e,t,i){var n=this.get("innerView");n instanceof Fui&&n.trigger("gesture",[e,t,i])}},initialize:function(){var e=this,t=e.get("type");e.$el.addClass(t),e.$el.attr("data-tap","popup-close"),e.get("lock")||(this.event=new Fui.Event({hoster:e}))},events:{"touchend [data-tap=popup-close]":function(){if(!this.get("lock")){var e=this.get("audio");e&&e.play&&e.play(),this.hide()}}},_ontap:function(e){if(!this.get("lock")){var t=$(e.target).attr("data-tap");"popup-close"==t&&this.hide()}},form:function(e){return this.set("innerView",e),this.$el.append(e.$el),this.show(),this},popView:function(e){return this.set("innerView",e),this.$el.append(e.$el),this.show(),this},loading:function(){var e=$('<a class="icon icon-spinner5 ani loop"></a>');return e.css({position:"absolute",top:"50%",left:"50%",display:"block",width:72,height:72,marginTop:-36,marginLeft:-36,color:"white",fontSize:"72px"}),this.$el.addClass("p").append(e),this.set("lock",!0),this.show(),this},img:function(e){var t=this,i=this.$el,n=new Image;return n.src=e,n.onload=function(){i.append('<img data-tap="popup-close" src="'+e+'"/>'),t.show()},this},video:function(e,t){function i(){"undefined"!=typeof YKU&&(n.player=new YKU.Player("popup-video-player",{styleid:"0",client_id:t.clientId||"3e9659d488a5a018",vid:t.vid,autoplay:!0,show_related:!1,events:{onPlayerReady:function(){},onPlayStart:function(){},onPlayEnd:function(){n.player=null,a&&a.play(),n.hide()}}}),setTimeout(function(){try{n.player.playVideo()}catch(e){}},10))}var n=this,r=n.$el,a=n.get("audio");a&&a.pause(),r.append(n.get("videoTpl"));var o=r.find(".i");switch(o.css({width:n.get("width"),height:n.get("width")/n.get("whRatio")}),e){case"youku":i();break;case"letv":}return n.show(),n},show:function(){var e=this.$el;e.removeClass("hide"),$("body").append(e),setTimeout(function(){e.addClass("show")},1)},hide:function(){var e=this.$el,t=this;e.removeClass("show"),setTimeout(function(){t.remove()},500)}})})(t.exports,t,e);e.__modules__.da488295=t.exports}(this),function(e){var t={id:"da488296",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){var n=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!n)throw Error("No createObjectURL function found to create blob url");Fui.Template=Fui.extend({className:function(){var e=this.get("template"),t=["module"];return e&&t.push(e.toLowerCase()),t.push(this.get("cls")),t},config:{type:null,cls:"",tpl:null,xtpl:null,pageIndex:0,bg:null,preload:!0},propsForm:null,save:function(e){},getImgPath:function(e){return e},design:null,initialize:function(e){var t=this,i=t.$el,n=t.get("bg");this.renderBg(n),this.addTpl(),this.addXtpl();var r=i.find("[data-scrollable]").first();r.length>0&&(t.scroller=new Fui.Scrollable({$el:r,hoster:t,orient:r.attr("data-scrollable")||"y",scrollBar:"false"!==r.attr("data-scrollBar"),stopPropagation:"true"===r.attr("data-stopPropagation")})),_.isFunction(this.design)&&this.design()},loadResources:function(e){function t(e){var n=e.attr("data-src");if(1!=e.length||!n)return i();var r=new Image;r.src=n,e.attr("data-src",null),r.onload=function(){o++,"img"==e[0].tagName.toLowerCase()?e.attr("src",this.src):e.css("backgroundImage","url("+this.src+")"),i()},r.onerror=function(){o++,i()},s.length>0&&setTimeout(function(){var e=s.shift();t($(e))},1)}function i(){l==o&&_.isFunction(e)&&e()}var n=this,r=(n.get("template"),n.$el),a=r.find("[data-src]"),o=0,s=[],e=e||function(){};if(r.attr("data-src")&&s.push(r[0]),_.each(a,function(e,t){s.push(e)}),0==s.length)return void(_.isFunction(e)&&e());var l=(Fui.performance.now(),s.length);t($(s.shift()))},renderBg:function(e){_.isString(e)&&this.$el.attr("data-src",this.getImgPath(e))},clearBg:function(){this.$el.css({backgroundImage:"none"})},onFocus:function(){},onBlur:function(){},getTplData:function(){return{pageIndex:this.get("pageIndex")}},onGesture:function(e,t,i){},checkSize:function(){return!0},validateInfo:function(e,t){var i=!0;return _.each(t,function(t){e.hasOwnProperty(t)||(error("Module must contain a ["+t+"] on [name: "+e.label+",label:"+e.name+"]"),i=!1)}),i},getXtplData:null,addXtpl:function(){var e=this,t=e.get("xtpl");if(!t)return!1;var i=$("#"+t).html();if(!i)return!1;var n={IMG_DIR:Fui.Template.IMG_DIR};_.isFunction(e.getXtplData)&&_.extend(n,e.getXtplData()),e.$el.append(Handlebars.compile(i)(n))},addTpl:function(){var e=this.get("tpl")||"";this.$el.append(Handlebars.compile(e)(this.getTplData()))},getData:function(){var e=this.getForm();return _.extend({},{template:this.get("template"),_form_title:e.get("title")},e.getData())},form:null,getForm:function(e){this.get("pageIndex")+1;return this.form||(this.form=new Fui.Form({size:"normal",title:e,items:this.getFormItems()})),this.form},getFormItems:Fui.emptyFunc,getGestureItems:function(){return[]},getText:function(e){return this.validateInfo(e,["name","label","placeholder"])?(e.type="text",e):void 0},getSelection:function(e){e.$el;if(this.validateInfo(e,["name","label","change","data"]))return e.type="select",e},getImagePicker:function(e){return this.getImage(e)},getImageListPicker:function(e){var t=this;if(this.validateInfo(e,["name","change"]))return{type:"image-list",name:e.name,listeners:{change:function(i,r){var a=i.target.files[0],o=n.createObjectURL(a),s=new Image;s.src=o,s.onload=function(){var n=this.naturalWidth,a=this.naturalHeight;return t.checkSize(n,a)?void e.change.call(s,i,r):void error("Image size must be 640 X 1010")}}}}},getImage:function(e){if(this.validateInfo(e,["name","label","change"])){return e.type="image",e}}},{IMG_DIR:"",_templates:{},_templates_cfg:[],regTpl:function(e){_.extend(this._templates,e)},getTplCfgForEdit:function(){var e=[];for(var t in this._templates){var i=this._templates[t];_.isFunction(i)&&(i=new i,e.push({templateName:i.get("templateName"),template:i.get("template")}))}return e},getTplPage:function(e){return this._templates[e]},regTplCfg:function(e){this._templates_cfg=e},getTplCfg:function(){return this._templates_cfg},getTplCfg2:function(e,t){var i=this.getTpl(e,t),n=[];for(var r in i){var a=i[r];_.isFunction(a)&&(a=new a,n.push({text:a.get("templateName"),value:a.get("template")}))}return n},getTplMapByUserID2:function(e){return this._templates[e]},getTpl2:function(e,t){var i=this._templates[e];if(!i)return console.error("Template Config not found by",e);var n=i[t];return n?n.map:console.error("Template not found for",t,e)},getTplPage2:function(e,t,i){var n=this.getTpl(e,t)[i];return n?n:console.error("Template not found for",i,t,e)},regTpl2:function(e,t){this._templates.hasOwnProperty(e)||(this._templates[e]={}),this._templates[e][t.id]=t},getTplListByDomain:function(e){return this._templates[e]},getTpl1:function(e,t){var i=this._templates[e];if(!i)return console.error("Template Map not found by",e);var n=i[t];return n?n.items:console.error("Template not found for",t,e)},getTplPage1:function(e,t,i){var n=this.getTpl(e,t)[i];return n?n:console.error("Template not found for",i,t,e)},regTpl1:function(e,t,i){if(_.isObject(t)&&"undefined"==typeof i)for(var n in t)this.regTpl(e,n,t[n]);else this._templates.hasOwnProperty(e)||(this._templates[e]={}),this._templates[e][t]=i}})})(t.exports,t,e);e.__modules__.da488296=t.exports}(this),function(e){var t={id:"da488297",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){i.__modules__.da488296})(t.exports,t,e);e.__modules__.da488297=t.exports}(this),function(e){var t={id:"da488298",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.Arrow=Fui.extend({className:function(){var e=this;return["fui-arrow",e.get("orient"),e.get("cls")]},tagName:"div",config:{orient:"bottom",cls:null,color:"white",without:null,css:{}},listeners:{clsChanged:function(e,t){this.$el.removeClass(t).addClass(e)}},initialize:function(){var e=this;e.get("orient");this.$el.css(e.get("css"))}})})(t.exports,t,e);e.__modules__.da488298=t.exports}(this),function(e){var t={id:"da488299",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,n){n.__modules__.da488298,Fui.Slider=Fui.Template.extend({config:{cls:function(){return["fui-pageSlider",this.get("orient")].join(" ")},template:null,templateName:null,slideType:null,pageNum:0,prePage:-1,curPage:0,nextPage:0,lock:!1,iteration:!0,data:null,toggleCls:"focus",stopPropagation:!0,preventDefault:!0,arrow:null,_slide_flag:!1,orient:"y"},pageSize:{x:640,y:1008},updatePageSize:function(){var e=this,t=e.$el;e.pageSize.y=t.height(),e.pageSize.x=t.width()},data:null,getPage:function(e){return this.get("data")[e]},getImgPath:function(e){return e},loadResources:function(){},render:function(){function e(e,t){var i=r[e];i&&i.loadResources?i.loadResources(t):t()}var t=this,i=t.$el,n=t.$ul=$('<div class="c"></div>');t.get("iteration");i.append(n),this.event=new Fui.Event({hoster:this});var r=this.get("data")||[];_.isArray(r)&&r.length>0?(_.each(r,function(e,i){var n=Fui.Template.getTplPage(e.template);if(_.isFunction(n)){var a=$(t.getOnePageLI(i));t.$ul.append(a),e.pageIndex=i,e.el=a;var o=new n(e);o.render(),r.splice(i,1,o)}}),this.set("pageNum",r.length)):this.set("data",[]),t.dealArrow&&t.dealArrow();t.get("template");t.$sections=n.children("section"),_.isFunction(t.onRender)&&t.onRender(),t.ensureLayout&&t.ensureLayout();var a=t.get("curPage"),o=t.get("pageNum"),s=a+1,l=a-1;s>o-1&&(s=0),0>l&&(l=o-1);var u=Fui.performance.now(),c=3e3;e(a,function(){e(s,function(){e(l,function(){t.$sections.eq(a).addClass("focus"),t.onFocus(),u=Fui.performance.now()-u,c>u&&(u=c-u),setTimeout(function(){Fui.Loading.hide(),t.trigger("renderEnd")},2e3)})})}),t.ensureArrow()},onRender:null,onGesture:function(e,t,i){var n=this,r=n.get("data"),a=n.get("index"),o=[],s=null,l=t.attr("data-"+e)||"";l=l.split("@");for(var u=0,c=r.length;c>u;u++){s=r[u];var d=!1;s.getGestureItems&&(o=s.getGestureItems()||[]);for(var f=0,h=o.length;h>f;f++){var p=o[f];if(e==p.gesture&&p.name==l[0]&&_.isFunction(p.callback)){p.callback.call(r[u],i,t,l[1]),d=!0;break}}if(d)break}r[a]&&r[a]instanceof Fui.Template&&r[a].onGesture(i,e,t)},onFocus:function(){this.get("data")[this.get("curPage")].onFocus()},onBlur:function(){this.get("data")[this.get("curPage")].onBlur()},doSlide:null,doSlideMove:null,ensureArrow:function(){var e=this.arrow,t=this.get("curPage");for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];n.get("without").indexOf("-"+t+"-")>=0?n.hide():n.show()}},slide:function(e,t,i){var n=this,r=(n.$ul,n.get("curPage")),a=n.get("pageNum"),t=(n.get("orient"),e==r?"=":e>r?"+":"-"),o=n.get("iteration");0>e&&(e=o?a-1:0),e>a-1&&(e=o?0:a-1),e==r&&(t="="),_.isFunction(n.doSlide)&&n.doSlide(e,t,function(){n.set("prePage",n.get("curPage")),n.set("curPage",e),n.ensureArrow()})},next:function(e){var t=this,i=t.get("curPage"),n=t.get("data")[i+2];n&&n.loadResources&&n.loadResources(),t.slide(i+1,"+",e)},prev:function(e){var t=this.get("curPage"),i=this.get("data")[t-2];i&&i.loadResources&&i.loadResources(),this.slide(t-1,"-",e)},_dotoPage:function(e,t){var n=this,r=n.get("pageNum");for(i=0;i<r-1;i++){var a=this.get("data")[i];a&&a.loadResources&&a.loadResources()}},ensure$LI:function(){var e=this,t=e.$ul.children("section"),i=e.get("curPage"),n=e.get("pageNum"),r=0>i-1?n-1:i-1,a=i+1>n-1?0:i+1;e.$curLi=t.eq(i),n>2&&(e.$preLi=t.eq(r)),n>=2&&(e.$nextLi=t.eq(a)),e.ul_height=e.$ul.height(),e.ul_width=e.$ul.width()},ensureLayout:null,listeners:{gesture:null,lockChanged:null,renderEnd:null,touchstart:function(e){function t(){}function i(){}var n=this,r=n.get("slideType"),a=n.get("stopPropagation"),o=n.get("preventDefault");if(a&&e.$e.stopPropagation(),o&&e.$e.preventDefault(),n.updatePageSize(),!n.get("_slide_flag"))switch(n.ensure$LI(),r){case"fade":t();break;default:i()}},touchmove:function(e){var t=this,i=t.event,n=t.get("orient"),r=(t.get("iteration"),t.get("curPage"),t.get("pageNum"),{x:t.ul_width,y:t.ul_height}[n],i._event_cur_dis[n],t.get("slideType"),t.get("stopPropagation")),a=t.get("preventDefault");r&&e.$e.stopPropagation(),a&&e.$e.preventDefault(),!0!==t.get("lock")&&(t.get("_slide_flag")||_.isFunction(t.onTouchMove)&&t.onTouchMove(e))},touchend:function(e){var t=this,i=(t.event,t.get("orient"),t.get("slideType"),t.get("iteration"),t.get("curPage"),t.get("pageNum"),t.get("stopPropagation")),n=t.get("preventDefault");i&&e.$e.stopPropagation(),n&&e.$e.preventDefault(),t.get("_slide_flag")||!0!==t.get("lock")&&t.onTouchEnd&&t.onTouchEnd(e)}},getOnePageLI:function(e){return Handlebars.compile('<section class="p p{{index}}"></section>')({index:e})},insert:function(e,t,i){var n=this,r=n.$ul,a=n.get("pageNum")+1,o=n.get("data"),s=Fui.Template[e];if(0>t&&(t=0),t>a&&(t=a),!_.isFunction(s))return error(e+" is not loaded !"),!1;var l=$(n.getOnePageLI(t)),u=new s(_.extend(i,{pageIndex:t,template:e,el:l[0]}));u.render(),0==t?r.prepend(l):l.insertAfter(r.children("section").eq(t-1));var c=o.slice(0,t),d=o.slice(t);return n.set("data",c.concat([u],d)),n.set("pageNum",a),n.ensureLayout&&n.ensureLayout(),u.loadResources(),u}})})(t.exports,t,e);e.__modules__.da488299=t.exports}(this),function(e){var t={id:"da48829a",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.Button=Fui.extend({initialize:function(){this.event=new Fui.Event({hoster:this})},listeners:{tap:null,gesture:function(e,t){"tap"===t&&this.trigger("tap")}}}),Fui.BookSlider=Fui.Slider.extend({config:{orient:"b",iteration:!1},listeners:{render:null,touchstart:null},dealArrow:function(){var e=this,t=this.get("arrow"),i=this.get("iteration"),n=this.get("pageNum");if(t||(t="x"==e.get("orient")?"right":"down"),t){var r=e.arrow={};if(_.isString(t)){var a=t.split(" ");_.each(a,function(e){r[e]={css:{},cls:"",without:[]}})}else r=e.arrow=t;for(var o in r)if(r.hasOwnProperty(o)){var s=r[o].without||[];i||(("left"==o||"up"==o)&&s.push(0),("right"==o||"down"==o)&&s.push(n-1)),s=_.uniq(s);var l=r[o]=new Fui.Arrow({orient:o,css:r[o].css||{},cls:r[o].cls,without:"-"+(s||[]).join("-")+"-"});e.get("lock")&&l.hide(),e.$el.append(l.$el)}e.ensureArrow()}},onRender:function(){var e=this,t=e.get("curPage");this.$el.addClass("fui-book-slider");var i=this.get("data").length;this.$sections.each(function(e,n){$(n).css({zIndex:i-e}).addClass(t>e?"cur-page":"")}),this.zIndex=i,this.trigger("render")},zIndex:0,slideFlag:!0,doSlide:function(e,t,i){var n,r=this,a=r.get("toggleCls"),o=r.$sections.eq(e);r.get("data")[e];if("+"===t&&e--,!(0>=e&&"="==t||e>=this.$sections.length-1&&"="==t||!r.slideFlag)){this.slideFlag=!1,setTimeout(function(){r.slideFlag=!0},3e3),"+"==t&&(n=r.get("data")[e],n&&n.onBlur&&n.onBlur()),"-"==t&&(n=r.get("data")[e+1],n&&n.onBlur&&n.onBlur());var s=r.$sections.eq(e);s.css("zIndex",r.zIndex++),this.$ul.addClass("slide").one("webkitTransitionEnd",function(l){"-"===t&&s.removeClass("cur-page"),"+"===t&&s.addClass("cur-page"),s.one("webkitTransitionEnd",function(s){o.addClass(a).siblings("section").removeClass(a),r.$ul.removeClass("slide"),"+"==t&&(n=r.get("data")[e+1],n&&n.onFocus&&n.onFocus()),"-"==t&&(n=r.get("data")[e],n&&n.onFocus&&n.onFocus()),r.slideFlag=!0,i()})})}}})})(t.exports,t,e);e.__modules__.da48829a=t.exports}(this),function(e){var t={id:"da48829b",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.PageSlider=Fui.Slider.extend({ensureLayout:function(){var e=this;e.$ul.children(),e.get("orient"),e.get("slideType");e.ensure$LI(),e._doTrans(e.$preLi,"-100%",!1),e._doTrans(e.$curLi,"0px",!1),e._doTrans(e.$nextLi,"100%",!1)},onTouchMove:function(e){var t=this,i=t.event,n=t.get("orient"),r=t.get("iteration"),a=t.get("curPage"),o=t.get("pageNum"),s={x:t.ul_width,y:t.ul_height}[n],l=i._event_cur_dis[n];i.checkOrientGesture(n)&&(t.get("_slide_flag")||(l>0?(r||0!=a||(l=0),t._doTrans(t.$nextLi,"100%",!1),t._doTrans(t.$preLi,l-s,!1)):(r||a!=o-1||(l=0),t._doTrans(t.$preLi,"-100%",!1),t._doTrans(t.$nextLi,l+s,!1)),t._doTrans(t.$curLi,l,!1)))},onTouchEnd:function(e){var t=this,i=t.event,n=t.get("orient"),r=t.get("iteration"),a=t.get("curPage"),o=t.get("pageNum");
if(!i.checkOrientGesture(n))return t.slide(t.get("curPage"));if(!r&&0==a&&("downSwipe"==i.gesture||"rightSwipe"==i.gesture))return t.slide(0);if(!r&&a==o-1&&("upSwipe"==i.gesture||"leftSwipe"==i.gesture))return t.slide(o-1);if("y"==n)switch(i.gesture){case"upSwipe":t.next(e);break;case"downSwipe":t.prev(e);break;default:t.slide(t.get("curPage"))}if("x"==n)switch(i.gesture){case"leftSwipe":t.next(e);break;case"rightSwipe":t.prev(e);break;default:t.slide(t.get("curPage"))}},_doTrans:function(e,t,i){function n(e){return/^[\+|\-]{1}$/.test(e)?e=parseInt(e+a.pageSize[r])+"px":/\%$/.test(e)||(e=parseInt(e)+"px"),["translate3d("+("x"==r?e:"0px"),"y"==r?e:"0px","0px) scale(1) rotate(0deg) skew(0deg,0deg)"].join(",")}var r=this.get("orient"),a=this;"undefined"==typeof i&&(i=!0),e&&1==e.length&&e.css({display:"block",zoom:1,webkitTransform:n(t),mozTransform:n(t),msTransform:n(t),oTransform:n(t),transform:n(t),webkitTransition:i?"-webkit-transform .4s":"none",mozTransition:i?"-moz-transform .4s":"none",msTransition:i?"-ms-transform .4s":"none",oTransition:i?"-o-transform .4s":"none",transition:i?"transform .4s":"none"})},_transitionEnd:function(e,t){var i=this,n=i.$ul;i.set("_slide_flag",!0),setTimeout(function(){i.set("_slide_flag",!1)},500),i.ensureArrow(),e.one("webkitTransitionEnd",function(e){if(/transform$/g.test(e.originalEvent.propertyName),!0){n.children().eq(t).addClass("focus").siblings("section").removeClass("focus");var r=i.get("data"),a=i.get("prePage"),o=r[t],s=r[a];o&&_.isFunction(o.onFocus)&&o.onFocus(),s&&s!=o&&_.isFunction(s.onBlur)&&s.onBlur(),i.ensureLayout(),t!=a&&i.trigger("slide",[t])}})},doSlide:function(e,t,i){var n=this,r=n.get("orient");n.event._event_cur_dis[r];switch(t){case"=":n._doTrans(n.$preLi,"-"),n._doTrans(n.$nextLi,"+"),n._doTrans(n.$curLi,"0px");break;case"+":n._doTrans(n.$curLi,"-"),n._doTrans(n.$preLi,"-"),n._doTrans(n.$nextLi,"0");break;case"-":n._doTrans(n.$curLi,"+"),n._doTrans(n.$preLi,"0px"),n._doTrans(n.$nextLi,"+")}"="!==t&&n._transitionEnd(n.$curLi,e),i()},ensureArrow:function(){var e=this.arrow,t=this.get("curPage");for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];n.get("without").indexOf("-"+t+"-")>=0?n.hide():n.show()}},dealArrow:function(){var e=this,t=this.get("arrow"),i=this.get("iteration"),n=this.get("pageNum");if(t||(t="x"==e.get("orient")?"right":"down"),t){var r=e.arrow={};if(_.isString(t)){var a=t.split(" ");_.each(a,function(e){r[e]={css:{},cls:"",without:[]}})}else r=e.arrow=t;for(var o in r)if(r.hasOwnProperty(o)){var s=r[o].without||[];i||(("left"==o||"up"==o)&&s.push(0),("right"==o||"down"==o)&&s.push(n-1)),s=_.uniq(s);var l=r[o]=new Fui.Arrow({orient:o,css:r[o].css||{},cls:r[o].cls,without:"-"+(r[o].without||[]).join("-")+"-"});e.get("lock")&&l.hide(),e.$el.append(l.$el)}e.ensureArrow()}},toPage:function(e){var t=this,i=t.get("curPage"),n=t.get("pageNum"),r=t.$ul,a=(t.get("orient"),r.children());t._dotoPage(e),0>e&&(e=n-1),e>n-1&&(e=0),e!=i&&(e>i?(t._doTrans(a.eq(e),"100%",!1),setTimeout(function(){t._doTrans(a.eq(i),"-100%"),t._doTrans(a.eq(e),"0px")},1)):i>e&&(t._doTrans(a.eq(e),"-100%",!1),setTimeout(function(){t._doTrans(a.eq(i),"100%"),t._doTrans(a.eq(e),"0px")},1)),t.set("curPage",e),t.ensureArrow(),t.set("prePage",i),t.trigger("slide",[e]),t._transitionEnd(a.eq(e),e))}})})(t.exports,t,e);e.__modules__.da48829b=t.exports}(this),function(e){var t={id:"da48829c",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){i.__modules__.da488299,i.__modules__.da48829a,i.__modules__.da48829b})(t.exports,t,e);e.__modules__.da48829c=t.exports}(this),function(e){var t={id:"da48829d",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.FileUpload=FClass.extend({config:{file:null,name:null},listeners:{start:null,progress:null,end:null,error:null},initial:function(){function e(n){function a(t){r.push(t),e(n)}if(0==i.length)return n();var o=i.shift();if(o||a(o),o instanceof File){var s=new FormData;s.append("upfile",o);var l=new XMLHttpRequest;l.open("POST","http://www.36ap.com/do_media_upload",!0),l.onload=function(){if(200===l.status){var e=JSON.parse(l.responseText||"");a(e.path)}else t.trigger("error")},l.send(s)}else _.isString(o)?$.post("/do_media_upload_base64",{upfile:o,filename:"tmp.jpg"},function(e){e=e||{},e.status?a(e.path):(console.error("",e),t.trigger("error"))},"json"):a(o)}var t=this,i=t.get("file"),n=t.get("name"),r=[];return i?(_.isArray(i)||(i=[i]),void e(function(){1==r.length&&(r=r[0]),t.trigger("end",[r,n])})):t.trigger("end",[null,n])}})})(t.exports,t,e);e.__modules__.da48829d=t.exports}(this),function(e){var t={id:"da48829e",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){!function(e){function t(e){this.mode=o.MODE_8BIT_BYTE,this.data=e}function i(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=new Array}function n(e,t){if(void 0==e.length)throw new Error(e.length+"/"+t);for(var i=0;i<e.length&&0==e[i];)i++;this.num=new Array(e.length-i+t);for(var n=0;n<e.length-i;n++)this.num[n]=e[n+i]}function r(e,t){this.totalCount=e,this.dataCount=t}function a(){this.buffer=new Array,this.length=0}t.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},i.prototype={addData:function(e){var i=new t(e);this.dataList.push(i),this.dataCache=null},isDark:function(e,t){if(0>e||this.moduleCount<=e||0>t||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){if(this.typeNumber<1){var e=1;for(e=1;40>e;e++){for(var t=r.getRSBlocks(e,this.errorCorrectLevel),i=new a,n=0,o=0;o<t.length;o++)n+=t[o].dataCount;for(var o=0;o<this.dataList.length;o++){var s=this.dataList[o];i.put(s.mode,4),i.put(s.getLength(),u.getLengthInBits(s.mode,e)),s.write(i)}if(i.getLengthInBits()<=8*n)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=i.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var i=-1;7>=i;i++)if(!(-1>=e+i||this.moduleCount<=e+i))for(var n=-1;7>=n;n++)-1>=t+n||this.moduleCount<=t+n||(i>=0&&6>=i&&(0==n||6==n)||n>=0&&6>=n&&(0==i||6==i)||i>=2&&4>=i&&n>=2&&4>=n?this.modules[e+i][t+n]=!0:this.modules[e+i][t+n]=!1)},getBestMaskPattern:function(){for(var e=0,t=0,i=0;8>i;i++){this.makeImpl(!0,i);var n=u.getLostPoint(this);(0==i||e>n)&&(e=n,t=i)}return t},createMovieClip:function(e,t,i){var n=e.createEmptyMovieClip(t,i),r=1;this.make();for(var a=0;a<this.modules.length;a++)for(var o=a*r,s=0;s<this.modules[a].length;s++){var l=s*r,u=this.modules[a][s];u&&(n.beginFill(0,100),n.moveTo(l,o),n.lineTo(l+r,o),n.lineTo(l+r,o+r),n.lineTo(l,o+r),n.endFill())}return n},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=u.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var i=0;i<e.length;i++){var n=e[t],r=e[i];if(null==this.modules[n][r])for(var a=-2;2>=a;a++)for(var o=-2;2>=o;o++)-2==a||2==a||-2==o||2==o||0==a&&0==o?this.modules[n+a][r+o]=!0:this.modules[n+a][r+o]=!1}},setupTypeNumber:function(e){for(var t=u.getBCHTypeNumber(this.typeNumber),i=0;18>i;i++){var n=!e&&1==(t>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=n}for(var i=0;18>i;i++){var n=!e&&1==(t>>i&1);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=n}},setupTypeInfo:function(e,t){for(var i=this.errorCorrectLevel<<3|t,n=u.getBCHTypeInfo(i),r=0;15>r;r++){var a=!e&&1==(n>>r&1);6>r?this.modules[r][8]=a:8>r?this.modules[r+1][8]=a:this.modules[this.moduleCount-15+r][8]=a}for(var r=0;15>r;r++){var a=!e&&1==(n>>r&1);8>r?this.modules[8][this.moduleCount-r-1]=a:9>r?this.modules[8][15-r-1+1]=a:this.modules[8][15-r-1]=a}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var i=-1,n=this.moduleCount-1,r=7,a=0,o=this.moduleCount-1;o>0;o-=2)for(6==o&&o--;;){for(var s=0;2>s;s++)if(null==this.modules[n][o-s]){var l=!1;a<e.length&&(l=1==(e[a]>>>r&1));var c=u.getMask(t,n,o-s);c&&(l=!l),this.modules[n][o-s]=l,r--,-1==r&&(a++,r=7)}if(n+=i,0>n||this.moduleCount<=n){n-=i,i=-i;break}}}},i.PAD0=236,i.PAD1=17,i.createData=function(e,t,n){for(var o=r.getRSBlocks(e,t),s=new a,l=0;l<n.length;l++){var c=n[l];s.put(c.mode,4),s.put(c.getLength(),u.getLengthInBits(c.mode,e)),c.write(s)}for(var d=0,l=0;l<o.length;l++)d+=o[l].dataCount;if(s.getLengthInBits()>8*d)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*d+")");for(s.getLengthInBits()+4<=8*d&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;;){if(s.getLengthInBits()>=8*d)break;if(s.put(i.PAD0,8),s.getLengthInBits()>=8*d)break;s.put(i.PAD1,8)}return i.createBytes(s,o)},i.createBytes=function(e,t){for(var i=0,r=0,a=0,o=new Array(t.length),s=new Array(t.length),l=0;l<t.length;l++){var c=t[l].dataCount,d=t[l].totalCount-c;r=Math.max(r,c),a=Math.max(a,d),o[l]=new Array(c);for(var f=0;f<o[l].length;f++)o[l][f]=255&e.buffer[f+i];i+=c;var h=u.getErrorCorrectPolynomial(d),p=new n(o[l],h.getLength()-1),g=p.mod(h);s[l]=new Array(h.getLength()-1);for(var f=0;f<s[l].length;f++){var _=f+g.getLength()-s[l].length;s[l][f]=_>=0?g.get(_):0}}for(var m=0,f=0;f<t.length;f++)m+=t[f].totalCount;for(var v=new Array(m),x=0,f=0;r>f;f++)for(var l=0;l<t.length;l++)f<o[l].length&&(v[x++]=o[l][f]);for(var f=0;a>f;f++)for(var l=0;l<t.length;l++)f<s[l].length&&(v[x++]=s[l][f]);return v};for(var o={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},s={L:1,M:0,Q:3,H:2},l={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},u={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;u.getBCHDigit(t)-u.getBCHDigit(u.G15)>=0;)t^=u.G15<<u.getBCHDigit(t)-u.getBCHDigit(u.G15);return(e<<10|t)^u.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;u.getBCHDigit(t)-u.getBCHDigit(u.G18)>=0;)t^=u.G18<<u.getBCHDigit(t)-u.getBCHDigit(u.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return u.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,i){switch(e){case l.PATTERN000:return(t+i)%2==0;case l.PATTERN001:return t%2==0;case l.PATTERN010:return i%3==0;case l.PATTERN011:return(t+i)%3==0;case l.PATTERN100:return(Math.floor(t/2)+Math.floor(i/3))%2==0;case l.PATTERN101:return t*i%2+t*i%3==0;case l.PATTERN110:return(t*i%2+t*i%3)%2==0;case l.PATTERN111:return(t*i%3+(t+i)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new n([1],0),i=0;e>i;i++)t=t.multiply(new n([1,c.gexp(i)],0));return t},getLengthInBits:function(e,t){if(t>=1&&10>t)switch(e){case o.MODE_NUMBER:return 10;case o.MODE_ALPHA_NUM:return 9;case o.MODE_8BIT_BYTE:return 8;case o.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(27>t)switch(e){case o.MODE_NUMBER:return 12;case o.MODE_ALPHA_NUM:return 11;case o.MODE_8BIT_BYTE:return 16;case o.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(41>t))throw new Error("type:"+t);switch(e){case o.MODE_NUMBER:return 14;case o.MODE_ALPHA_NUM:return 13;case o.MODE_8BIT_BYTE:return 16;case o.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),i=0,n=0;t>n;n++)for(var r=0;t>r;r++){for(var a=0,o=e.isDark(n,r),s=-1;1>=s;s++)if(!(0>n+s||n+s>=t))for(var l=-1;1>=l;l++)0>r+l||r+l>=t||(0!=s||0!=l)&&o==e.isDark(n+s,r+l)&&a++;a>5&&(i+=3+a-5)}for(var n=0;t-1>n;n++)for(var r=0;t-1>r;r++){var u=0;e.isDark(n,r)&&u++,e.isDark(n+1,r)&&u++,e.isDark(n,r+1)&&u++,e.isDark(n+1,r+1)&&u++,(0==u||4==u)&&(i+=3)}for(var n=0;t>n;n++)for(var r=0;t-6>r;r++)e.isDark(n,r)&&!e.isDark(n,r+1)&&e.isDark(n,r+2)&&e.isDark(n,r+3)&&e.isDark(n,r+4)&&!e.isDark(n,r+5)&&e.isDark(n,r+6)&&(i+=40);for(var r=0;t>r;r++)for(var n=0;t-6>n;n++)e.isDark(n,r)&&!e.isDark(n+1,r)&&e.isDark(n+2,r)&&e.isDark(n+3,r)&&e.isDark(n+4,r)&&!e.isDark(n+5,r)&&e.isDark(n+6,r)&&(i+=40);for(var c=0,r=0;t>r;r++)for(var n=0;t>n;n++)e.isDark(n,r)&&c++;var d=Math.abs(100*c/t/t-50)/5;return i+=10*d}},c={glog:function(e){if(1>e)throw new Error("glog("+e+")");return c.LOG_TABLE[e]},gexp:function(e){for(;0>e;)e+=255;for(;e>=256;)e-=255;return c.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},d=0;8>d;d++)c.EXP_TABLE[d]=1<<d;for(var d=8;256>d;d++)c.EXP_TABLE[d]=c.EXP_TABLE[d-4]^c.EXP_TABLE[d-5]^c.EXP_TABLE[d-6]^c.EXP_TABLE[d-8];for(var d=0;255>d;d++)c.LOG_TABLE[c.EXP_TABLE[d]]=d;n.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),i=0;i<this.getLength();i++)for(var r=0;r<e.getLength();r++)t[i+r]^=c.gexp(c.glog(this.get(i))+c.glog(e.get(r)));return new n(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=c.glog(this.get(0))-c.glog(e.get(0)),i=new Array(this.getLength()),r=0;r<this.getLength();r++)i[r]=this.get(r);for(var r=0;r<e.getLength();r++)i[r]^=c.gexp(c.glog(e.get(r))+t);return new n(i,0).mod(e)}},r.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],r.getRSBlocks=function(e,t){var i=r.getRsBlockTable(e,t);if(void 0==i)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=i.length/3,a=new Array,o=0;n>o;o++)for(var s=i[3*o+0],l=i[3*o+1],u=i[3*o+2],c=0;s>c;c++)a.push(new r(l,u));return a},r.getRsBlockTable=function(e,t){switch(t){case s.L:return r.RS_BLOCK_TABLE[4*(e-1)+0];case s.M:return r.RS_BLOCK_TABLE[4*(e-1)+1];case s.Q:return r.RS_BLOCK_TABLE[4*(e-1)+2];case s.H:return r.RS_BLOCK_TABLE[4*(e-1)+3];default:return void 0}},a.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var i=0;t>i;i++)this.putBit(1==(e>>>t-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.fn.qrcode=function(t){"string"==typeof t&&(t={text:t}),t=e.extend({},{render:"canvas",width:256,height:256,typeNumber:-1,correctLevel:s.H,background:"#ffffff",foreground:"#000000"},t);var n=function(){var e=new i(t.typeNumber,t.correctLevel);e.addData(t.text),e.make();var n=document.createElement("canvas");n.width=t.width,n.height=t.height;for(var r=n.getContext("2d"),a=t.width/e.getModuleCount(),o=t.height/e.getModuleCount(),s=0;s<e.getModuleCount();s++)for(var l=0;l<e.getModuleCount();l++){r.fillStyle=e.isDark(s,l)?t.foreground:t.background;var u=Math.ceil((l+1)*a)-Math.floor(l*a),c=Math.ceil((s+1)*a)-Math.floor(s*a);r.fillRect(Math.round(l*a),Math.round(s*o),u,c)}return n},r=function(){var n=new i(t.typeNumber,t.correctLevel);n.addData(t.text),n.make();for(var r=e("<table></table>").css("width",t.width+"px").css("height",t.height+"px").css("border","0px").css("border-collapse","collapse").css("background-color",t.background),a=t.width/n.getModuleCount(),o=t.height/n.getModuleCount(),s=0;s<n.getModuleCount();s++)for(var l=e("<tr></tr>").css("height",o+"px").appendTo(r),u=0;u<n.getModuleCount();u++)e("<td></td>").css("width",a+"px").css("background-color",n.isDark(s,u)?t.foreground:t.background).appendTo(l);return r};return this.each(function(){var i="canvas"==t.render?n():r();e(i).appendTo(this)})}}(jQuery)})(t.exports,t,e);e.__modules__.da48829e=t.exports}(this),function(e){var t={id:"da48829f",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.Weixin=FClass.extend({config:{title:null,title1:null,desc:null,link:String(window.location.href),appid:"",img_url:null,img_width:200,img_height:200},initial:function(){var e=this;document.addEventListener("WeixinJSBridgeReady",function(){WeixinJSBridge.on("menu:share:appmessage",function(t){WeixinJSBridge.invoke("sendAppMessage",{appid:"",img_url:e.get("img_url"),img_width:e.get("img_width"),img_height:e.get("img_height"),link:e.get("link"),desc:e.get("desc"),title:e.get("title1")||e.get("title")},function(t){switch(t.err_msg){case"send_app_msg:ok":e.trigger("appmessage",[!0]);break;case"send_app_msg:confirm":e.trigger("appmessage",[!0]);break;case"send_app_msg:cancel":e.trigger("appmessage",[!1])}})}),WeixinJSBridge.on("menu:share:timeline",function(t){WeixinJSBridge.invoke("shareTimeline",{img_url:e.get("img_url"),img_width:e.get("img_width"),img_height:e.get("img_height"),link:e.get("link"),desc:e.get("desc"),title:e.get("title")},function(t){switch(t.err_msg){case"share_timeline:ok":e.trigger("timeline",[!0]);break;case"share_timeline:cancel":e.trigger("timeline",[!1])}})})},!1)}})})(t.exports,t,e);e.__modules__.da48829f=t.exports}(this),function(e){var t={id:"da4882a0",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.Gravity=FClass.extend({config:{interval:2e3,lock:!1},initial:function(){function e(e){e.stopPropagation(),e.preventDefault();var c=e.accelerationIncludingGravity,d=(new Date).getTime();if(d-u>300){var f=d-u;u=d,t=c.x,i=c.y,n=c.z;var h=Math.abs(t+i+n-r-a-o)/f*1e4;!1===s.get("lock")&&h>l&&(s.trigger("shake"),s.set("lock",!0),setTimeout(function(){s.set("lock",!1)},s.get("interval"))),r=t,a=i,o=n}}var t,i,n,r,a,o,s=this,l=300,u=0;window.addEventListener("devicemotion",e,!1)},listeners:{shake:null}})})(t.exports,t,e);e.__modules__.da4882a0=t.exports}(this),function(e){var t={id:"da4882a1",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){function n(e){return!!e.exifdata}function r(e,t){c(e.src,function(i){var n=a(i.binaryResponse);e.exifdata=n||{},t&&t()})}function a(e){if(255!=e.getByteAt(0)||216!=e.getByteAt(1))return!1;for(var t=2,i=e.getLength();i>t;){if(255!=e.getByteAt(t))return f&&console.log("Not a valid marker at offset "+t+", found: "+e.getByteAt(t)),!1;var n=e.getByteAt(t+1);if(22400==n)return f&&console.log("Found 0xFFE1 marker"),l(e,t+4,e.getShortAt(t+2,!0)-2);if(225==n)return f&&console.log("Found 0xFFE1 marker"),l(e,t+4,e.getShortAt(t+2,!0)-2);t+=2+e.getShortAt(t+2,!0)}}function o(e,t,i,n,r){for(var a=e.getShortAt(i,r),o={},l=0;a>l;l++){var u=i+12*l+2,c=n[e.getShortAt(u,r)];!c&&f&&console.log("Unknown tag: "+e.getShortAt(u,r)),o[c]=s(e,u,t,i,r)}return o}function s(e,t,i,n,r){var a=e.getShortAt(t+2,r),o=e.getLongAt(t+4,r),s=e.getLongAt(t+8,r)+i;switch(a){case 1:case 7:if(1==o)return e.getByteAt(t+8,r);for(var l=o>4?s:t+8,u=[],c=0;o>c;c++)u[c]=e.getByteAt(l+c);return u;case 2:var d=o>4?s:t+8;return e.getStringAt(d,o-1);case 3:if(1==o)return e.getShortAt(t+8,r);for(var l=o>2?s:t+8,u=[],c=0;o>c;c++)u[c]=e.getShortAt(l+2*c,r);return u;case 4:if(1==o)return e.getLongAt(t+8,r);for(var u=[],c=0;o>c;c++)u[c]=e.getLongAt(s+4*c,r);return u;case 5:if(1==o)return e.getLongAt(s,r)/e.getLongAt(s+4,r);for(var u=[],c=0;o>c;c++)u[c]=e.getLongAt(s+8*c,r)/e.getLongAt(s+4+8*c,r);return u;case 9:if(1==o)return e.getSLongAt(t+8,r);for(var u=[],c=0;o>c;c++)u[c]=e.getSLongAt(s+4*c,r);return u;case 10:if(1==o)return e.getSLongAt(s,r)/e.getSLongAt(s+4,r);for(var u=[],c=0;o>c;c++)u[c]=e.getSLongAt(s+8*c,r)/e.getSLongAt(s+4+8*c,r);return u}}function l(e,t,i){if("Exif"!=e.getStringAt(t,4))return f&&console.log("Not valid EXIF data! "+e.getStringAt(t,4)),!1;var n,r=t+6;if(18761==e.getShortAt(r))n=!1;else{if(19789!=e.getShortAt(r))return f&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;n=!0}if(42!=e.getShortAt(r+2,n))return f&&console.log("Not valid TIFF data! (no 0x002A)"),!1;if(8!=e.getLongAt(r+4,n))return f&&console.log("Not valid TIFF data! (First offset not 8)",e.getShortAt(r+4,n)),!1;var a=o(e,r,r+8,d.TiffTags,n);if(a.ExifIFDPointer){var s=o(e,r,r+a.ExifIFDPointer,d.Tags,n);for(var l in s){switch(l){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":s[l]=d.StringValues[l][s[l]];break;case"ExifVersion":case"FlashpixVersion":s[l]=String.fromCharCode(s[l][0],s[l][1],s[l][2],s[l][3]);break;case"ComponentsConfiguration":s[l]=d.StringValues.Components[s[l][0]]+d.StringValues.Components[s[l][1]]+d.StringValues.Components[s[l][2]]+d.StringValues.Components[s[l][3]]}a[l]=s[l]}}if(a.GPSInfoIFDPointer){var u=o(e,r,r+a.GPSInfoIFDPointer,d.GPSTags,n);for(var l in u){switch(l){case"GPSVersionID":u[l]=u[l][0]+"."+u[l][1]+"."+u[l][2]+"."+u[l][3]}a[l]=u[l]}}return a}var u=function(e,t,i){var n=e,r=t||0,a=0;this.getRawData=function(){return n},"string"==typeof e?(a=i||n.length,this.getByteAt=function(e){return 255&n.charCodeAt(e+r)}):"unknown"==typeof e&&(a=i||IEBinary_getLength(n),this.getByteAt=function(e){return IEBinary_getByteAt(n,e+r)}),this.getLength=function(){return a},this.getSByteAt=function(e){var t=this.getByteAt(e);return t>127?t-256:t},this.getShortAt=function(e,t){var i=t?(this.getByteAt(e)<<8)+this.getByteAt(e+1):(this.getByteAt(e+1)<<8)+this.getByteAt(e);return 0>i&&(i+=65536),i},this.getSShortAt=function(e,t){var i=this.getShortAt(e,t);return i>32767?i-65536:i},this.getLongAt=function(e,t){var i=this.getByteAt(e),n=this.getByteAt(e+1),r=this.getByteAt(e+2),a=this.getByteAt(e+3),o=t?(((i<<8)+n<<8)+r<<8)+a:(((a<<8)+r<<8)+n<<8)+i;return 0>o&&(o+=4294967296),o},this.getSLongAt=function(e,t){var i=this.getLongAt(e,t);return i>2147483647?i-4294967296:i},this.getStringAt=function(e,t){for(var i=[],n=e,r=0;e+t>n;n++,r++)i[r]=String.fromCharCode(this.getByteAt(n));return i.join("")},this.getCharAt=function(e){return String.fromCharCode(this.getByteAt(e))},this.toBase64=function(){return window.btoa(n)},this.fromBase64=function(e){n=window.atob(e)}},c=function(){function e(){var e=null;return window.XMLHttpRequest?e=new XMLHttpRequest:window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLHTTP")),e}function t(t,i,n){var r=e();r?(i&&("undefined"!=typeof r.onload?r.onload=function(){"200"==r.status?i(this):n&&n(),r=null}:r.onreadystatechange=function(){4==r.readyState&&("200"==r.status?i(this):n&&n(),r=null)}),r.open("HEAD",t,!0),r.send(null)):n&&n()}function i(t,i,n,r,a,o){var s=e();if(s){var l=0;r&&!a&&(l=r[0]);var c=0;r&&(c=r[1]-r[0]+1),i&&("undefined"!=typeof s.onload?s.onload=function(){"200"==s.status||"206"==s.status||"0"==s.status?(this.binaryResponse=new u(this.responseText,l,c),this.fileSize=o||this.getResponseHeader("Content-Length"),i(this)):n&&n(),s=null}:s.onreadystatechange=function(){4==s.readyState&&("200"==s.status||"206"==s.status||"0"==s.status?(this.binaryResponse=new u(s.responseBody,l,c),this.fileSize=o||this.getResponseHeader("Content-Length"),i(this)):n&&n(),s=null)}),console.log(t),s.open("GET",t,!0),s.overrideMimeType&&s.overrideMimeType("text/plain; charset=x-user-defined"),r&&a&&s.setRequestHeader("Range","bytes="+r[0]+"-"+r[1]),s.setRequestHeader("If-Modified-Since","Sat, 1 Jan 1970 00:00:00 GMT"),s.send(null)}else n&&n()}return function(e,n,r,a){a?t(e,function(t){var o,s,l=parseInt(t.getResponseHeader("Content-Length"),10),u=t.getResponseHeader("Accept-Ranges");o=a[0],a[0]<0&&(o+=l),s=o+a[1]-1,i(e,n,r,[o,s],"bytes"==u,l)}):i(e,n,r)}}(),d={},f=!1;d.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},d.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},d.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},d.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",
8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},d.getData=function(e,t){return e.complete?(n(e)?t&&t():r(e,t),!0):!1},d.readFromBinaryFile=function(e){return a(e)},window.EXIF=d,window.BinaryFile=u})(t.exports,t,e);e.__modules__.da4882a1=t.exports}(this),function(e){var t={id:"da4882a2",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){!function(){function e(e){var t=e.naturalWidth,i=e.naturalHeight;if(t*i>1048576){var n=document.createElement("canvas");n.width=n.height=1;var r=n.getContext("2d");return r.drawImage(e,-t+1,0),0===r.getImageData(0,0,1,1).data[3]}return!1}function t(e,t,i){var n=document.createElement("canvas");n.width=1,n.height=i;var r=n.getContext("2d");r.drawImage(e,0,0);for(var a=r.getImageData(0,0,1,i).data,o=0,s=i,l=i;l>o;){var u=a[4*(l-1)+3];0===u?s=l:o=l,l=s+o>>1}var c=l/i;return 0===c?1:c}function i(e,t,i){var r=document.createElement("canvas");return n(e,r,t,i),r.toDataURL("image/jpeg",t.quality||.8)}function n(i,n,a,o){var s=i.naturalWidth,l=i.naturalHeight,u=a.width,c=a.height,d=n.getContext("2d");d.save(),r(n,u,c,a.orientation);var f=e(i);f&&(s/=2,l/=2);var h=1024,p=document.createElement("canvas");p.width=p.height=h;for(var g=p.getContext("2d"),_=o?t(i,s,l):1,m=Math.ceil(h*u/s),v=Math.ceil(h*c/l/_),x=0,b=0;l>x;){for(var w=0,y=0;s>w;)g.clearRect(0,0,h,h),g.drawImage(i,-w,-x),d.drawImage(p,0,0,h,h,y,b,m,v),w+=h,y+=m;x+=h,b+=v}d.restore(),p=g=null}function r(e,t,i,n){switch(n){case 5:case 6:case 7:case 8:e.width=i,e.height=t;break;default:e.width=t,e.height=i}var r=e.getContext("2d");switch(n){case 1:break;case 2:r.translate(t,0),r.scale(-1,1);break;case 3:r.translate(t,i),r.rotate(Math.PI);break;case 4:r.translate(0,i),r.scale(1,-1);break;case 5:r.rotate(.5*Math.PI),r.scale(1,-1);break;case 6:r.rotate(.5*Math.PI),r.translate(0,-i);break;case 7:r.rotate(.5*Math.PI),r.translate(t,-i),r.scale(-1,1);break;case 8:r.rotate(-.5*Math.PI),r.translate(-t,0)}}function a(e){var t=this;if(window.Blob&&e instanceof Blob){var i=new Image,n=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!n)throw Error("No createObjectURL function found to create blob url");i.src=n.createObjectURL(e),this.blob=e,e=i}if(!e.naturalWidth&&!e.naturalHeight){var r=this;e.onload=function(){var e=r.imageLoadListeners;if(t.width=this.width,t.height=this.height,e){r.imageLoadListeners=null;for(var i=0,n=e.length;n>i;i++)e[i]()}},this.imageLoadListeners=[]}this.srcImage=e}a.prototype.imageWidth=0,a.prototype.imageHeight=0,a.prototype.render=function(e,t,r){var a=this;if(this.imageLoadListeners){var o=this;return void this.imageLoadListeners.push(function(){o.render(e,t,r)})}t=t||{};var s=this.srcImage.naturalWidth,l=this.srcImage.naturalHeight,u=t.width,c=t.height,d=t.maxWidth,f=t.maxHeight,h=!this.blob||"image/jpeg"===this.blob.type;u&&!c?c=l*u/s<<0:c&&!u?u=s*c/l<<0:(u=s,c=l),d&&u>d&&(u=d,c=l*u/s<<0),f&&c>f&&(c=f,u=s*c/l<<0),a.width=this.width,a.height=this.height;var p={width:u,height:c};for(var g in t)p[g]=t[g];var _=e.tagName.toLowerCase();"img"===_?e.src=i(this.srcImage,p,h):"canvas"===_&&n(this.srcImage,e,p,h),"function"==typeof this.onrender&&this.onrender(e),r({height:c,width:u})},"function"==typeof define&&define.amd?define([],function(){return a}):this.MegaPixImage=a,window.MegaPixImage=a}()})(t.exports,t,e);e.__modules__.da4882a2=t.exports}(this),function(e){var t={id:"da4882a3",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){i.__modules__.da4882a1,i.__modules__.da4882a2})(t.exports,t,e);e.__modules__.da4882a3=t.exports}(this),function(e){var t={id:"da4882a4",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.Guagua=Fui.extend({config:{backgroundSrc:null,maskSrc:null,completeValue:70,radius:20},ontouchstart:null,bgCnvs:null,bgCtx:null,mskCnvs:null,mskCtx:null,_lastPoint:null,_rate:2,initialize:function(){var e=this,t=e.$el,i=e.mskCnvs=document.createElement("canvas"),n=e.$mskCnvs=$(i),r=e.mskCtx=i.getContext("2d"),a=new Image;t.css({position:"absolute",top:0,left:0,right:0,bottom:0,backgroundImage:"url("+e.get("backgroundSrc")+")",backgroundSize:"100% auto"}),a.onload=function(){var n=this.naturalWidth,a=this.naturalHeight;e._rate=n/t.width(),i.width=n,i.height=a,r.drawImage(this,0,0,n,a)},a.src=e.get("maskSrc"),n.css({width:"100%",height:"100%",position:"relative",zIndex:20}),t.append(i),this.event=new Fui.Event({hoster:this})},listeners:{touchstart:function(e){e=e.$e,e.stopPropagation(),e.preventDefault();var t=this,i=t.event,n=t._lastPoint=i._event_cur_p,r=this.mskCtx,a=t.get("radius"),o=$(e.target).offset();r.beginPath(),r.arc(n.x-o.left,n.y-o.top,a,0,2*Math.PI),r.globalCompositeOperation="destination-out",r.fill(),t.ontouchstart&&t.ontouchstart(e)},touchmove:function(e){e=e.$e,e.stopPropagation(),e.preventDefault();var t=this,i=t.event,n=this.mskCtx,r=t._lastPoint,a=i._event_cur_p,o=t.get("radius"),s=$(e.target).offset();n.beginPath(),n.arc(a.x-s.left,a.y-s.top,o,0,2*Math.PI),n.globalCompositeOperation="destination-out",n.fill(),n.beginPath(),n.lineWidth=2*o,n.lineCap=n.lineJoin="round",n.moveTo(r.x-s.left,r.y-s.top),n.lineTo(a.x-s.left,a.y-s.top),n.globalCompositeOperation="destination-out",n.stroke(),t._lastPoint=a,t.$mskCnvs.css({zIndex:20==t.$mskCnvs.css("zIndex")?21:20})},touchend:function(e){e=e.$e,e.stopPropagation(),e.preventDefault();var t=this;this.getTransparentPercent(this.mskCtx,this.mskCnvs.width,this.mskCnvs.height)>t.get("completeValue")&&setTimeout(function(){$(t.mskCnvs).parent().fadeOut("slow"),t.trigger("complete")},100)},complete:null},onComplete:Fui.empty,getTransparentPercent:function(e,t,i){for(var n=e.getImageData(0,0,t,i),r=n.data,a=[],o=0,s=r.length;s>o;o+=4){var l=r[o+3];128>l&&a.push(o)}return(a.length/(r.length/4)*100).toFixed(2)}})})(t.exports,t,e);e.__modules__.da4882a4=t.exports}(this),function(e){var t={id:"da4882a5",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){var n=Fui.extend({el:"#loading",config:{},initialize:function(){}});Fui.Loading=new n})(t.exports,t,e);e.__modules__.da4882a5=t.exports}(this),function(e){var t={id:"da4882a6",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){t.exports='{{#if title}}<h3 class="fui-formM-title"><span class="icon icon-quill"></span><span class="txt">{{title}}</span></h3>        {{/if}}<ul class="fui-formM-ele-list">    {{#range lines}}    <li class="fui-formM-line"></li>    {{/range}}</ul>'})(t.exports,t,e);e.__modules__.da4882a6=t.exports}(this),function(e){var t={id:"da4882a7",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.FormM=Fui.extend({className:"fui-formM",config:{items:null,title:null,grid:1,tpl:i.__modules__.da4882a6},listeners:{submit:null,end:function(){}},_submit:function(){var e=this;this.validate(function(t){t&&e.trigger("submit",[e.getData()])})},_end:function(){var e=this;setTimeout(function(){e.remove(),e=null},2e3)},_success:function(){this.$list.hide(),this.$title.children(".icon").addClass("icon-checkmark-circle"),this.$title.addClass("success"),this.$title.children(".txt").text(""),this._end()},_failed:function(){this.$list.hide(),this.$title.children(".icon").addClass("icon-cancel-circle"),this.$title.addClass("failed"),this.$title.children(".txt").text("..."),this._end()},validate:function(e){function t(t,i){t?r++:s.push(i),++a==o&&e(r==o,s)}var i=this,n=i.get("items"),r=0,a=0,o=n.length,s=[];_.each(n,function(e){_.isFunction(e.validate)?e.validate(t):e.noValidate?t(!0):console.log("FormItem has no validate :",e)})},remove:function(){var e=this;this.$pop&&(this.$pop.removeClass("show"),setTimeout(function(){e.$pop.off(),e.$pop.remove()},500))},popup:function(){var e=this.$pop=$('<div class="fui-popup scale"></div>');e.append(this.$el),$("body").append(e),setTimeout(function(){e.addClass("show")},1)},setData:function(e,t){var i=this,n=this.get("items");_.isObject(e)&&"undefined"==typeof t?_.each(e,function(e,t){i.setData(t,e)}):_.each(n,function(i){i.get("name")==e&&i.set("value",t)})},getData:function(){for(var e=this.get("items"),t={},i=0,n=e.length;n>i;i++){var r=e[i];if(r){var a=r.get("name");if(a){var o=r.getData();o&&(t[o.name]=o.value)}}}return t},initialize:function(){var e=this,t=e.$el,i=Handlebars.compile(e.get("tpl")),n=e.get("items"),r=0,a=e.get("grid");_.each(n,function(e){isNaN(e.grid)&&(e.grid=a),r+=e.grid}),t.html(i({title:e.get("title"),lines:Math.floor(r/a)})),r=0;var o=(e.$title=t.find(".fui-formM-title"),e.$list=t.find(".fui-formM-ele-list")),s=o.children();_.each(n,function(t,i){isNaN(t.grid)&&(t.grid=a);var o=t.type;if(Fui.FormM.hasOwnProperty(o)){var l=Fui.FormM[o];switch(t.type){case"Submit":t.listeners={tap:function(){e._submit()}};break;case"Cancel":t.listeners={tap:function(){e.remove()}}}delete t.type;var u=new l(t);n.splice(i,1,u);var c=s.eq(Math.floor(r));r+=t.grid,c.append(u.$el),t.grid<a&&u.$el.addClass("inline").css({width:100*t.grid/a+"%"})}else console.error("Form type",o,"not found!")})}})})(t.exports,t,e);e.__modules__.da4882a7=t.exports}(this),function(e){var t={id:"da4882a8",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.FormM.Element=Fui.extend({ftype:"fui.form.element",className:"",config:{name:null,value:null},getData:function(){return{name:this.get("name"),value:this.get("value")}}})})(t.exports,t,e);e.__modules__.da4882a8=t.exports}(this),function(e){var t={id:"da4882a9",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){t.exports='<div class="fui-formM-ele fui-formM-input">    {{#if label}}    <label class="fui-formM-ele-label">{{label}}</label>    {{/if}}    <div class="fui-formM-ele-container">        <div class="right">            <label class="fui-formM-field">                {{#if icon}}                <span class="input-icon icon icon-{{icon}}"></span>                {{else}}                <span class="input-icon-null"></span>                {{/if}}                <span class="input-wrapper">                    {{#if disabled}}                    <input type="{{type}}" disabled="disabled" value="{{value}}"/>                    {{else}}                    <input type="{{type}}" placeholder="{{placeholder}}" value="{{value}}"/>                    {{/if}}                </span>                <span class="fui-formM-field-label">{{fieldLabel}}</span>            </label>        </div>    </div>    <div class="fui-formM-ele-description">{{description}}</div>    <div class="fui-formM-ele-error-msg"></div></div>'})(t.exports,t,e);e.__modules__.da4882a9=t.exports}(this),function(e){var t={id:"da4882aa",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.FormM.Input=Fui.FormM.Element.extend({ftype:"fui.form.input",config:{tpl:i.__modules__.da4882a9,label:null,placeholder:null,disabled:!1,icon:null,type:"text",required:!1,requiredMsg:"",errMsg:"",correct:!0},listeners:{errMsgChanged:function(e){e?(this.$errMsg.text(e),this.$el.addClass("error")):(this.$errMsg.text(""),this.$el.removeClass("error"))}},validateNull:function(e){var t=this,i=t.getValue(),n=t.get("required");i||(n?t.set("errMsg",t.get("requiredMsg")):(t.set("errMsg",""),e()))},validate:function(e){e=e||function(){};var t=this.getValue();return!0!==this.get("required")||t?(this.set("errMsg",""),void e(!0)):(this.set("errMsg",this.get("requiredMsg")),e(!1))},getValue:function(){return this.$input.val()},getData:function(){return{name:this.get("name"),value:this.$input.val()}},initialize:function(){var e=this,t=Handlebars.compile(e.get("tpl")),i=$(t({label:e.get("label"),placeholder:e.get("placeholder"),disabled:e.get("disabled"),icon:e.get("icon"),type:e.get("type")}));e.$el=i,e.el=i[0];var n=e.$input=i.find("input");e.$errMsg=i.find(".fui-formM-ele-error-msg");n.on("blur",function(){e.validate()}),e.render()},render:function(){}})})(t.exports,t,e);e.__modules__.da4882aa=t.exports}(this),function(e){var t={id:"da4882ab",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.FormM.Text=Fui.FormM.Input.extend({ftype:"fui.form.text",config:{}})})(t.exports,t,e);e.__modules__.da4882ab=t.exports}(this),function(e){var t={id:"da48a970",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.FormM.Email=Fui.FormM.Text.extend({ftype:"fui.form.email",config:{type:"email",icon:"mail2"},validate:function(e){var t=this,i=t.getValue(),n=t.get("required");e=e||function(){},i?/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/g.test(t.getValue())?(t.set("errMsg",""),e(!0)):(t.set("errMsg",""),e(!1)):n?(t.set("errMsg",""),e(!1,"")):(t.set("errMsg",""),e(!0))}})})(t.exports,t,e);e.__modules__.da48a970=t.exports}(this),function(e){var t={id:"da48a971",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.FormM.Password=Fui.FormM.Text.extend({ftype:"fui.form.password",config:{type:"password",icon:"key"},validate:function(e){var t=this,i=t.getValue(),n=t.get("required");e=e||function(){},i?i&&i.length>=6?(t.set("errMsg",""),e(!0)):(t.set("errMsg","6"),e(!1)):n?(t.set("errMsg",""),e(!1,"")):(t.set("errMsg",""),e(!0))}})})(t.exports,t,e);e.__modules__.da48a971=t.exports}(this),function(e){var t={id:"da48a972",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.FormM.Mobile=Fui.FormM.Text.extend({ftype:"fui.form.mobile",config:{type:"number",icon:"mobile"},validate:function(e){var t=this,i=t.getValue(),n=t.get("required");e=e||function(){},i?/^1\d{10}$/g.test(t.getValue())?(t.set("errMsg",""),e(!0)):(t.set("errMsg",""),e(!1)):n?(t.set("errMsg",""),e(!1)):(t.set("errMsg",""),e(!0))}})})(t.exports,t,e);e.__modules__.da48a972=t.exports}(this),function(e){var t={id:"da48a973",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){i.__modules__.da4882aa,i.__modules__.da4882ab,i.__modules__.da48a970,i.__modules__.da48a971,i.__modules__.da48a972})(t.exports,t,e);e.__modules__.da48a973=t.exports}(this),function(e){var t={id:"da48a974",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){t.exports='<div class="fui-formM-ele fui-formM-input fui-formM-button">    <div class="fui-formM-ele-container">        <div class="right">            <label class="fui-formM-field fui-formM-button-{{type}} fui-formM-button-{{size}}">                {{#if icon}}                <span class="input-icon icon icon-{{icon}}"></span>                {{/if}}                <span class="input-wrapper">                    {{text}}                </span>                <span class="fui-formM-field-label">{{fieldLabel}}</span>            </label>        </div>    </div>    <div class="fui-formM-ele-description">{{description}}</div>    <div class="fui-formM-ele-error-msg"></div></div>'})(t.exports,t,e);e.__modules__.da48a974=t.exports}(this),function(e){var t={id:"da48a975",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.FormM.Button=Fui.FormM.Element.extend({noValidate:!0,config:{type:"default",text:"Button",icon:null,size:null,tpl:i.__modules__.da48a974},listeners:{tap:null,gesture:function(e,t,i){"tap"===t&&this.trigger("tap")},touchstart:function(){this.$field.addClass("on")},touchend:function(){this.$field.removeClass("on")},textChanged:function(e){this.$field.text(e)},iconChanged:function(e,t){this.$field.removeClass("icon-"+t).addClass("icon-"+e)}},getTplData:function(){return{type:this.get("type"),text:this.get("text"),size:this.get("size"),icon:this.get("icon")}},initialize:function(){var e=this,t=e.get("tpl"),i=e.$el=$(Handlebars.compile(t)(e.getTplData()));e.el=i[0],e.$field=i.find(".fui-formM-field"),e.event=new Fui.Event({hoster:e,stopPropagation:!0})}})})(t.exports,t,e);e.__modules__.da48a975=t.exports}(this),function(e){var t={id:"da48a976",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.FormM.Submit=Fui.FormM.Button.extend({config:{type:"primary"}})})(t.exports,t,e);e.__modules__.da48a976=t.exports}(this),function(e){var t={id:"da48a977",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.FormM.Cancel=Fui.FormM.Button.extend({config:{type:"cancel"}})})(t.exports,t,e);e.__modules__.da48a977=t.exports}(this),function(e){var t={id:"da48a978",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){i.__modules__.da48a975,i.__modules__.da48a976,i.__modules__.da48a977})(t.exports,t,e);e.__modules__.da48a978=t.exports}(this),function(e){var t={id:"da48a979",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){t.exports='<div class="fui-formM-ele fui-formM-input fui-formM-image-picker">    {{#if label}}    <label class="fui-formM-ele-label">{{label}}</label>    {{/if}}    <div class="fui-formM-ele-container">        <div class="box left">            <!--<span></span>-->            <a class="take btn-primary">                <span class="icon icon-camera"></span><span class="txt"></span>                <input type="file"/>            </a>            <a class="cancel"><span class="icon icon-remove2"></span></a>        </div>        <div class="box center">            <img/>        </div>        <!--<div class="box right">-->            <!---->        <!--</div>-->    </div>    <div class="fui-formM-ele-description">{{description}}</div>    <div class="fui-formM-ele-error-msg"></div></div>'})(t.exports,t,e);e.__modules__.da48a979=t.exports}(this),function(e){var t={id:"da48a97a",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){Fui.FormM.ImagePicker=Fui.FormM.Input.extend({config:{type:"file",file:null,tpl:i.__modules__.da48a979,requiredMsg:""},renderImgToCanvas:function(e){var t=new Image;t.src=e,t.onload=function(){console.log(this.naturalWidth,this.naturalHeight)}},getData:function(){var e=this.$center.children("canvas"),t=null;return 1==e.length&&"CANVAS"==e[0].tagName&&(t=e[0].toDataURL("image/jpeg").split(",")[1]),{name:this.get("name"),value:t}},listeners:{fileChanged:function(e,t){var i=null,n=this;if(e&&e instanceof File){n.set("errMsg",""),this.cancelBtn.show(),i=URL.createObjectURL(e),this.$container.addClass("selected");var r=document.createElement("canvas"),a=new FileReader;a.readAsBinaryString(e),a.onloadend=function(){var t=EXIF.readFromBinaryFile(new BinaryFile(this.result)),i=t.Orientation;new MegaPixImage(e).render(r,{width:i%2==0?2*window.screen.width:2*window.screen.height,orientation:i},function(){n.$center.empty().append(r)})}}else this.cancelBtn.hide(),this.$container.removeClass("selected"),n.$center.empty();this.renderImgToCanvas(i)},take:function(e){var t=this,i=e.target.files[0];i&&(t.set("file",i),t.$take.children(".txt").text(""))},cancel:function(){this.set("file",null),this.$take.children(".txt").text("")}},render:function(){var e=this,t=e.$el,i=e.$take=t.find(".take"),n=(e.$container=t.find(".fui-formM-ele-container"),e.$right=t.find(".right")),r=(e.$center=t.find(".center"),e.$cancel=t.find(".cancel")),a=e.cancelBtn=new Fui.View({el:r[0],initialize:function(){this.event=new Fui.Event({hoster:this,stopPropagation:!0})},listeners:{gesture:function(t,i){"tap"===i&&e.trigger("cancel")}}});a.hide(),n.append(a.$el),i.children("input").on("change",function(t){e.trigger("take",[t])})}})})(t.exports,t,e);e.__modules__.da48a97a=t.exports}(this),function(e){var t={id:"da48a97b",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){i.__modules__.da4882a7,i.__modules__.da4882a8,i.__modules__.da48a973,i.__modules__.da48a978,i.__modules__.da48a97a})(t.exports,t,e);e.__modules__.da48a97b=t.exports}(this),function(e){var t={id:"da48a97c",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){i.__modules__.da48826b,i.__modules__.da48826c,i.__modules__.da48826d,i.__modules__.da488293,i.__modules__.da488295,i.__modules__.da488297,i.__modules__.da48829c,i.__modules__.da48829d,i.__modules__.da48829e,i.__modules__.da48829f,i.__modules__.da4882a0,i.__modules__.da4882a3,i.__modules__.da4882a4,i.__modules__.da4882a5,i.__modules__.da48a97b})(t.exports,t,e);e.__modules__.da48a97c=t.exports}(this),function(e){var t={id:"da48a97d",exports:{}};e.__modules__||(e.__modules__={});(function(e,t,i){function n(e){e.destroy(),$("#thelist").empty()}function r(){0==d&&(d=1,$(".slide_tips").fadeIn(),setTimeout(function(){$(".slide_tips").fadeOut()},1500)),$.each(o,function(e,t){var i='<li><img src="'+t+'"/></li>';$("#thelist").append(i)}),$("#scroller").css("width",630*o.length+"px")}i.__modules__.da48a97c,$(".weixin_jpg").attr("src",ImgDir("/weixin.jpg")),Fui.Template.IMG_DIR=ImgDir();var a=[{width:750,height:1206,content:ImgDir("/p7/list/1.jpg")},{width:750,height:1206,content:ImgDir("/p7/list/2.jpg")},{width:750,height:1206,content:ImgDir("/p7/list/3.jpg")},{width:750,height:1206,content:ImgDir("/p7/list/4.jpg")},{width:750,height:1206,content:ImgDir("/p7/list/5.jpg")}],o=[ImgDir("/p2/pop2/1.jpg"),ImgDir("/p2/pop2/2.jpg"),ImgDir("/p2/pop2/3.jpg"),ImgDir("/p2/pop2/4.jpg"),ImgDir("/p2/pop2/5.jpg"),ImgDir("/p2/pop2/6.jpg"),ImgDir("/p2/pop2/7.jpg"),ImgDir("/p2/pop2/8.jpg"),ImgDir("/p2/pop2/9.jpg"),ImgDir("/p2/pop2/10.jpg"),ImgDir("/p2/pop2/11.jpg"),ImgDir("/p2/pop2/12.jpg"),ImgDir("/p2/pop2/13.jpg"),ImgDir("/p2/pop2/14.jpg"),ImgDir("/p2/pop2/15.jpg"),ImgDir("/p2/pop2/16.jpg"),ImgDir("/p2/pop2/17.jpg"),ImgDir("/p2/pop2/18.jpg")],s=([ImgDir("/p5/pop/1.png"),ImgDir("/p5/pop/2.png"),ImgDir("/p5/pop/3.png"),ImgDir("/p5/pop/4.png"),ImgDir("/p5/pop/5.png")],Fui.Template.extend({config:{},getGestureItems:function(){return[{gesture:"rightSwipe",name:"unlock",callback:function(e,t){$(".p1 .lock_pop").fadeOut(),$(".p1 .unlock").addClass("lock"),h.set("lock",!1),setTimeout(function(){h.toPage(2)},3e3)}},{gesture:"tap",name:"pop_show",callback:function(e,t){h.set("lock",!0);var i=t.data("popid");r(i),$(".pop_p2").addClass("show"),myScroll=new iScroll("wrapper",{snap:!0,hScrollbar:!1}),myScroll.scrollToElement("li:nth-child("+i+")",10)}},{gesture:"tap",name:"show_step",callback:function(e,t){var i=t.data("id");t.parents(".p").find(".stepC").removeClass("round"),t.parents(".p").find(".popC").fadeIn().find(".pop_"+i).show().siblings(".s_pop").hide()}},{gesture:"tap",name:"hide_step",callback:function(e,t){$(".p4 .popC").fadeOut(),t.parents(".p").find(".stepC").addClass("round")}},{gesture:"tap",name:"show_pro",callback:function(e,t){var i=t.data("popid");$(".p5_pop").addClass("show");var n=$(".p5_pop").find("li").length;$("#scroller_p5").css("width",600*n+"px"),myScroll2=new iScroll("wrapper_p5",{snap:!0,momentum:!1,vScrollbar:!1}),myScroll2.scrollToElement("li:nth-child("+i+")",100)}},{gesture:"tap",name:"pro_prev",callback:function(e,t){return myScroll2.scrollToPage("prev",0),!1}},{gesture:"tap",name:"pro_next",callback:function(e,t){return myScroll2.scrollToPage("next",0),!1}},{gesture:"tap",name:"share_pop_show",callback:function(e,t){$(".share_pop").fadeIn(),$(".app-music").css("z-index","-1"),h.set("lock",!0)}},{gesture:"tap",name:"share_pop_hide",callback:function(e,t){$(".share_pop").fadeOut(),$(".app-music").css("z-index","101"),h.set("lock",!1)}},{gesture:"tap",name:"share_sina",callback:function(e,t){tourl="http://service.weibo.com/share/mobile.php?title=$content&url=$url&pic=$pic&backurl=$back",tourl=tourl.replace("$title",shareData.tit).replace("$content",shareData.tit+"  "+shareData.desc).replace("$pic",shareData.imgUrl).replace("$url",shareData.link).replace("$back",shareData.link),window.open(tourl,"_blank")}}]}}));Fui.Template.regTpl({PAGE0:s});var l=(mt_5=!1,Fui.Audio({src:ImgDir("/music.mp3"),color:"#de5a7f",autoplay:!1})),u=0,c=0,d=0,f=0,h=new Fui.PageSlider({el:"#pack",curPage:0,iteration:!1,orient:"y",listeners:{slide:function(){var e=(h.event.gesture,this.get("curPage"));1==e&&0==c&&h.set("lock",!0),3==e&&($(".p3_quest").addClass("show"),myScroll1=new iScroll("wrapper_p3",{checkDOMChanges:!0,scrollbarClass:"myScrollbar",onScrollEnd:function(){myScroll1.y<=myScroll1.maxScrollY&&(u>0?($(".p3_quest").addClass("hide"),h.next(),u=0,myScroll1.destroy()):u=1)}}),$("#wrapper_p3").show()),(4==e||2==e)&&$(".p3_quest").removeClass("show hide"),4==e&&$(".p4 .stepC").addClass("round"),7==e&&0==f&&($(".slide_tips").fadeIn(),f=1,setTimeout(function(){$(".slide_tips").fadeOut()},1500)),9==e?$(".fui-arrow").css("z-index","-1"):1==e&&0==c?($(".fui-arrow").css("z-index","-1"),c=1):$(".fui-arrow").css("z-index","10000")}},data:[{template:"PAGE0",bg:ImgDir("/p0/bg.jpg"),xtpl:"p0",design:function(){}},{template:"PAGE0",bg:ImgDir("/p1/bg.jpg"),xtpl:"p1"},{template:"PAGE0",bg:ImgDir("/p1/bg.jpg"),xtpl:"p2"},{template:"PAGE0",bg:ImgDir("/p3/bg.jpg"),xtpl:"p3"},{template:"PAGE0",bg:ImgDir("/p4/bg.jpg"),xtpl:"p4"},{template:"PAGE0",bg:ImgDir("/p5/bg.jpg"),xtpl:"p5"},{template:"PAGE0",bg:ImgDir("/p6/bg.jpg"),xtpl:"p6"},{template:"PAGE0",xtpl:"p7"},{template:"PAGE0",bg:ImgDir("/p8/bg.jpg"),xtpl:"p8"},{template:"PAGE0",bg:ImgDir("/p9/bg.jpg"),xtpl:"p9"}]});h.render(),setTimeout(function(){l.play()},1e3);var p=new iSlider({data:a,dom:document.getElementById("animation-effect"),duration:3e3,animateType:"default",isAutoplay:!1,isLooping:!0,onslideend:function(){var e=$("#animation-effect li");$.each(e,function(e,t){p.sliderIndex})}});$(".p1 .hand").on("touchend",function(e){$(".p1 .lock_pop").fadeOut(),$(".p1 .unlock").addClass("lock"),setTimeout(function(){h.set("lock",!1),h.next(),$(".fui-arrow").css("z-index","10000")},1500)}),$(".pop_p2 .close").bind("touchend",function(e){var t=e.target;n(myScroll),h.set("lock",!1),$(t).parent().removeClass("show")}),$(".p5_pop .close").bind("touchend",function(e){var t=e.target;$(t).parent().removeClass("show")});var g="http://m.cosmopolitan.com.cn/files/eventapi.php?c=Cosmom_Jssdk&type=json&url='"+encodeURIComponent(window.location.href)+"'";$.ajax({type:"POST",ansyc:!1,url:g,data:{},dataType:"json",success:function(e){wx.config({appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage"]}),wx.ready(function(){wx.onMenuShareAppMessage({title:shareData.tit,desc:shareData.desc,link:shareData.link,imgUrl:shareData.imgUrl,success:function(e){},cancel:function(e){}}),wx.onMenuShareTimeline({title:shareData.tit,link:shareData.link,imgUrl:shareData.imgUrl,success:function(e){},cancel:function(e){}})})},error:function(){}})})(t.exports,t,e);e.__modules__.da48a97d=t.exports}(this);