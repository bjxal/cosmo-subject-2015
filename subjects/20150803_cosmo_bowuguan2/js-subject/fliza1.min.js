!function(t){var e={id:"a74c6350",exports:{}};t.__modules__||(t.__modules__={});!function(){jQuery.cookie=function(t,e,n){if("undefined"==typeof e){var i=null;if(document.cookie&&""!=document.cookie)for(var r=document.cookie.split(";"),s=0;s<r.length;s++){var a=jQuery.trim(r[s]);if(a.substring(0,t.length+1)==t+"="){i=decodeURIComponent(a.substring(t.length+1));break}}return i}n=n||{},null===e&&(e="",n=$.extend({},n),n.expires=-1);var o="";if(n.expires&&("number"==typeof n.expires||n.expires.toUTCString)){var u;"number"==typeof n.expires?(u=new Date,u.setTime(u.getTime()+24*n.expires*60*60*1e3)):u=n.expires,o="; expires="+u.toUTCString()}var l=n.path?"; path="+n.path:"",c=n.domain?"; domain="+n.domain:"",d=n.secure?"; secure":"";document.cookie=[t,"=",encodeURIComponent(e),o,l,c,d].join("")}}(e.exports,e,t);t.__modules__.a74c6350=e.exports}(this),function(t){var e={id:"a74c6351",exports:{}};t.__modules__||(t.__modules__={});!function(t,e){(function(){var n=this,i=n._,r={},s=Array.prototype,a=Object.prototype,o=Function.prototype,u=s.push,l=s.slice,c=s.concat,d=a.toString,f=a.hasOwnProperty,h=s.forEach,p=s.map,g=s.reduce,_=s.reduceRight,m=s.filter,v=s.every,x=s.some,w=s.indexOf,b=s.lastIndexOf,y=Array.isArray,$=Object.keys,F=o.bind,T=function(t){return t instanceof T?t:this instanceof T?void(this._wrapped=t):new T(t)};"undefined"!=typeof t?("undefined"!=typeof e&&e.exports&&(t=e.exports=T),t._=T):n._=T,T.VERSION="1.6.0";var S=T.each=T.forEach=function(t,e,n){if(null==t)return t;if(h&&t.forEach===h)t.forEach(e,n);else if(t.length===+t.length){for(var i=0,s=t.length;s>i;i++)if(e.call(n,t[i],i,t)===r)return}else for(var a=T.keys(t),i=0,s=a.length;s>i;i++)if(e.call(n,t[a[i]],a[i],t)===r)return;return t};T.map=T.collect=function(t,e,n){var i=[];return null==t?i:p&&t.map===p?t.map(e,n):(S(t,function(t,r,s){i.push(e.call(n,t,r,s))}),i)};var M="Reduce of empty array with no initial value";T.reduce=T.foldl=T.inject=function(t,e,n,i){var r=arguments.length>2;if(null==t&&(t=[]),g&&t.reduce===g)return i&&(e=T.bind(e,i)),r?t.reduce(e,n):t.reduce(e);if(S(t,function(t,s,a){r?n=e.call(i,n,t,s,a):(n=t,r=!0)}),!r)throw new TypeError(M);return n},T.reduceRight=T.foldr=function(t,e,n,i){var r=arguments.length>2;if(null==t&&(t=[]),_&&t.reduceRight===_)return i&&(e=T.bind(e,i)),r?t.reduceRight(e,n):t.reduceRight(e);var s=t.length;if(s!==+s){var a=T.keys(t);s=a.length}if(S(t,function(o,u,l){u=a?a[--s]:--s,r?n=e.call(i,n,t[u],u,l):(n=t[u],r=!0)}),!r)throw new TypeError(M);return n},T.find=T.detect=function(t,e,n){var i;return k(t,function(t,r,s){return e.call(n,t,r,s)?(i=t,!0):void 0}),i},T.filter=T.select=function(t,e,n){var i=[];return null==t?i:m&&t.filter===m?t.filter(e,n):(S(t,function(t,r,s){e.call(n,t,r,s)&&i.push(t)}),i)},T.reject=function(t,e,n){return T.filter(t,function(t,i,r){return!e.call(n,t,i,r)},n)},T.every=T.all=function(t,e,n){e||(e=T.identity);var i=!0;return null==t?i:v&&t.every===v?t.every(e,n):(S(t,function(t,s,a){return(i=i&&e.call(n,t,s,a))?void 0:r}),!!i)};var k=T.some=T.any=function(t,e,n){e||(e=T.identity);var i=!1;return null==t?i:x&&t.some===x?t.some(e,n):(S(t,function(t,s,a){return i||(i=e.call(n,t,s,a))?r:void 0}),!!i)};T.contains=T.include=function(t,e){return null==t?!1:w&&t.indexOf===w?-1!=t.indexOf(e):k(t,function(t){return t===e})},T.invoke=function(t,e){var n=l.call(arguments,2),i=T.isFunction(e);return T.map(t,function(t){return(i?e:t[e]).apply(t,n)})},T.pluck=function(t,e){return T.map(t,T.property(e))},T.where=function(t,e){return T.filter(t,T.matches(e))},T.findWhere=function(t,e){return T.find(t,T.matches(e))},T.max=function(t,e,n){if(!e&&T.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);var i=-1/0,r=-1/0;return S(t,function(t,s,a){var o=e?e.call(n,t,s,a):t;o>r&&(i=t,r=o)}),i},T.min=function(t,e,n){if(!e&&T.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);var i=1/0,r=1/0;return S(t,function(t,s,a){var o=e?e.call(n,t,s,a):t;r>o&&(i=t,r=o)}),i},T.shuffle=function(t){var e,n=0,i=[];return S(t,function(t){e=T.random(n++),i[n-1]=i[e],i[e]=t}),i},T.sample=function(t,e,n){return null==e||n?(t.length!==+t.length&&(t=T.values(t)),t[T.random(t.length-1)]):T.shuffle(t).slice(0,Math.max(0,e))};var P=function(t){return null==t?T.identity:T.isFunction(t)?t:T.property(t)};T.sortBy=function(t,e,n){return e=P(e),T.pluck(T.map(t,function(t,i,r){return{value:t,index:i,criteria:e.call(n,t,i,r)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return t.index-e.index}),"value")};var I=function(t){return function(e,n,i){var r={};return n=P(n),S(e,function(s,a){var o=n.call(i,s,a,e);t(r,o,s)}),r}};T.groupBy=I(function(t,e,n){T.has(t,e)?t[e].push(n):t[e]=[n]}),T.indexBy=I(function(t,e,n){t[e]=n}),T.countBy=I(function(t,e){T.has(t,e)?t[e]++:t[e]=1}),T.sortedIndex=function(t,e,n,i){n=P(n);for(var r=n.call(i,e),s=0,a=t.length;a>s;){var o=s+a>>>1;n.call(i,t[o])<r?s=o+1:a=o}return s},T.toArray=function(t){return t?T.isArray(t)?l.call(t):t.length===+t.length?T.map(t,T.identity):T.values(t):[]},T.size=function(t){return null==t?0:t.length===+t.length?t.length:T.keys(t).length},T.first=T.head=T.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:0>e?[]:l.call(t,0,e)},T.initial=function(t,e,n){return l.call(t,0,t.length-(null==e||n?1:e))},T.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:l.call(t,Math.max(t.length-e,0))},T.rest=T.tail=T.drop=function(t,e,n){return l.call(t,null==e||n?1:e)},T.compact=function(t){return T.filter(t,T.identity)};var A=function(t,e,n){return e&&T.every(t,T.isArray)?c.apply(n,t):(S(t,function(t){T.isArray(t)||T.isArguments(t)?e?u.apply(n,t):A(t,e,n):n.push(t)}),n)};T.flatten=function(t,e){return A(t,e,[])},T.without=function(t){return T.difference(t,l.call(arguments,1))},T.partition=function(t,e){var n=[],i=[];return S(t,function(t){(e(t)?n:i).push(t)}),[n,i]},T.uniq=T.unique=function(t,e,n,i){T.isFunction(e)&&(i=n,n=e,e=!1);var r=n?T.map(t,n,i):t,s=[],a=[];return S(r,function(n,i){(e?i&&a[a.length-1]===n:T.contains(a,n))||(a.push(n),s.push(t[i]))}),s},T.union=function(){return T.uniq(T.flatten(arguments,!0))},T.intersection=function(t){var e=l.call(arguments,1);return T.filter(T.uniq(t),function(t){return T.every(e,function(e){return T.contains(e,t)})})},T.difference=function(t){var e=c.apply(s,l.call(arguments,1));return T.filter(t,function(t){return!T.contains(e,t)})},T.zip=function(){for(var t=T.max(T.pluck(arguments,"length").concat(0)),e=new Array(t),n=0;t>n;n++)e[n]=T.pluck(arguments,""+n);return e},T.object=function(t,e){if(null==t)return{};for(var n={},i=0,r=t.length;r>i;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},T.indexOf=function(t,e,n){if(null==t)return-1;var i=0,r=t.length;if(n){if("number"!=typeof n)return i=T.sortedIndex(t,e),t[i]===e?i:-1;i=0>n?Math.max(0,r+n):n}if(w&&t.indexOf===w)return t.indexOf(e,n);for(;r>i;i++)if(t[i]===e)return i;return-1},T.lastIndexOf=function(t,e,n){if(null==t)return-1;var i=null!=n;if(b&&t.lastIndexOf===b)return i?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var r=i?n:t.length;r--;)if(t[r]===e)return r;return-1},T.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=0,s=new Array(i);i>r;)s[r++]=t,t+=n;return s};var E=function(){};T.bind=function(t,e){var n,i;if(F&&t.bind===F)return F.apply(t,l.call(arguments,1));if(!T.isFunction(t))throw new TypeError;return n=l.call(arguments,2),i=function(){if(!(this instanceof i))return t.apply(e,n.concat(l.call(arguments)));E.prototype=t.prototype;var r=new E;E.prototype=null;var s=t.apply(r,n.concat(l.call(arguments)));return Object(s)===s?s:r}},T.partial=function(t){var e=l.call(arguments,1);return function(){for(var n=0,i=e.slice(),r=0,s=i.length;s>r;r++)i[r]===T&&(i[r]=arguments[n++]);for(;n<arguments.length;)i.push(arguments[n++]);return t.apply(this,i)}},T.bindAll=function(t){var e=l.call(arguments,1);if(0===e.length)throw new Error("bindAll must be passed function names");return S(e,function(e){t[e]=T.bind(t[e],t)}),t},T.memoize=function(t,e){var n={};return e||(e=T.identity),function(){var i=e.apply(this,arguments);return T.has(n,i)?n[i]:n[i]=t.apply(this,arguments)}},T.delay=function(t,e){var n=l.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},T.defer=function(t){return T.delay.apply(T,[t,1].concat(l.call(arguments,1)))},T.throttle=function(t,e,n){var i,r,s,a=null,o=0;n||(n={});var u=function(){o=n.leading===!1?0:T.now(),a=null,s=t.apply(i,r),i=r=null};return function(){var l=T.now();o||n.leading!==!1||(o=l);var c=e-(l-o);return i=this,r=arguments,0>=c?(clearTimeout(a),a=null,o=l,s=t.apply(i,r),i=r=null):a||n.trailing===!1||(a=setTimeout(u,c)),s}},T.debounce=function(t,e,n){var i,r,s,a,o,u=function(){var l=T.now()-a;e>l?i=setTimeout(u,e-l):(i=null,n||(o=t.apply(s,r),s=r=null))};return function(){s=this,r=arguments,a=T.now();var l=n&&!i;return i||(i=setTimeout(u,e)),l&&(o=t.apply(s,r),s=r=null),o}},T.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},T.wrap=function(t,e){return T.partial(e,t)},T.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},T.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},T.keys=function(t){if(!T.isObject(t))return[];if($)return $(t);var e=[];for(var n in t)T.has(t,n)&&e.push(n);return e},T.values=function(t){for(var e=T.keys(t),n=e.length,i=new Array(n),r=0;n>r;r++)i[r]=t[e[r]];return i},T.pairs=function(t){for(var e=T.keys(t),n=e.length,i=new Array(n),r=0;n>r;r++)i[r]=[e[r],t[e[r]]];return i},T.invert=function(t){for(var e={},n=T.keys(t),i=0,r=n.length;r>i;i++)e[t[n[i]]]=n[i];return e},T.functions=T.methods=function(t){var e=[];for(var n in t)T.isFunction(t[n])&&e.push(n);return e.sort()},T.extend=function(t){return S(l.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},T.pick=function(t){var e={},n=c.apply(s,l.call(arguments,1));return S(n,function(n){n in t&&(e[n]=t[n])}),e},T.omit=function(t){var e={},n=c.apply(s,l.call(arguments,1));for(var i in t)T.contains(n,i)||(e[i]=t[i]);return e},T.defaults=function(t){return S(l.call(arguments,1),function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])}),t},T.clone=function(t){return T.isObject(t)?T.isArray(t)?t.slice():T.extend({},t):t},T.tap=function(t,e){return e(t),t};var C=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof T&&(t=t._wrapped),e instanceof T&&(e=e._wrapped);var r=d.call(t);if(r!=d.call(e))return!1;switch(r){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var s=n.length;s--;)if(n[s]==t)return i[s]==e;var a=t.constructor,o=e.constructor;if(a!==o&&!(T.isFunction(a)&&a instanceof a&&T.isFunction(o)&&o instanceof o)&&"constructor"in t&&"constructor"in e)return!1;n.push(t),i.push(e);var u=0,l=!0;if("[object Array]"==r){if(u=t.length,l=u==e.length)for(;u--&&(l=C(t[u],e[u],n,i)););}else{for(var c in t)if(T.has(t,c)&&(u++,!(l=T.has(e,c)&&C(t[c],e[c],n,i))))break;if(l){for(c in e)if(T.has(e,c)&&!u--)break;l=!u}}return n.pop(),i.pop(),l};T.isEqual=function(t,e){return C(t,e,[],[])},T.isEmpty=function(t){if(null==t)return!0;if(T.isArray(t)||T.isString(t))return 0===t.length;for(var e in t)if(T.has(t,e))return!1;return!0},T.isElement=function(t){return!(!t||1!==t.nodeType)},T.isArray=y||function(t){return"[object Array]"==d.call(t)},T.isObject=function(t){return t===Object(t)},S(["Arguments","Function","String","Number","Date","RegExp"],function(t){T["is"+t]=function(e){return d.call(e)=="[object "+t+"]"}}),T.isArguments(arguments)||(T.isArguments=function(t){return!(!t||!T.has(t,"callee"))}),"function"!=typeof/./&&(T.isFunction=function(t){return"function"==typeof t}),T.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},T.isNaN=function(t){return T.isNumber(t)&&t!=+t},T.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==d.call(t)},T.isNull=function(t){return null===t},T.isUndefined=function(t){return void 0===t},T.has=function(t,e){return f.call(t,e)},T.noConflict=function(){return n._=i,this},T.identity=function(t){return t},T.constant=function(t){return function(){return t}},T.property=function(t){return function(e){return e[t]}},T.matches=function(t){return function(e){if(e===t)return!0;for(var n in t)if(t[n]!==e[n])return!1;return!0}},T.times=function(t,e,n){for(var i=Array(Math.max(0,t)),r=0;t>r;r++)i[r]=e.call(n,r);return i},T.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},T.now=Date.now||function(){return(new Date).getTime()};var D={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};D.unescape=T.invert(D.escape);var L={escape:new RegExp("["+T.keys(D.escape).join("")+"]","g"),unescape:new RegExp("("+T.keys(D.unescape).join("|")+")","g")};T.each(["escape","unescape"],function(t){T[t]=function(e){return null==e?"":(""+e).replace(L[t],function(e){return D[t][e]})}}),T.result=function(t,e){if(null==t)return void 0;var n=t[e];return T.isFunction(n)?n.call(t):n},T.mixin=function(t){S(T.functions(t),function(e){var n=T[e]=t[e];T.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),j.call(this,n.apply(T,t))}})};var O=0;T.uniqueId=function(t){var e=++O+"";return t?t+e:e},T.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var B=/(.)^/,q={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},z=/\\|'|\r|\n|\t|\u2028|\u2029/g;T.template=function(t,e,n){var i;n=T.defaults({},n,T.templateSettings);var r=new RegExp([(n.escape||B).source,(n.interpolate||B).source,(n.evaluate||B).source].join("|")+"|$","g"),s=0,a="__p+='";t.replace(r,function(e,n,i,r,o){return a+=t.slice(s,o).replace(z,function(t){return"\\"+q[t]}),n&&(a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(a+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),r&&(a+="';\n"+r+"\n__p+='"),s=o+e.length,e}),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{i=new Function(n.variable||"obj","_",a)}catch(o){throw o.source=a,o}if(e)return i(e,T);var u=function(t){return i.call(this,t,T)};return u.source="function("+(n.variable||"obj")+"){\n"+a+"}",u},T.chain=function(t){return T(t).chain()};var j=function(t){return this._chain?T(t).chain():t};T.mixin(T),S(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=s[t];T.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],j.call(this,n)}}),S(["concat","join","slice"],function(t){var e=s[t];T.prototype[t]=function(){return j.call(this,e.apply(this._wrapped,arguments))}}),T.extend(T.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return T}),window._=T}).call(this)}(e.exports,e,t);t.__modules__.a74c6351=e.exports}(this),function(t){var e={id:"a74c6352",exports:{}};t.__modules__||(t.__modules__={});!function(){Handlebars.registerHelper("range",function(t,e){for(var n="",i=0;t>i;i++)n+=e.fn(i);return n}),Handlebars.registerHelper("equal",function(t,e,n){return t==e?n.fn(this):n.inverse(this)})}(e.exports,e,t);t.__modules__.a74c6352=e.exports}(this),function(t){var e={id:"a74c6353",exports:{}};t.__modules__||(t.__modules__={});!function(t,e,n){var i=(window.location.hostname,function(t,e){var n,i=this;n=t&&_.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},_.extend(n,i,e);var r=function(){this.constructor=n};return r.prototype=i.prototype,n.prototype=new r,t&&_.extend(n.prototype,t),_.extend(n.prototype,{"super":i.prototype}),n}),r=function(t){t||(t={});var e,n,i=this["super"],r={},s={},a=[],o={},u={},l=[];for("page4"==t.ftype;i;)a.push(i.config),l.push(i.listeners),i=i["super"];for(a.reverse(),e=0,n=a.length;n>e;e++)_.extend(s,a[e]);for(e=0,n=l.length;n>e;e++)_.extend(u,l[e]);_.extend(r,s,this.config),_.extend(o,u,this.listeners,t.listeners);var c=_.keys(r);r=_.defaults(_.pick(t,c),r),t=_.omit(t,c),t.config=r,t.listeners=o,this.options=t,this.initial.call(this,t)};_.extend(r.prototype,{fid:0,config:{},events:{},listeners:{},initial:function(){},set:function(t,e){if(_.isObject(t)&&!e)for(var n in t)t.hasOwnProperty(n)&&this.set(n,t[n]);else if(_.isString(t)){var i,r,s=_.result(this.options,"config");"undefined"!=typeof s[t]&&(_.isFunction(e)&&(e=e.call(null)),r=s[t],this.options.config[t]=e,i=this.options.listeners[t+"Changed"]||this.events[t+"changed"],_.isFunction(i)&&!1===i.apply(this,[e,r])&&(this.options.config[t]=r))}},get:function(t){var e=this.options.config[t];_.isFunction(e)&&(e=e.call(this));var n=this.options.listeners[t+"Get"];return _.isFunction(n)?n.call(this,e):e},trigger:function(t,e){t=this.options.listeners[t],_.isArray(e)||(e=[e]),_.isFunction(t)&&t.apply(this,e)}}),r.extend=i,e.exports=n.F=n.FClass=r}(e.exports,e,t);t.__modules__.a74c6353=e.exports}(this),function(t){var e={id:"a74c8a60",exports:{}};t.__modules__||(t.__modules__={});!function(t,e){var n=/^(\S+)\s*(.*)$/,i=window.Fui=e.exports=FClass.extend({el:null,$el:null,tagName:"div",config:null,model:null,collection:null,attributes:null,css:null,className:null,events:{},initialize:function(){},initial:function(t){this.cid=_.uniqueId("fui"),_.extend(this.events,t.events||{}),_.extend(this,_.omit(t,["events"])),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},render:function(){},callParent:function(t){_.isString(t)||(t="render");var e=this["super"][t];return _.isFunction(e)&&(e=e.call(this)),e},show:function(){this.$el.show()},hide:function(){this.$el.hide()},refresh:null,remove:function(){return this.$el.remove(),this.stopListening(),this.onRemove(),this},onRemove:function(){},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},delegateEvents:function(t){if(!t&&!(t=_.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var i=t[e];if(_.isFunction(i)||(i=this[t[e]]),i){var r=e.match(n),s=r[1],a=r[2];i=_.bind(i,this),s+=".delegateEvents"+this.cid,""===a?this.$el.on(s,i):this.$el.on(s,a,i)}}return this},setElement:function(t,e){this.$el&&this.undelegateEvents(),this.$el=t instanceof $?t:$(t),this.el=this.$el[0];var n=_.extend({},_.result(this,"attributes")),i=_.extend({},_.result(this,"css"));this.id&&(n.id=_.result(this,"id"));var r=_.result(this,"className");return _.isFunction(r)&&(r=r.apply(this)),_.isArray(r)&&(r=r.join(" ")),this.$el.attr(n).css(i).addClass(r),e!==!1&&this.delegateEvents(),this},_ensureElement:function(){if(this.el)this.setElement(_.result(this,"el"),!1);else{var t=$("<"+_.result(this,"tagName")+">");this.$el&&(t=this.$el[0]),this.setElement(t,!1)}},stopListening:function(t,e,n){var i=this._listeningTo;if(!i)return this;var r=!e&&!n;n||"object"!=typeof e||(n=this),t&&((i={})[t._listenId]=t);for(var s in i)t=i[s],t.off(e,n,this),(r||_.isEmpty(t._events))&&delete this._listeningTo[s];return this}},{WIDTH:640,HEIGHT:1008,WIN_W:$(window).width(),WIN_H:$(window).height(),IMG_STANDARD_WIDTH:640,IMG_STANDARD_HEIGHT:1008,emptyFunc:function(){},deviceType:function(){var t=this.WIN_W;return 640>t?1:960>t?2:1280>t?3:4},getLocationParam:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(e);return null!=n?unescape(n[2]):null},isM:function(){return 1==this.deviceType()},SCROLL_TOP:function(){return $(document).scrollTop()},Msg:function(t,e){e=e||"info",console.log("["+e+"] "+t)},getTrans:function(t){var e=getComputedStyle(t[0],null).webkitTransform;if(!/^matrix/.test(e))return 0;var n=/matrix\(([\d\,\.\-\s]*)\)/g.exec(e)[1];return n=n.split(","),{x:n[4]<<0,y:n[5]<<0}}});i.View=i.extend({config:{event:!1},listeners:{tap:null},initialize:function(){this.get("event")&&(this.event=new i.Event({hoster:this,stopPropagation:!0})),this.design&&this.design()}})}(e.exports,e,t);t.__modules__.a74c8a60=e.exports}(this),function(t){var e={id:"a74c8a61",exports:{}};t.__modules__||(t.__modules__={});!function(){var t={ua:navigator.userAgent,andrioid_version:100,isAndroid:!1,init:function(){this.OS=this.searchString(this.dataOS())||"an unknown OS",this.Browser=this.searchBrowser(this.dataB()),this.mobile="iPhone"==this.OS||"iPad"==this.OS||"Android"==this.OS||"Winphone"==this.OS?!0:!1,/Android (\d+\.\d+)/.test(navigator.userAgent)&&(this.andrioid_version=RegExp.$1,this.isAndroid=!0)},searchString:function(t){for(var e=0;e<t.length;e++){var n=t[e].string;if(n&&-1!=n.indexOf(t[e].forSearch))return t[e].forShow}},searchBrowser:function(t){for(var e="",n=0;n<t.length;n++){var i=t[n].string;i&&-1!=i.indexOf(t[n].forSearch)&&(e+=t[n].forShow+"|")}return e.substring(0,e.length-1)},dataOS:function(){return[{string:navigator.platform,forSearch:"Win",forShow:"Windows"},{string:navigator.platform,forSearch:"Mac",forShow:"Mac"},{string:this.ua,forSearch:"iPhone",forShow:"iPhone"},{string:this.ua,forSearch:"iPad",forShow:"iPad"},{string:this.ua,forSearch:"Android",forShow:"Android"},{string:this.ua,forSearch:"Windows Phone",forShow:"Winphone"}]},dataB:function(){return[{string:this.ua,forSearch:"360browser",forShow:"360"},{string:this.ua,forSearch:"Maxthon",forShow:"Maxthon"},{string:this.ua,forSearch:"UCBrowser",forShow:"uc"},{string:this.ua,forSearch:"Oupeng",forShow:"opera"},{string:this.ua,forSearch:"Opera",forShow:"opera"},{string:this.ua,forSearch:"Sogou",forShow:"sogou"},{string:this.ua,forSearch:"baidu",forShow:"baidu"},{string:this.ua,forSearch:"Safari",forShow:"safari"},{string:this.ua,forSearch:"MicroMessenger",forShow:"weixin"},{string:this.ua,forSearch:"QQ/",forShow:"qq"},{string:this.ua,forSearch:"Weibo",forShow:"weibo"},{string:this.ua,forSearch:"MQBrowser",forShow:"360"},{string:this.ua,forSearch:"MQQBrowser",forShow:"qqbrowser"},{string:this.ua,forSearch:"CriOS",forShow:"Maxthon"},{string:this.ua,forSearch:"Firefox/",forShow:"ff"}]}};t.init(),Fui.client=t}(e.exports,e,t);t.__modules__.a74c8a61=e.exports}(this),function(t){var e={id:"a74c8a62",exports:{}};t.__modules__||(t.__modules__={});!function(){var t=Fui.Event=function(t){this.options=_.defaults(t,{stopPropagation:!1,draggable:!1,pinch:!1}),this.options.draggable&&this.options.hoster.$target&&this.options.hoster.$target.css({webkitTransform:"translate(0,0)",transform:"translate(0,0)"}),this.easingX=new Fui.Easing,this.easingY=new Fui.Easing,this.bindEvents()};t.prototype={_event_start:!1,_event_start_p:{x:0,y:0,ts:0},_event_cur_p:{x:0,y:0,ts:0},_event_cur_dis:{x:0,y:0},_event_del_p:{x:0,y:0,ts:0},_event_cur_speed:{x:0,y:0},_draggable:{startTrans:{x:0,y:0}},_pinch:{startDis:0,scale:1,preScale:1,tempScale:1},gesture:null,startGesture:null,max:{x:0,y:0},min:{x:0,y:0},unbindEvents:function(){var t=this.options.hoster;t.$el.undelegate("."+t.cid),delete this},getAngle:function(t,e){var n=180*Math.atan(Math.abs(e/t))/Math.PI;return 0>t&&(n=180-n),e>0&&(n=-n),n},getCurAngle:function(){var t,e=this,n=e._event_del_p;return t=180*Math.atan(-n.y/n.x)/Math.PI,n.x<0&&(t+=90),t},trans:function(t,e){var n,i,r=e.transform||{},s=e.transition||"none";if(r.translate3d){var a=n=r.translate3d;r.translate3d.x=a.x||0,r.translate3d.y=a.y||0,r.translate3d.z=a.z||0,/\%$/.test(n.x)||(n.x=parseInt(n.x)+"px"),/\%$/.test(n.y)||(n.y=parseInt(n.y)+"px"),/\%$/.test(n.z)||(n.z=parseInt(n.z)+"px")}else r.translate3d={x:0,y:0,z:0};r.scale?i=r.scale:r.scale=i=1;var o="translate3d("+n.x+","+n.y+","+n.z+") scale("+i+")";t.css({webkitTransform:o,webkitTransition:s})},getDisTwoPoint:function(t){if(2!=t.length)return null;var e={x:t[0].clientX,y:t[0].clientY},n={x:t[1].clientX,y:t[1].clientY},i=Math.sqrt((e.x-n.x)*(e.x-n.x)+(e.y-n.y)*(e.y-n.y)),r={x:e.x+n.x>>1,y:e.y+n.y>>1};return{dis:i,p:r}},getTrans:function(t){var e=getComputedStyle(t[0],null).webkitTransform;if(!/^matrix/.test(e))return 0;var n=/matrix\(([\d\,\.\-\s]*)\)/g.exec(e)[1];return n=n.split(","),{x:n[4]<<0,y:n[5]<<0}},checkOrientGesture:function(t){return"x"==t&&/^left|right/.test(this.startGesture)||"y"==t&&/^up|down/.test(this.startGesture)},stopPropagation:function(){this.$e.stopPropagation()},preventDefault:function(){this.$e.preventDefault()},bindEvents:function(){function t(){o._event_cur_speed={x:0,y:0},o._event_cur_dis={x:0,y:0}}function e(e){g&&(e.stopPropagation(),e.preventDefault()),o.$e=e;var n=e.originalEvent.touches?e.originalEvent.touches[0]:e.originalEvent;if(x||(x=n.identifier),o._event_start=!0,d=o._event_start_p=o._event_cur_p=p=h={x:n.clientX,y:n.clientY,ts:Date.now()},t(),m=!0,o.gesture=null,o.startGesture=null,n.identifier==x&&(!0===o.options.draggable&&(e.stopPropagation(),e.preventDefault(),o._draggable.startTrans=o.getTrans(u.$target)),!0===o.options.pinch)){e.stopPropagation(),e.preventDefault();var i=o.getDisTwoPoint(e.originalEvent.touches);i&&(o._pinch.startDis=i.dis,o._pinch.preScale=o._pinch.tempScale)}_.isFunction(u._onstart)&&u._onstart(e),u.trigger("touchstart",[o])}function n(t){g&&(t.stopPropagation(),t.preventDefault()),o.$e=t;var e=t.originalEvent.touches?t.originalEvent.touches[0]:t.originalEvent;m&&(v=!0),f=o._event_cur_p={x:e.clientX,y:e.clientY,ts:Date.now()},p=h,h=f;var n=o._event_cur_dis={x:f.x-d.x,y:f.y-d.y};if(null==o.startGesture&&(Math.abs(n.x)>10||Math.abs(n.y)>10)){var i=o.getAngle(n.x,n.y),l=o._event_cur_speed;Math.abs(i)<=80||Math.abs(i)>=100?(l.x>0&&(o.startGesture="rightSwipe"),l.x<0&&(o.startGesture="leftSwipe")):(l.y>0&&(o.startGesture="downSwipe"),l.y<0&&(o.startGesture="upSwipe"))}h.ts-p.ts>5&&(r=h.x-p.x,s=h.y-p.y,a=h.ts-p.ts,o._event_del_p={x:r,y:s,ts:a},o._event_cur_speed={x:r/a,y:s/a},_.isFunction(u._onmove)&&u._onmove(t),u.trigger("touchmove",[o]));var c={x:0,y:0},w=1;if(e.identifier==x){if(!0===o.options.draggable&&(c={x:n.x+o._draggable.startTrans.x,y:n.y+o._draggable.startTrans.y},o.options.hoster.trigger("drag",[c.x,c.y])),!0===o.options.pinch){t.stopPropagation(),t.preventDefault();var b=o.getDisTwoPoint(t.originalEvent.touches);b?(w=b.dis/o._pinch.startDis,w*=o._pinch.preScale):w=o._pinch.tempScale,o.options.hoster.trigger("pinch",[w])}(!0===o.options.draggable||!0===o.options.pinch)&&(t.stopPropagation(),t.preventDefault(),o.options.hoster.trigger("translate",[c.x,c.y,w]),o.trans(u.$target,{transform:{translate3d:c,scale:w}}),o._pinch.tempScale=w)}}function i(e){g&&(e.stopPropagation(),e.preventDefault());var n=e.originalEvent.changedTouches;_.each(n,function(t){t.identifier==x&&(x=0)}),o.$e=e;var i=o._event_cur_dis.x,r=o._event_cur_dis.y,s=(o.gesture,$(e.target)),a=l.height(),c=l.width();if(Math.abs(i)>10||Math.abs(r)>10){var d=o.getAngle(i,r),f=o._event_cur_speed;Math.abs(d)<=30||Math.abs(d)>=150?(Math.abs(f.x)>.5||Math.abs(i)>c/2)&&(f.x>0&&(o.gesture="rightSwipe"),f.x<0&&(o.gesture="leftSwipe")):(Math.abs(f.y)>.5||Math.abs(r)>a/2)&&(f.y>0&&(o.gesture="downSwipe"),f.y<0&&(o.gesture="upSwipe"))}else{o.gesture="tap";var h=e.target.tagName.toLowerCase();("input"==h||"a"==h)&&m&&!v&&(e.target.focus(),e.target.click())}_.isFunction(u.onGesture)&&u.onGesture(o.gesture,s,o),_.isFunction(u._ontap)&&u._ontap(o),_.isFunction(u._onend)&&u._onend(o),u.trigger("touchend",[o]),u.trigger(o.gesture,[o,s]),u.trigger("gesture",[o,o.gesture,s]),m=!1,v=!1,t()}var r,s,a,o=this,u=this.options.hoster,l=u.$el,c=u.cid,d={x:0,y:0},f={x:0,y:0},h={x:0,y:0},p={x:0,y:0},g=o.options.stopPropagation,m=!1,v=!1,x=0,w=!1;l.on("touchstart."+c,e).on("touchmove."+c,n).on("touchend."+c,i),l.on("mousedown."+c,function(t){w=!0,e(t)}).on("mousemove."+c,function(t){w&&n(t)}).on("mouseup."+c,function(t){w&&(i(t),w=!1)}).on("mouseout."+c,function(t){w&&(i(t),w=!1)}),window.hasOwnProperty("ontouchstart")}}}(e.exports,e,t);t.__modules__.a74c8a62=e.exports}(this),function(t){var e={id:"a74c8a63",exports:{}};t.__modules__||(t.__modules__={});!function(){!function(){var t,e,n=0,i=["ms","moz","webkit","o"],r=i.length;for(t=0;r>t&&!window.requestAnimationFrame;++t)e=i[t],window.requestAnimationFrame=window[e+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e+"CancelAnimationFrame"]||window[e+"CancelRequestAnimationFrame"];Fui.performance={},Fui.performance.now=window.performance&&window.performance.now?function(){return window.performance.now()}:function(){return Date.now()},window.requestAnimationFrame=function(t,e){var i=Date.now(),r=Math.max(0,16-(i-n)),s=window.setTimeout(function(){t.call(e)},0);return n=i+r,s},window.requestAnimationFrame&&(Fui.trueRequestAnimationFrames=!0),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),Fui.AnimationQueue=FClass.extend({config:{queue:[],status:"stop",ts:0},push:function(){this.get("queue").push(arguments)},start:function(){this.set("status","start"),this.clear(),this.set("ts",Date.now()),this.doStart()},run:function(){var t=this,e=this.get("queue").shift();e&&(e[0].apply(e[1],e[2]),t.set("ts",Date.now())),t.doIterator()},doIterator:function(){this.animationId=requestAnimationFrame(this.run,this)},doStart:function(){this.animationId=requestAnimationFrame(this.run,this)},stop:function(){cancelAnimationFrame(this.animationId)},clear:function(){this.get("queue").length=0}})}(e.exports,e,t);t.__modules__.a74c8a63=e.exports}(this),function(t){var e={id:"a74c8a64",exports:{}};t.__modules__||(t.__modules__={});!function(){Fui.Easing=FClass.extend({getTrans:function(t){var e=getComputedStyle(t[0],null).webkitTransform;if(!/^matrix/.test(e))return 0;var n=/matrix\(([\d\,\.\-\s]*)\)/g.exec(e)[1];return n=n.split(","),{x:n[4]<<0,y:n[5]<<0}},init:function(t,e,n){var i=n.$ele;if(this.friction=.5,this.acceleration=30,this.theta=Math.log(1-this.friction/10),this.alpha=this.theta/this.acceleration,t&&(this.startTime=Date.now(),this.startSpeed=t._event_cur_speed[e]*this.acceleration,this.startPos=this.getTrans(i)[e],this.maxV=n.max[e],this.minV=n.min[e]),this.outBound=this.startPos>this.maxV||this.startPos<this.minV,this.ended=!1,this.bounceBack=!1,this.lastValue=null,this.bounceInitValue="undefined"==typeof this.bounceInitValue?0:this.bounceInitValue,this.outBound){var r=null;this.startPos>this.maxV&&(r="max"),this.startPos<this.minV&&(r="min"),this.setBounce(Date.now(),("max"==r?this.maxV:this.minV)+this.bounceInitValue,0,!0)}},getValue:function(){var t=this.startSpeed,e=Math.exp((Date.now()-this.startTime)*this.alpha),n=this.startPos-t*(1-e)/this.theta,i=e*t;if(0==t)return this.ended=!0,this.startPos;if(this.direction=t>0?1:-1,!this.outBound){if(Math.abs(i)<1&&(this.ended=!0),n<=this.maxV&&n>=this.minV)return n;this.outBound=!0,this.setBounce(Date.now(),i>0?this.maxV:this.minV,i)}if(n=Math.round(this.getBounceValue()),!this.ended)if(this.bounceBack){if(Math.round(n)==this.bounceStartValue)return this.ended=!0,n}else null!=this.lastValue&&(1==this.direction&&n<this.lastValue||-1==this.direction&&n>this.lastValue)&&(this.bounceBack=!0);return this.lastValue=n,n},setBounce:function(t,e,n,i){this.bounceStartTime=t,this.bounceStartValue=e,this.bounceStartVelocity=n,this.bounceBack=!1,this.bounceTT=i},getBounceValue:function(){if(!this.bounceTT){var t=Date.now()-this.bounceStartTime,e=t/30,n=e*Math.pow(Math.E,-.3*e);return this.bounceStartValue+this.bounceStartVelocity*n}if(this.bounceTT){var i=1.2*(Date.now()-this.startTime)/300;return i>=1&&(i=1),this.startPos+(this.bounceStartValue-this.startPos)*i}}})}(e.exports,e,t);t.__modules__.a74c8a64=e.exports}(this),function(t){var e={id:"a74c8a65",exports:{}};t.__modules__||(t.__modules__={});!function(){function t(t,e,n,i){function r(t){return/^[\+|\-]{1}$/.test(t)?t=parseInt(t+s.pageSize[n])+"px":/\%$/.test(t)||(t=parseInt(t)+"px"),["translate3d("+("x"==n?t:"0px"),"y"==n?t:"0px","0px) scale(1) rotate(0deg) skew(0deg,0deg)"].join(",")
}var s=this;"undefined"==typeof i&&(i=!1),"undefined"==typeof i&&(i=!0),t&&1==t.length&&t.css({display:"block",zoom:1,webkitTransform:r(e),webkitTransition:i?"-webkit-transform .4s":"none"})}Fui.ScrollBar=Fui.extend({className:function(){return["fui-scrollbar","fui-scrollbar-"+this.get("orient")]},config:{orient:"y"},boundWidth:0,boundHeight:0,innerWidth:0,innerHeight:0,updatePos:function(e){var n=this.get("orient");"x"!=n&&t(this.$i,-this.boundHeight*e/this.innerHeight,n),"y"!=n&&t(this.$i,-this.boundWidth*e/this.innerWidth,n)},updateIWH:function(){"x"!=this.get("orient")&&this.$i.height(100*this.boundHeight/this.innerHeight+"%"),"y"!=this.get("orient")&&this.$i.width(100*this.boundWidth/this.innerWidth+"%")},hide:function(){this.$el.removeClass("show")},show:function(){this.$el.addClass("show")},initialize:function(){var t=this,e=t.$el,n=t.$i=$('<div class="fui-scrollbar-inner"></div>');e.append(n),t.updateIWH()}}),Fui.Scrollable=Fui.extend({config:{orient:"y",scrollBar:!0,stopPropagation:!1,hoster:null},touched:!1,_pre_dis:0,initialize:function(t){{var e=this,n=e.get("orient"),i=e.$el=t.$el,r=e.$ele=i.children().first();e.event=new Fui.Event({hoster:e}),e.aq=new Fui.AnimationQueue({})}if(i.css({position:"absolute"}).addClass("fui-scrollable"),e.get("scrollBar")){var s=null,a=null;"y"!=n&&(s=e.bar_x=new Fui.ScrollBar({orient:"x",boundWidth:i.width(),innerWidth:r.width()}),i.append(s.$el)),"x"!=n&&(a=e.bar_y=new Fui.ScrollBar({orient:"y",boundHeight:i.height(),innerHeight:r.height()}),i.append(a.$el))}e._doTrans(r,0,!1)},_doTrans:function(t,e,n){function i(t){return/^[\+|\-]{1}$/.test(t)?t=parseInt(t+s.pageSize[r])+"px":/\%$/.test(t)||(t=parseInt(t)+"px"),["translate3d("+("x"==r?t:"0px"),"y"==r?t:"0px","0px) scale(1) rotate(0deg) skew(0deg,0deg)"].join(",")}var r=this.get("orient"),s=this;"undefined"==typeof n&&(n=!0),t&&1==t.length&&t.css({display:"block",zoom:1,webkitTransform:i(e),webkitTransition:n?"-webkit-transform .4s":"none"})},scrollingFn:function(e){var n=this.get("orient"),i=this._pre_dis+e._event_cur_dis[n];t(this.$ele,i,n);var r=this["bar_"+n];r&&r.updatePos(i)},requestAniFrame:function(t){var e=this.get("orient"),n={x:0,y:0};"y"!=this.orient?n.x=t.easingX.getValue():t.easingX.ended=!0,"x"!=this.orient?n.y=t.easingY.getValue():t.easingY.ended=!0,this._doTrans(this.$ele,n[e],!1);var i=this["bar_"+e];i&&i.updatePos(n[e])},easing:function(t){t.easingX.init(t,"x",this),t.easingY.init(t,"y",this);var e=this,n=requestAnimationFrame(function(){cancelAnimationFrame(n),e.touched?e._scrollend(t):(e.aq.push(e.requestAniFrame,e,[t]),t.easingX.ended&&t.easingY.ended?e._scrollend(t):n=requestAnimationFrame(arguments.callee))})},_scrollstart:function(){var t=this["bar_"+this.get("orient")];t&&t.show(),this.trigger("scrollstart")},_scrollend:function(){var t=this["bar_"+this.get("orient")];t&&t.hide(),this.trigger("scrollend")},onTouchEnd:null,listeners:{scrollend:null,scrollstart:null,gesture:function(t,e,n){var i=this.get("hoster");i&&i.trigger&&i.trigger("gesture",[t,e,n])},touchstart:function(t){var e=this;this.touched=!0,e.get("stopPropagation")&&(t.stopPropagation(),t.preventDefault()),e.max={x:0,y:0},e.min={x:e.$el.width()-e.$ele.width(),y:e.$el.height()-e.$ele.height()},this._pre_dis=t.getTrans(this.$ele)[this.get("orient")],this.aq.start(),this._scrollstart(t)},touchmove:function(t){this.get("stopPropagation")&&(t.stopPropagation(),t.preventDefault()),t.checkOrientGesture(this.get("orient"))&&this.aq.push(this.scrollingFn,this,[t])},touchend:function(t){this.get("stopPropagation")&&(t.stopPropagation(),t.preventDefault()),this.touched=!1,_.isFunction(this.ontouchend)&&this.ontouchend.apply(this,[t]),t.checkOrientGesture(this.get("orient"))&&this.easing(t)}}})}(e.exports,e,t);t.__modules__.a74c8a65=e.exports}(this),function(t){var e={id:"a74c8a66",exports:{}};t.__modules__||(t.__modules__={});!function(){Fui.Draggable=Fui.extend({config:{$target:null},initialize:function(){var t=this;t.event=new Fui.Event({hoster:t}),t.$target=t.get("$target"),t.$target.css({webkitTransform:"translate3d(0,0,0) scale(1) rotate(0deg)"}),console.log(t.$target)},startTrans:{x:0,y:0},listeners:{touchstart:function(t){t.stopPropagation(),t.preventDefault();{var e=this;e.$el}e.startTrans=t.getTrans(e.$target)},touchmove:function(t){t.stopPropagation(),t.preventDefault();var e=this,n=t._event_cur_dis,i=e.startTrans;e.trigger("translate",[t,{x:i.x+n.x,y:i.y+n.y}])},touchend:function(t){t.stopPropagation(),t.preventDefault()}}})}(e.exports,e,t);t.__modules__.a74c8a66=e.exports}(this),function(t){var e={id:"a74c8a67",exports:{}};t.__modules__||(t.__modules__={});!function(){Fui.Pinch=Fui.extend({config:{$target:null,initScale:1},initialize:function(){var t=this;t.event=new Fui.Event({hoster:t}),t.$target=t.get("$target"),t.$target.css({webkitTransform:"translate3d(0,0,0) scale(1) rotate(0deg)"}),console.log(t.$target)},startTrans:{x:0,y:0},getDis:function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))},listeners:{pinch:null,touchstart:function(t){t.stopPropagation(),t.preventDefault();var e=this,n=(e.$el,t.$e.originalEvent.touches);if(2==n.length){var i=n[0],r=n[1];e.start_dis=e.getDis({x:i.clientX,y:i.clientY},{x:r.clientX,y:r.clientY})}},touchmove:function(t){t.stopPropagation(),t.preventDefault();var e=this,n=t.$e.originalEvent.touches;if(2==n.length){var i=n[0],r=n[1],s=e.cur_dis=e.getDis({x:i.clientX,y:i.clientY},{x:r.clientX,y:r.clientY});e.trigger("pinch",[t,s/e.start_dis])}},touchend:function(t){t.stopPropagation(),t.preventDefault()}}})}(e.exports,e,t);t.__modules__.a74c8a67=e.exports}(this),function(t){var e={id:"a74c8a68",exports:{}};t.__modules__||(t.__modules__={});!function(t,e,n){n.__modules__.a74c6350,n.__modules__.a74c6351,n.__modules__.a74c6352,n.__modules__.a74c6353,n.__modules__.a74c8a60,n.__modules__.a74c8a61,n.__modules__.a74c8a62,n.__modules__.a74c8a63,n.__modules__.a74c8a64,n.__modules__.a74c8a65,n.__modules__.a74c8a66,n.__modules__.a74c8a67}(e.exports,e,t);t.__modules__.a74c8a68=e.exports}(this),function(t){var e={id:"a74c8a69",exports:{}};t.__modules__||(t.__modules__={});!function(){Fui.Audio=function(t){var e=new Audio;e.loop=t.loop||!0,e.preload=t.preload||"auto",e.autoplay=t.autoplay===!0,e.isLoadedmetadata=!1,e.touchstart=!0,e.audio=!0,e.src=t.src||"",e.load();var n=t.stopCls||"stop",i=t.color||"black",r=t.onstop||function(){},s=t.onplay||function(){},a=$('<a class="app-music"><span class="icon icon-music"><b></b></span><span class="spanAni"></span></a>');return t.cls?a=$('<a class="app-music '+t.cls+'"></a>'):a.children().css({color:i,borderColor:i}).children().css({backgroundColor:i}),t.autoplay||a.addClass(n),$("body").append(a),a.bind("touchend",function(t){t.stopPropagation(),t.preventDefault();var i=$(this);i.toggleClass(n),i.hasClass(n)?(e.pause(),r()):(e.play(),s())}),{play:function(){a.removeClass(n),e.play()},pause:function(){a.addClass(n),e.pause()}}}}(e.exports,e,t);t.__modules__.a74c8a69=e.exports}(this),function(t){var e={id:"a74c8a6a",exports:{}};t.__modules__||(t.__modules__={});!function(){var t=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!t)throw Error("No createObjectURL function found to create blob url");Fui.Template=Fui.extend({className:function(){var t=this.get("template"),e=["module"];return t&&e.push(t.toLowerCase()),e.push(this.get("cls")),e},config:{type:null,cls:"",tpl:null,xtpl:null,pageIndex:0,bg:null,preload:!0},propsForm:null,save:function(){},getImgPath:function(t){return t},design:null,initialize:function(){var t=this,e=t.$el,n=t.get("bg");this.renderBg(n),this.addTpl(),this.addXtpl();var i=e.find("[data-scrollable]").first();i.length>0&&(t.scroller=new Fui.Scrollable({$el:i,hoster:t,orient:i.attr("data-scrollable")||"y",scrollBar:"false"!==i.attr("data-scrollBar"),stopPropagation:"true"===i.attr("data-stopPropagation")})),_.isFunction(this.design)&&this.design()},loadResources:function(t){function e(t){var i=t.attr("data-src");if(console.log("load",i),1!=t.length||!i)return n();var r=new Image;r.src=i,t.attr("data-src",null),r.onload=function(){o++,"img"==t[0].tagName.toLowerCase()?t.attr("src",this.src):t.css("backgroundImage","url("+this.src+")"),n()},r.onerror=function(){o++,n()},u.length>0&&setTimeout(function(){var t=u.shift();e($(t))},1)}function n(){c==o&&(console.log("module",r,"res loaded end! cost : ",Fui.performance.now()-l<<0,"ms"),_.isFunction(t)&&t())}var i=this,r=i.get("template"),s=i.$el,a=s.find("[data-src]"),o=0,u=[],t=t||function(){};if(s.attr("data-src")&&u.push(s[0]),_.each(a,function(t){u.push(t)}),0==u.length)return void(_.isFunction(t)&&t());var l=Fui.performance.now(),c=u.length;e($(u.shift()))},renderBg:function(t){_.isString(t)&&this.$el.attr("data-src",this.getImgPath(t))},clearBg:function(){this.$el.css({backgroundImage:"none"})},onFocus:function(){},onBlur:function(){},getTplData:function(){return{pageIndex:this.get("pageIndex")}},onGesture:function(){},checkSize:function(){return!0},validateInfo:function(t,e){var n=!0;return _.each(e,function(e){t.hasOwnProperty(e)||(error("Module must contain a ["+e+"] on [name: "+t.label+",label:"+t.name+"]"),n=!1)}),n},getXtplData:null,addXtpl:function(){var t=this,e=t.get("xtpl");if(!e)return!1;var n=$("#"+e).html();if(!n)return!1;var i={IMG_DIR:Fui.Template.IMG_DIR};_.isFunction(t.getXtplData)&&_.extend(i,t.getXtplData()),t.$el.append(Handlebars.compile(n)(i))},addTpl:function(){var t=this.get("tpl")||"";this.$el.append(Handlebars.compile(t)(this.getTplData()))},getData:function(){var t=this.getForm();return _.extend({},{template:this.get("template"),_form_title:t.get("title")},t.getData())},form:null,getForm:function(t){this.get("pageIndex")+1;return this.form||(this.form=new Fui.Form({size:"normal",title:t,items:this.getFormItems()})),this.form},getFormItems:Fui.emptyFunc,getGestureItems:function(){return[]},getText:function(t){return this.validateInfo(t,["name","label","placeholder"])?(t.type="text",t):void 0},getSelection:function(t){t.$el;if(this.validateInfo(t,["name","label","change","data"]))return t.type="select",t},getImagePicker:function(t){return this.getImage(t)},getImageListPicker:function(e){var n=this;if(this.validateInfo(e,["name","change"]))return{type:"image-list",name:e.name,listeners:{change:function(i,r){var s=i.target.files[0],a=t.createObjectURL(s),o=new Image;o.src=a,o.onload=function(){var t=this.naturalWidth,s=this.naturalHeight;return n.checkSize(t,s)?void e.change.call(o,i,r):void error("Image size must be 640 X 1010")}}}}},getImage:function(t){if(this.validateInfo(t,["name","label","change"])){return t.type="image",t}}},{IMG_DIR:"",_templates:{},_templates_cfg:[],regTpl:function(t){_.extend(this._templates,t)},getTplCfgForEdit:function(){var t=[];for(var e in this._templates){var n=this._templates[e];_.isFunction(n)&&(n=new n,t.push({templateName:n.get("templateName"),template:n.get("template")}))}return t},getTplPage:function(t){return this._templates[t]},regTplCfg:function(t){this._templates_cfg=t},getTplCfg:function(){return this._templates_cfg},getTplCfg2:function(t,e){var n=this.getTpl(t,e),i=[];for(var r in n){var s=n[r];_.isFunction(s)&&(s=new s,i.push({text:s.get("templateName"),value:s.get("template")}))}return i},getTplMapByUserID2:function(t){return this._templates[t]},getTpl2:function(t,e){var n=this._templates[t];if(!n)return console.error("Template Config not found by",t);var i=n[e];return i?i.map:console.error("Template not found for",e,t)},getTplPage2:function(t,e,n){var i=this.getTpl(t,e)[n];return i?i:console.error("Template not found for",n,e,t)},regTpl2:function(t,e){this._templates.hasOwnProperty(t)||(this._templates[t]={}),this._templates[t][e.id]=e},getTplListByDomain:function(t){return this._templates[t]},getTpl1:function(t,e){var n=this._templates[t];if(!n)return console.error("Template Map not found by",t);var i=n[e];return i?i.items:console.error("Template not found for",e,t)},getTplPage1:function(t,e,n){var i=this.getTpl(t,e)[n];return i?i:console.error("Template not found for",n,e,t)},regTpl1:function(t,e,n){if(_.isObject(e)&&"undefined"==typeof n)for(var i in e)this.regTpl(t,i,e[i]);else console.log("reg tpl",t,e,n),this._templates.hasOwnProperty(t)||(this._templates[t]={}),this._templates[t][e]=n}})}(e.exports,e,t);t.__modules__.a74c8a6a=e.exports}(this),function(t){var e={id:"a74c8a6b",exports:{}};t.__modules__||(t.__modules__={});!function(t,e,n){n.__modules__.a74c8a6a}(e.exports,e,t);t.__modules__.a74c8a6b=e.exports}(this),function(t){var e={id:"a74c8a6c",exports:{}};t.__modules__||(t.__modules__={});!function(){Fui.Arrow=Fui.extend({className:function(){var t=this;return["fui-arrow",t.get("orient"),t.get("cls")]},tagName:"div",config:{orient:"bottom",cls:null,color:"white",without:null,css:{}},listeners:{clsChanged:function(t,e){this.$el.removeClass(e).addClass(t)}},initialize:function(){{var t=this;t.get("orient")}this.$el.css(t.get("css"))}})}(e.exports,e,t);t.__modules__.a74c8a6c=e.exports}(this),function(t){var e={id:"a74c8a6d",exports:{}};t.__modules__||(t.__modules__={});!function(t,e,n){n.__modules__.a74c8a6c,Fui.Slider=Fui.Template.extend({config:{cls:function(){return["fui-pageSlider",this.get("orient")].join(" ")},template:null,templateName:null,slideType:null,pageNum:0,prePage:-1,curPage:0,nextPage:0,lock:!1,iteration:!0,data:null,toggleCls:"focus",stopPropagation:!0,preventDefault:!0,arrow:null,_slide_flag:!1,orient:"y"},pageSize:{x:640,y:1008},updatePageSize:function(){var t=this,e=t.$el;t.pageSize.y=e.height(),t.pageSize.x=e.width()},data:null,getPage:function(t){return this.get("data")[t]},getImgPath:function(t){return t},loadResources:function(){},render:function(){function t(t,e){var n=r[t];n&&n.loadResources?n.loadResources(e):e()}{var e=this,n=e.$el,i=e.$ul=$('<div class="c"></div>');e.get("iteration")}n.append(i),this.event=new Fui.Event({hoster:this});var r=this.get("data")||[];_.isArray(r)&&r.length>0?(_.each(r,function(t,n){var i=Fui.Template.getTplPage(t.template);if(_.isFunction(i)){var s=$(e.getOnePageLI(n));e.$ul.append(s),t.pageIndex=n,t.el=s;var a=new i(t);a.render(),r.splice(n,1,a)}}),this.set("pageNum",r.length)):this.set("data",[]),e.dealArrow&&e.dealArrow();e.get("template");e.$sections=i.children("section"),_.isFunction(e.onRender)&&e.onRender(),e.ensureLayout&&e.ensureLayout();var s=e.get("curPage"),a=e.get("pageNum"),o=s+1,u=s-1;o>a-1&&(o=0),0>u&&(u=a-1);var l=Fui.performance.now(),c=3e3;t(s,function(){t(o,function(){t(u,function(){e.$sections.eq(s).addClass("focus"),e.onFocus(),l=Fui.performance.now()-l,console.log(">>> ",l),c>l&&(l=c-l),setTimeout(function(){Fui.Loading.hide(),e.trigger("renderEnd")},2e3)})})});for(var d=0;a>d;d++)t(d);e.ensureArrow()},onRender:null,onGesture:function(t,e,n){var i=this,r=i.get("data"),s=i.get("index"),a=[],o=null,u=e.attr("data-"+t)||"";u=u.split("@");for(var l=0,c=r.length;c>l;l++){o=r[l];var d=!1;o.getGestureItems&&(a=o.getGestureItems()||[]);for(var f=0,h=a.length;h>f;f++){var p=a[f];if(t==p.gesture&&p.name==u[0]&&_.isFunction(p.callback)){p.callback.call(r[l],n,e,u[1]),d=!0;break}}if(d)break}r[s]&&r[s]instanceof Fui.Template&&r[s].onGesture(n,t,e)},onFocus:function(){this.get("data")[this.get("curPage")].onFocus()},onBlur:function(){this.get("data")[this.get("curPage")].onBlur()},doSlide:null,doSlideMove:null,ensureArrow:function(){var t=this.arrow,e=this.get("curPage");console.log("ensureArrow");for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];i.get("without").indexOf("-"+e+"-")>=0?i.hide():i.show()}},slide:function(t,e){var n=this,i=(n.$ul,n.get("curPage")),r=n.get("pageNum"),e=(n.get("orient"),t==i?"=":t>i?"+":"-"),s=n.get("iteration");0>t&&(t=s?r-1:0),t>r-1&&(t=s?0:r-1),t==i&&(e="="),_.isFunction(n.doSlide)&&n.doSlide(t,e,function(){n.set("prePage",n.get("curPage")),n.set("curPage",t),n.ensureArrow()})},next:function(t){var e=this,n=e.get("curPage"),i=e.get("data")[n+2];i&&i.loadResources&&i.loadResources(),e.slide(n+1,"+",t)},prev:function(t){var e=this.get("curPage"),n=this.get("data")[e-2];n&&n.loadResources&&n.loadResources(),this.slide(e-1,"-",t)},ensure$LI:function(){var t=this,e=t.$ul.children("section"),n=t.get("curPage"),i=t.get("pageNum"),r=0>n-1?i-1:n-1,s=n+1>i-1?0:n+1;t.$curLi=e.eq(n),i>2&&(t.$preLi=e.eq(r)),i>=2&&(t.$nextLi=e.eq(s)),t.ul_height=t.$ul.height(),t.ul_width=t.$ul.width()},ensureLayout:null,listeners:{gesture:null,lockChanged:null,renderEnd:null,touchstart:function(t){function e(){}function n(){}if("SELECT"!=t.$e.target.tagName){var i=this,r=i.get("slideType"),s=i.get("stopPropagation"),a=i.get("preventDefault");if(s&&t.$e.stopPropagation(),a&&t.$e.preventDefault(),i.updatePageSize(),!i.get("_slide_flag"))switch(i.ensure$LI(),r){case"fade":e();break;default:n()}}},touchmove:function(t){if("SELECT"!=t.$e.target.tagName){var e=this,n=e.event,i=e.get("orient"),r=(e.get("iteration"),e.get("curPage"),e.get("pageNum"),{x:e.ul_width,y:e.ul_height}[i],n._event_cur_dis[i],e.get("slideType"),e.get("stopPropagation")),s=e.get("preventDefault");r&&t.$e.stopPropagation(),s&&t.$e.preventDefault(),!0!==e.get("lock")&&(e.get("_slide_flag")||_.isFunction(e.onTouchMove)&&e.onTouchMove(t))}},touchend:function(t){if("SELECT"!=t.$e.target.tagName){var e=this,n=(e.event,e.get("orient"),e.get("slideType"),e.get("iteration"),e.get("curPage"),e.get("pageNum"),e.get("stopPropagation")),i=e.get("preventDefault");n&&t.$e.stopPropagation(),i&&t.$e.preventDefault(),e.get("_slide_flag")||!0!==e.get("lock")&&e.onTouchEnd&&e.onTouchEnd(t)}}},getOnePageLI:function(t){return Handlebars.compile('<section class="p p{{index}}"></section>')({index:t})},insert:function(t,e,n){var i=this,r=i.$ul,s=i.get("pageNum")+1,a=i.get("data"),o=Fui.Template[t];if(console.log(n),0>e&&(e=0),e>s&&(e=s),!_.isFunction(o))return error(t+" is not loaded !"),!1;var u=$(i.getOnePageLI(e)),l=new o(_.extend(n,{pageIndex:e,template:t,el:u[0]}));l.render(),0==e?r.prepend(u):u.insertAfter(r.children("section").eq(e-1));var c=a.slice(0,e),d=a.slice(e);return i.set("data",c.concat([l],d)),i.set("pageNum",s),i.ensureLayout&&i.ensureLayout(),l.loadResources(),l}})}(e.exports,e,t);t.__modules__.a74c8a6d=e.exports}(this),function(t){var e={id:"a74c8a6e",exports:{}};t.__modules__||(t.__modules__={});!function(){Fui.Button=Fui.extend({initialize:function(){this.event=new Fui.Event({hoster:this})},listeners:{tap:null,gesture:function(t,e){"tap"===e&&this.trigger("tap")}}}),Fui.BookSlider=Fui.Slider.extend({config:{orient:"b",iteration:!1},listeners:{render:null,touchstart:null},dealArrow:function(){var t=this,e=this.get("arrow"),n=this.get("iteration"),i=this.get("pageNum");if(e||(e="x"==t.get("orient")?"right":"down"),e){var r=t.arrow={};if(_.isString(e)){var s=e.split(" ");_.each(s,function(t){r[t]={css:{},cls:"",without:[]}})}else r=t.arrow=e;for(var a in r)if(r.hasOwnProperty(a)){var o=r[a].without||[];n||(("left"==a||"up"==a)&&o.push(0),("right"==a||"down"==a)&&o.push(i-1)),o=_.uniq(o);var u=r[a]=new Fui.Arrow({orient:a,css:r[a].css||{},cls:r[a].cls,without:"-"+(o||[]).join("-")+"-"});t.get("lock")&&u.hide(),t.$el.append(u.$el)}t.ensureArrow()}},onRender:function(){var t=this,e=t.get("curPage");this.$el.addClass("fui-book-slider");var n=this.get("data").length;this.$sections.each(function(t,i){$(i).css({zIndex:n-t}).addClass(e>t?"cur-page":"")}),this.zIndex=n,this.trigger("render")},zIndex:0,slideFlag:!0,doSlide:function(t,e,n){{var i,r=this,s=r.get("toggleCls"),a=r.$sections.eq(t);r.get("data")[t]}if("+"===e&&t--,!(0>=t&&"="==e||t>=this.$sections.length-1&&"="==e||!r.slideFlag)){this.slideFlag=!1,setTimeout(function(){r.slideFlag=!0},3e3),"+"==e&&(i=r.get("data")[t],i&&i.onBlur&&i.onBlur()),"-"==e&&(i=r.get("data")[t+1],i&&i.onBlur&&i.onBlur());var o=r.$sections.eq(t);o.css("zIndex",r.zIndex++),this.$ul.addClass("slide").one("webkitTransitionEnd",function(){"-"===e&&o.removeClass("cur-page"),"+"===e&&o.addClass("cur-page"),o.one("webkitTransitionEnd",function(){a.addClass(s).siblings("section").removeClass(s),r.$ul.removeClass("slide"),"+"==e&&(i=r.get("data")[t+1],i&&i.onFocus&&i.onFocus()),"-"==e&&(i=r.get("data")[t],i&&i.onFocus&&i.onFocus()),r.slideFlag=!0,n()})})}}})}(e.exports,e,t);t.__modules__.a74c8a6e=e.exports}(this),function(t){var e={id:"a74c8a6f",exports:{}};t.__modules__||(t.__modules__={});!function(){Fui.PageSlider=Fui.Slider.extend({ensureLayout:function(){{var t=this;t.$ul.children(),t.get("orient"),t.get("slideType")}t.ensure$LI(),t._doTrans(t.$preLi,"-100%",!1),t._doTrans(t.$curLi,"0px",!1),t._doTrans(t.$nextLi,"100%",!1)},onTouchMove:function(){var t=this,e=t.event,n=t.get("orient"),i=t.get("iteration"),r=t.get("curPage"),s=t.get("pageNum"),a={x:t.ul_width,y:t.ul_height}[n],o=e._event_cur_dis[n];e.checkOrientGesture(n)&&(t.get("_slide_flag")||(o>0?(i||0!=r||(o=0),t._doTrans(t.$nextLi,"100%",!1),t._doTrans(t.$preLi,o-a,!1)):(i||r!=s-1||(o=0),t._doTrans(t.$preLi,"-100%",!1),t._doTrans(t.$nextLi,o+a,!1)),t._doTrans(t.$curLi,o,!1)))},onTouchEnd:function(t){var e=this,n=e.event,i=e.get("orient"),r=e.get("iteration"),s=e.get("curPage"),a=e.get("pageNum");if(!n.checkOrientGesture(i))return e.slide(e.get("curPage"));if(!r&&0==s&&("downSwipe"==n.gesture||"rightSwipe"==n.gesture))return e.slide(0);if(!r&&s==a-1&&("upSwipe"==n.gesture||"leftSwipe"==n.gesture))return e.slide(a-1);if("y"==i)switch(n.gesture){case"upSwipe":e.next(t);break;case"downSwipe":e.prev(t);break;default:e.slide(e.get("curPage"))}if("x"==i)switch(n.gesture){case"leftSwipe":e.next(t);break;case"rightSwipe":e.prev(t);break;default:e.slide(e.get("curPage"))}},_doTrans:function(t,e,n){function i(t){return/^[\+|\-]{1}$/.test(t)?t=parseInt(t+s.pageSize[r])+"px":/\%$/.test(t)||(t=parseInt(t)+"px"),["translate3d("+("x"==r?t:"0px"),"y"==r?t:"0px","0px) scale(1) rotate(0deg) skew(0deg,0deg)"].join(",")}var r=this.get("orient"),s=this;"undefined"==typeof n&&(n=!0),t&&1==t.length&&t.css({display:"block",zoom:1,webkitTransform:i(e),mozTransform:i(e),msTransform:i(e),oTransform:i(e),transform:i(e),webkitTransition:"-webkit-transform 0.4s",mozTransition:"-moz-transform 0.4s",msTransition:"-ms-transform 0.4s",oTransition:"-o-transform 0.4s",transition:"transform 0.4s"})},_transitionEnd:function(t,e){var n=this,i=n.$ul;n.set("_slide_flag",!0),setTimeout(function(){n.set("_slide_flag",!1)},500),n.ensureArrow(),t.one("webkitTransitionEnd",function(t){i.children().eq(e).addClass("focus").siblings("section").removeClass("focus");var r=n.get("data"),s=n.get("prePage"),a=r[e],o=r[s];a&&_.isFunction(a.onFocus)&&a.onFocus(),o&&o!=a&&_.isFunction(o.onBlur)&&o.onBlur(),n.ensureLayout(),e!=s&&n.trigger("slide",[e])})},doSlide:function(t,e,n){{var i=this,r=i.get("orient");i.event._event_cur_dis[r]}switch(e){case"=":i._doTrans(i.$preLi,"-"),i._doTrans(i.$nextLi,"+"),i._doTrans(i.$curLi,"0px");break;case"+":i._doTrans(i.$curLi,"-"),i._doTrans(i.$preLi,"-"),i._doTrans(i.$nextLi,"0");break;case"-":i._doTrans(i.$curLi,"+"),i._doTrans(i.$preLi,"0px"),i._doTrans(i.$nextLi,"+")}"="!==e&&i._transitionEnd(i.$curLi,t),n()},ensureArrow:function(){var t=this.arrow,e=this.get("curPage");for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];i.get("without").indexOf("-"+e+"-")>=0?i.hide():i.show()}},dealArrow:function(){var t=this,e=this.get("arrow"),n=this.get("iteration"),i=this.get("pageNum");if(e||(e="x"==t.get("orient")?"right":"down"),e){var r=t.arrow={};if(_.isString(e)){var s=e.split(" ");_.each(s,function(t){r[t]={css:{},cls:"",without:[]}})}else r=t.arrow=e;for(var a in r)if(r.hasOwnProperty(a)){var o=r[a].without||[];n||(("left"==a||"up"==a)&&o.push(0),("right"==a||"down"==a)&&o.push(i-1)),o=_.uniq(o);var u=r[a]=new Fui.Arrow({orient:a,css:r[a].css||{},cls:r[a].cls,without:"-"+(r[a].without||[]).join("-")+"-"});t.get("lock")&&u.hide(),t.$el.append(u.$el)}t.ensureArrow()}}})}(e.exports,e,t);t.__modules__.a74c8a6f=e.exports}(this),function(t){var e={id:"a74c8a70",exports:{}};t.__modules__||(t.__modules__={});!function(t,e,n){n.__modules__.a74c8a6d,n.__modules__.a74c8a6e,n.__modules__.a74c8a6f}(e.exports,e,t);t.__modules__.a74c8a70=e.exports}(this),function(t){var e={id:"a74cb170",exports:{}};t.__modules__||(t.__modules__={});!function(){var t=Fui.extend({el:"#loading",config:{},initialize:function(){}});Fui.Loading=new t}(e.exports,e,t);t.__modules__.a74cb170=e.exports}(this),function(t){var e={id:"a74cb171",exports:{}};t.__modules__||(t.__modules__={});!function(t,e){e.exports='{{#if title}}<h3 class="fui-formM-title"><span class="icon icon-quill"></span><span class="txt">{{title}}</span></h3>        {{/if}}<ul class="fui-formM-ele-list">    {{#range lines}}    <li class="fui-formM-line"></li>    {{/range}}</ul>'}(e.exports,e,t);t.__modules__.a74cb171=e.exports}(this),function(t){var e={id:"a74cb172",exports:{}};t.__modules__||(t.__modules__={});!function(t,e,n){Fui.FormM=Fui.extend({className:"fui-formM",config:{items:null,title:null,grid:1,tpl:n.__modules__.a74cb171},listeners:{submit:null,end:function(){}},_submit:function(){var t=this;this.validate(function(e){e&&t.trigger("submit",[t.getData()])})},_end:function(){var t=this;setTimeout(function(){t.remove(),t=null},2e3)},_success:function(){this.$list.hide(),this.$title.children(".icon").addClass("icon-checkmark-circle"),this.$title.addClass("success"),this.$title.children(".txt").text(""),this._end()},_failed:function(){this.$list.hide(),this.$title.children(".icon").addClass("icon-cancel-circle"),this.$title.addClass("failed"),this.$title.children(".txt").text("..."),this._end()},validate:function(t){function e(e,n){e?r++:o.push(n),++s==a&&t(r==a,o)}var n=this,i=n.get("items"),r=0,s=0,a=i.length,o=[];_.each(i,function(t){_.isFunction(t.validate)?t.validate(e):t.noValidate?e(!0):console.log("FormItem has no validate :",t)})},remove:function(){var t=this;this.$pop&&(this.$pop.removeClass("show"),setTimeout(function(){t.$pop.off(),t.$pop.remove()},500))},popup:function(){var t=this.$pop=$('<div class="fui-popup scale"></div>');t.append(this.$el),$("body").append(t),setTimeout(function(){t.addClass("show")},1)},setData:function(t,e){var n=this,i=this.get("items");_.isObject(t)&&"undefined"==typeof e?_.each(t,function(t,e){n.setData(e,t)}):_.each(i,function(n){n.get("name")==t&&n.set("value",e)})},getData:function(){for(var t=this.get("items"),e={},n=0,i=t.length;i>n;n++){var r=t[n];if(r){var s=r.get("name");if(s){var a=r.getData();a&&(e[a.name]=a.value)}}}return e},initialize:function(){var t=this,e=t.$el,n=Handlebars.compile(t.get("tpl")),i=t.get("items"),r=0,s=t.get("grid");_.each(i,function(t){isNaN(t.grid)&&(t.grid=s),r+=t.grid}),e.html(n({title:t.get("title"),lines:Math.floor(r/s)})),r=0;var a=(t.$title=e.find(".fui-formM-title"),t.$list=e.find(".fui-formM-ele-list")),o=a.children();_.each(i,function(e,n){isNaN(e.grid)&&(e.grid=s);var a=e.type;if(Fui.FormM.hasOwnProperty(a)){var u=Fui.FormM[a];switch(e.type){case"Submit":e.listeners={tap:function(){t._submit()}};break;case"Cancel":e.listeners={tap:function(){t.remove()}}}delete e.type;var l=new u(e);i.splice(n,1,l);var c=o.eq(Math.floor(r));r+=e.grid,c.append(l.$el),e.grid<s&&l.$el.addClass("inline").css({width:100*e.grid/s+"%"})}else console.error("Form type",a,"not found!")})}})}(e.exports,e,t);t.__modules__.a74cb172=e.exports}(this),function(t){var e={id:"a74cb173",exports:{}};t.__modules__||(t.__modules__={});!function(){Fui.FormM.Element=Fui.extend({ftype:"fui.form.element",className:"",config:{name:null,value:null},getData:function(){return{name:this.get("name"),value:this.get("value")}}})}(e.exports,e,t);t.__modules__.a74cb173=e.exports}(this),function(t){var e={id:"a74cb174",exports:{}};t.__modules__||(t.__modules__={});!function(t,e){e.exports='<div class="fui-formM-ele fui-formM-input">    {{#if label}}    <label class="fui-formM-ele-label">{{label}}</label>    {{/if}}    <div class="fui-formM-ele-container">        <div class="right">            <label class="fui-formM-field">                {{#if icon}}                <span class="input-icon icon icon-{{icon}}"></span>                {{else}}                <span class="input-icon-null"></span>                {{/if}}                <span class="input-wrapper">                    {{#if disabled}}                    <input type="{{type}}" disabled="disabled" value="{{value}}"/>                    {{else}}                    <input type="{{type}}" placeholder="{{placeholder}}" value="{{value}}"/>                    {{/if}}                </span>                <span class="fui-formM-field-label">{{fieldLabel}}</span>            </label>        </div>    </div>    <div class="fui-formM-ele-description">{{description}}</div>    <div class="fui-formM-ele-error-msg"></div></div>'}(e.exports,e,t);t.__modules__.a74cb174=e.exports}(this),function(t){var e={id:"a74cb175",exports:{}};t.__modules__||(t.__modules__={});!function(t,e,n){Fui.FormM.Input=Fui.FormM.Element.extend({ftype:"fui.form.input",config:{tpl:n.__modules__.a74cb174,label:null,placeholder:null,disabled:!1,icon:null,type:"text",required:!1,requiredMsg:"",errMsg:"",correct:!0},listeners:{errMsgChanged:function(t){t?(this.$errMsg.text(t),this.$el.addClass("error")):(this.$errMsg.text(""),this.$el.removeClass("error"))}},validateNull:function(t){var e=this,n=e.getValue(),i=e.get("required");n||(i?e.set("errMsg",e.get("requiredMsg")):(e.set("errMsg",""),t()))},validate:function(t){t=t||function(){};var e=this.getValue();return!0!==this.get("required")||e?(this.set("errMsg",""),void t(!0)):(this.set("errMsg",this.get("requiredMsg")),t(!1))},getValue:function(){return this.$input.val()},getData:function(){return{name:this.get("name"),value:this.$input.val()}},initialize:function(){var t=this,e=Handlebars.compile(t.get("tpl")),n=$(e({label:t.get("label"),placeholder:t.get("placeholder"),disabled:t.get("disabled"),icon:t.get("icon"),type:t.get("type")}));t.$el=n,t.el=n[0];{var i=t.$input=n.find("input");t.$errMsg=n.find(".fui-formM-ele-error-msg")}i.on("blur",function(){t.validate()}),t.render()},render:function(){}})}(e.exports,e,t);t.__modules__.a74cb175=e.exports}(this),function(t){var e={id:"a74cb176",exports:{}};t.__modules__||(t.__modules__={});!function(){Fui.FormM.Text=Fui.FormM.Input.extend({ftype:"fui.form.text",config:{}})}(e.exports,e,t);t.__modules__.a74cb176=e.exports}(this),function(t){var e={id:"a74cb177",exports:{}};t.__modules__||(t.__modules__={});!function(){Fui.FormM.Email=Fui.FormM.Text.extend({ftype:"fui.form.email",config:{type:"email",icon:"mail2"},validate:function(t){var e=this,n=e.getValue(),i=e.get("required");t=t||function(){},n?/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/g.test(e.getValue())?(e.set("errMsg",""),t(!0)):(e.set("errMsg",""),t(!1)):i?(e.set("errMsg",""),t(!1,"")):(e.set("errMsg",""),t(!0))}})}(e.exports,e,t);t.__modules__.a74cb177=e.exports}(this),function(t){var e={id:"a74cb178",exports:{}};t.__modules__||(t.__modules__={});!function(){Fui.FormM.Password=Fui.FormM.Text.extend({ftype:"fui.form.password",config:{type:"password",icon:"key"},validate:function(t){var e=this,n=e.getValue(),i=e.get("required");t=t||function(){},n?n&&n.length>=6?(e.set("errMsg",""),t(!0)):(e.set("errMsg","6"),t(!1)):i?(e.set("errMsg",""),t(!1,"")):(e.set("errMsg",""),t(!0))}})}(e.exports,e,t);t.__modules__.a74cb178=e.exports}(this),function(t){var e={id:"a74cb179",exports:{}};t.__modules__||(t.__modules__={});!function(){Fui.FormM.Mobile=Fui.FormM.Text.extend({ftype:"fui.form.mobile",config:{type:"number",icon:"mobile"},validate:function(t){var e=this,n=e.getValue(),i=e.get("required");t=t||function(){},n?/^1\d{10}$/g.test(e.getValue())?(e.set("errMsg",""),t(!0)):(e.set("errMsg",""),t(!1)):i?(e.set("errMsg",""),t(!1)):(e.set("errMsg",""),t(!0))}})}(e.exports,e,t);t.__modules__.a74cb179=e.exports}(this),function(t){var e={id:"a74cb17a",exports:{}};t.__modules__||(t.__modules__={});!function(t,e,n){n.__modules__.a74cb175,n.__modules__.a74cb176,n.__modules__.a74cb177,n.__modules__.a74cb178,n.__modules__.a74cb179
}(e.exports,e,t);t.__modules__.a74cb17a=e.exports}(this),function(t){var e={id:"a74cb17b",exports:{}};t.__modules__||(t.__modules__={});!function(t,e){e.exports='<div class="fui-formM-ele fui-formM-input fui-formM-button">    <div class="fui-formM-ele-container">        <div class="right">            <label class="fui-formM-field fui-formM-button-{{type}} fui-formM-button-{{size}}">                {{#if icon}}                <span class="input-icon icon icon-{{icon}}"></span>                {{/if}}                <span class="input-wrapper">                    {{text}}                </span>                <span class="fui-formM-field-label">{{fieldLabel}}</span>            </label>        </div>    </div>    <div class="fui-formM-ele-description">{{description}}</div>    <div class="fui-formM-ele-error-msg"></div></div>'}(e.exports,e,t);t.__modules__.a74cb17b=e.exports}(this),function(t){var e={id:"a74cb17c",exports:{}};t.__modules__||(t.__modules__={});!function(t,e,n){Fui.FormM.Button=Fui.FormM.Element.extend({noValidate:!0,config:{type:"default",text:"Button",icon:null,size:null,tpl:n.__modules__.a74cb17b},listeners:{tap:null,gesture:function(t,e){"tap"===e&&this.trigger("tap")},touchstart:function(){this.$field.addClass("on")},touchend:function(){this.$field.removeClass("on")},textChanged:function(t){this.$field.text(t)},iconChanged:function(t,e){this.$field.removeClass("icon-"+e).addClass("icon-"+t)}},getTplData:function(){return{type:this.get("type"),text:this.get("text"),size:this.get("size"),icon:this.get("icon")}},initialize:function(){var t=this,e=t.get("tpl"),n=t.$el=$(Handlebars.compile(e)(t.getTplData()));t.el=n[0],t.$field=n.find(".fui-formM-field"),t.event=new Fui.Event({hoster:t,stopPropagation:!0})}})}(e.exports,e,t);t.__modules__.a74cb17c=e.exports}(this),function(t){var e={id:"a74cb17d",exports:{}};t.__modules__||(t.__modules__={});!function(){Fui.FormM.Submit=Fui.FormM.Button.extend({config:{type:"primary"}})}(e.exports,e,t);t.__modules__.a74cb17d=e.exports}(this),function(t){var e={id:"a74cb17e",exports:{}};t.__modules__||(t.__modules__={});!function(){Fui.FormM.Cancel=Fui.FormM.Button.extend({config:{type:"cancel"}})}(e.exports,e,t);t.__modules__.a74cb17e=e.exports}(this),function(t){var e={id:"a74cb17f",exports:{}};t.__modules__||(t.__modules__={});!function(t,e,n){n.__modules__.a74cb17c,n.__modules__.a74cb17d,n.__modules__.a74cb17e}(e.exports,e,t);t.__modules__.a74cb17f=e.exports}(this),function(t){var e={id:"a74cb180",exports:{}};t.__modules__||(t.__modules__={});!function(t,e){e.exports='<div class="fui-formM-ele fui-formM-input fui-formM-image-picker">    {{#if label}}    <label class="fui-formM-ele-label">{{label}}</label>    {{/if}}    <div class="fui-formM-ele-container">        <div class="box left">            <!--<span></span>-->            <a class="take btn-primary">                <span class="icon icon-camera"></span><span class="txt"></span>                <input type="file"/>            </a>            <a class="cancel"><span class="icon icon-remove2"></span></a>        </div>        <div class="box center">            <img/>        </div>        <!--<div class="box right">-->            <!---->        <!--</div>-->    </div>    <div class="fui-formM-ele-description">{{description}}</div>    <div class="fui-formM-ele-error-msg"></div></div>'}(e.exports,e,t);t.__modules__.a74cb180=e.exports}(this),function(t){var e={id:"a74cb181",exports:{}};t.__modules__||(t.__modules__={});!function(t,e,n){Fui.FormM.ImagePicker=Fui.FormM.Input.extend({config:{type:"file",file:null,tpl:n.__modules__.a74cb180,requiredMsg:""},renderImgToCanvas:function(t){var e=new Image;e.src=t,e.onload=function(){console.log(this.naturalWidth,this.naturalHeight)}},getData:function(){var t=this.$center.children("canvas"),e=null;return 1==t.length&&"CANVAS"==t[0].tagName&&(e=t[0].toDataURL("image/jpeg").split(",")[1]),{name:this.get("name"),value:e}},listeners:{fileChanged:function(t){var e=null,n=this;if(t&&t instanceof File){n.set("errMsg",""),this.cancelBtn.show(),e=URL.createObjectURL(t),this.$container.addClass("selected");var i=document.createElement("canvas"),r=new FileReader;r.readAsBinaryString(t),r.onloadend=function(){var e=EXIF.readFromBinaryFile(new BinaryFile(this.result)),r=e.Orientation;new MegaPixImage(t).render(i,{width:r%2==0?2*window.screen.width:2*window.screen.height,orientation:r},function(){n.$center.empty().append(i)})}}else this.cancelBtn.hide(),this.$container.removeClass("selected"),n.$center.empty();this.renderImgToCanvas(e)},take:function(t){var e=this,n=t.target.files[0];n&&(e.set("file",n),e.$take.children(".txt").text(""))},cancel:function(){this.set("file",null),this.$take.children(".txt").text("")}},render:function(){var t=this,e=t.$el,n=t.$take=e.find(".take"),i=(t.$container=e.find(".fui-formM-ele-container"),t.$right=e.find(".right")),r=(t.$center=e.find(".center"),t.$cancel=e.find(".cancel")),s=t.cancelBtn=new Fui.View({el:r[0],initialize:function(){this.event=new Fui.Event({hoster:this,stopPropagation:!0})},listeners:{gesture:function(e,n){"tap"===n&&t.trigger("cancel")}}});s.hide(),i.append(s.$el),n.children("input").on("change",function(e){t.trigger("take",[e])})}})}(e.exports,e,t);t.__modules__.a74cb181=e.exports}(this),function(t){var e={id:"a74cb182",exports:{}};t.__modules__||(t.__modules__={});!function(t,e,n){n.__modules__.a74cb172,n.__modules__.a74cb173,n.__modules__.a74cb17a,n.__modules__.a74cb17f,n.__modules__.a74cb181}(e.exports,e,t);t.__modules__.a74cb182=e.exports}(this),function(t){var e={id:"a74cd880",exports:{}};t.__modules__||(t.__modules__={});!function(t,e,n){n.__modules__.a74c8a68,n.__modules__.a74c8a69,n.__modules__.a74c8a6b,n.__modules__.a74c8a70,n.__modules__.a74cb170,n.__modules__.a74cb182}(e.exports,e,t);t.__modules__.a74cd880=e.exports}(this),function(t){var e={id:"a74cd881",exports:{}};t.__modules__||(t.__modules__={});!function(t,e,n){n.__modules__.a74cd880;}(e.exports,e,t);t.__modules__.a74cd881=e.exports}(this);