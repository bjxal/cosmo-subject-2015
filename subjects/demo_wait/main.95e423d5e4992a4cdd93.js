webpackJsonp([3],[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(){s["default"].preload.showPreloadArea()}function o(e,t,n){return d["default"].log(e,t,n),d["default"].logPiwik(h["default"].getEnvironment(),e+" "+t+" "+n),!1}var a=n(18),s=i(a),l=n(9),c=i(l),u=n(2),d=i(u),p=n(3),h=i(p),f=n(38),g=i(f),m=n(7),v=i(m),y=n(39),w=i(y);v["default"].send("homeStart"),g["default"].init(window.projectVersion),h["default"].judgePC()&&(window.location.href="/pcviewer/"+window.projectVersion.id);var b={lastCallback:function(){w["default"].showSP()},pageChangeCallback:function(){s["default"].currentPageIndex===c["default"].getPageLength()-1&&w["default"].loadSP()}};s["default"].setOption(b),h["default"].setProjectId(window.projectVersion.id),c["default"].init().then(function(){r(),s["default"].preload.onReady(function(){return s["default"].showPPT()}),h["default"].isMusicOff()||s["default"].buildBackgroundMusic(),s["default"].ensurePages([0],function(){s["default"].ensurePages([1],function(){s["default"].ensurePages([2])})})})["catch"](function(e){d["default"].error(e)}),window.onerror=o,window.onDataStoryLoad=function(){window.dataStoryLoad=!0,v["default"].pushAll()}},,function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(){n(this,e)}return i(e,[{key:"log",value:function(){console.log.apply(console,arguments)}},{key:"error",value:function(){console.error.apply(console,arguments)}},{key:"logPiwik",value:function(t,n,i){if("development"!==t&&n)try{window.piwikTracker.setCustomVariable(1,"log",i,"page"),window.piwikTracker.setCustomVariable(2,"pid",window.projectVersion.id,"page"),window.piwikTracker.setCustomVariable(3,"uid",window.projectVersion.uid,"page"),window.piwikTracker.trackPageView()}catch(r){e.log(r)}}},{key:"runAsync",value:function(e){window.setTimeout(e,0)}},{key:"trim",value:function(e){return e.replace(/^\s+/g,"").replace(/\s+$/g,"")}},{key:"getUrlParameter",value:function(e){for(var t=window.location.search.substring(1),n=t.split("&"),i=0;i<n.length;i++){var r=n[i].split("=");if(r[0]===e)return r[1]}}},{key:"setCookie",value:function(e,t){document.cookie=e+"="+window.escape(t)}},{key:"getCookie",value:function(e){for(var t=void 0,n=document.cookie.split(";"),i=0,r=n.length;r>i;i++){var o=n[i];if(e.trim()===o.split("=")[0].trim()){t=o.split("=")[1];break}}return t}}]),e}();t["default"]=new r,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(2),s=i(a),l=function(){function e(){r(this,e),this.canvas={standardWidth:640,standardHeight:1008},this.postFormUrl="/api/form/",this.eventClickUrl="/api/eventClick",this.glassBreakVoice="http://m.maka.mobi/maka/app/gfile/public/files/edisk/music/2015/05/12/0dbb52cdd178ea1c953d5aaf9c562e10.mp3",this.engFontUrl="http://global-maka-public.oss-cn-beijing.aliyuncs.com/fonts/"}return o(e,[{key:"getImgUrl",value:function(e){return e?0===e.trim().toLowerCase().indexOf("http://")||0===e.trim().toLowerCase().indexOf("https://")?e:"aliyun"===s["default"].getUrlParameter("env")?"http://makapicture.oss-cn-beijing-internal.aliyuncs.com/"+e:"http://img1.maka.im/"+e:"http://img1.maka.im"}},{key:"addCrop",value:function(e,t){var n=t.left<0?0:t.left,i=t.top<0?0:t.top,r=t.width<0?0:t.width,o=t.height<0?0:t.height;return e+"@"+n+"-"+i+"-"+r+"-"+o+"a_90Q.src"}},{key:"isGif",value:function(e){var t=/\.gif/i,n=t.exec(e);return n?!0:!1}},{key:"judgePC",value:function(){return window.innerWidth>=1.2*window.innerHeight?!0:!1}},{key:"getButtonLogo",value:function(e){return"images/button2/"+e}},{key:"getShapeUrl",value:function(e){return"images/shapes/"+e}},{key:"getPhoneCallUrl",value:function(e){return"images/phonecall/"+e}},{key:"getGlassBreakUrl",value:function(e){return"images/glassbreak/"+e}},{key:"getPButtonUrl",value:function(e){return"images/buttonSvg/"+e}},{key:"getMusicUrl",value:function(e){return 1===parseInt(e.version)?this.isHttpHead(e.id)?e.id:"http://m1.maka.im/"+e.id:"http://m.maka.mobi/maka/app/gfile/public/music/getcdn?get=id/"+e.id}},{key:"getContentJSONUrl",value:function(){var e=void 0,t="";if(t=this.isAppNormalMode()?window.projectVersion.p_version:(new Date).getTime(),this.isTemplate())if(this.isStoreTemplatePreview()||this.isRemoveDesignerAd())e="/api/storeTemplate/"+this.getProjectId()+"?dataType=pdata&v="+t;else if(this.isVersionedTemplatePreview()){var n=s["default"].getUrlParameter("version");n=n?"&version="+n:"",e="/api/requestVersionedTemplate/"+this.getProjectId()+"?dataType=pdata&v="+t+n}else e="/api/template/"+this.getProjectId()+"?dataType=pdata&v="+t;else e="/api/event/"+this.getProjectId()+"?dataType=pdata&v="+t;return"aliyun"!==s["default"].getUrlParameter("env")&&("test"===this.getEnvironment()?e="http://test.json.maka.im"+e:"production"===this.getEnvironment()&&(e="http://json.maka.im"+e)),e}},{key:"getEnvironment",value:function(){var e=void 0;return e=window.location.host.indexOf("localhost")>=0||window.location.host.indexOf("192.")>=0?"development":window.location.host.indexOf("test")>=0?"test":"production"}},{key:"getSPEventUrl",value:function(){var e=void 0;return e="production"===this.getEnvironment()?"http://api.maka.im/":"/",e+"api/viewerSpevent/"+this.getProjectId()}},{key:"getWxKeyURL",value:function(){var e="/api/viewerWechatSign";return e}},{key:"isHttpHead",value:function(e){return 0===e.trim().toLowerCase().indexOf("http://")||0===e.trim().toLowerCase().indexOf("https://")?!0:!1}},{key:"isAppNormalMode",value:function(){return"function"!=typeof window.callPhantom}},{key:"isStoreTemplatePreview",value:function(){return"storeTemplate"===s["default"].getUrlParameter("mode")?!0:!1}},{key:"isVersionedTemplatePreview",value:function(){return"requestVersionedTemplate"===s["default"].getUrlParameter("mode")?!0:!1}},{key:"isMusicOff",value:function(){return"true"===s["default"].getUrlParameter("musicOff")?!0:!1}},{key:"isWxDebug",value:function(){return"true"===s["default"].getUrlParameter("wxdebug")?!0:!1}},{key:"isRemoveDesignerAd",value:function(){return"true"===s["default"].getUrlParameter("TempAdmode")?!1:"storeTemplate"===s["default"].getUrlParameter("mode")?!0:!1}},{key:"isTemplate",value:function(){return-1===this.getProjectId().indexOf("T_")?!1:!0}},{key:"getProjectId",value:function(){return self.projectId}},{key:"setProjectId",value:function(e){self.projectId=e}}]),e}();t["default"]=new l,e.exports=t["default"]},function(e,t,n){"use strict";function i(){}function r(e){try{return e.then}catch(t){return m=t,v}}function o(e,t){try{return e(t)}catch(n){return m=n,v}}function a(e,t,n){try{e(t,n)}catch(i){return m=i,v}}function s(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._37=0,this._12=null,this._59=[],e!==i&&f(e,this)}function l(e,t,n){return new e.constructor(function(r,o){var a=new s(i);a.then(r,o),c(e,new h(t,n,a))})}function c(e,t){for(;3===e._37;)e=e._12;return 0===e._37?void e._59.push(t):void g(function(){var n=1===e._37?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._37?u(t.promise,e._12):d(t.promise,e._12));var i=o(n,e._12);i===v?d(t.promise,m):u(t.promise,i)})}function u(e,t){if(t===e)return d(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var n=r(t);if(n===v)return d(e,m);if(n===e.then&&t instanceof s)return e._37=3,e._12=t,void p(e);if("function"==typeof n)return void f(n.bind(t),e)}e._37=1,e._12=t,p(e)}function d(e,t){e._37=2,e._12=t,p(e)}function p(e){for(var t=0;t<e._59.length;t++)c(e,e._59[t]);e._59=null}function h(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1,i=a(e,function(e){n||(n=!0,u(t,e))},function(e){n||(n=!0,d(t,e))});n||i!==v||(n=!0,d(t,m))}var g=n(12),m=null,v={};e.exports=s,s._99=i,s.prototype.then=function(e,t){if(this.constructor!==s)return l(this,e,t);var n=new s(i);return c(this,new h(e,t,n)),n}},function(e,t,n){"use strict";e.exports=n(29)},function(e,t,n){"use strict";!function(t,n){var i=n();e.exports=i}(void 0,function(){var e=[],t=[],n=[],i="transform",r=window.getComputedStyle(document.documentElement,""),o=(Array.prototype.slice.call(r).join("").match(/-(moz|webkit|ms)-/)||""===r.OLink&&["","o"])[1];"webkit"===o&&(i="webkitTransform");var a=function(e,t,n){var i=e;if(void 0!==i.length){for(var r={chainers:[],then:function(e){return console.log("DeprecationWarning: then() is renamed to snabbt()"),this.snabbt(e)},snabbt:function(e){var t=this.chainers.length;return this.chainers.forEach(function(n,i){n.snabbt(s(e,i,t))}),r},setValue:function(e){return this.chainers.forEach(function(t){t.setValue(e)}),r},finish:function(e){return this.chainers.forEach(function(t){t.finish(e)}),r},rollback:function(e){return this.chainers.forEach(function(t){t.rollback(e)}),r}},o=0,a=i.length;a>o;++o)"string"==typeof t?r.chainers.push(l(i[o],t,s(n,o,a))):r.chainers.push(l(i[o],s(t,o,a),n));return r}return"string"==typeof t?l(i,t,s(n,0,1)):l(i,s(t,0,1),n)},s=function(e,t,n){if(!e)return e;var i=Y(e);G(e.delay)&&(i.delay=e.delay(t,n)),G(e.callback)&&(console.log("DeprecationWarning: callback is renamed to complete"),i.complete=function(){e.callback.call(this,t,n)});var r=G(e.allDone),o=G(e.complete);(o||r)&&(i.complete=function(){o&&e.complete.call(this,t,n),r&&t==n-1&&e.allDone()}),G(e.valueFeeder)&&(i.valueFeeder=function(i,r){return e.valueFeeder(i,r,t,n)}),G(e.easing)&&(i.easing=function(i){return e.easing(i,t,n)});var a=["position","rotation","skew","rotationPost","scale","scalePost","width","height","opacity","fromPosition","fromRotation","fromSkew","fromRotationPost","fromScale","fromScalePost","fromWidth","fromHeight","fromOpacity","transformOrigin","duration","delay"];return a.forEach(function(r){G(e[r])&&(i[r]=e[r](t,n))}),i},l=function(e,n,i){function r(n){return v.tick(n),v.updateElement(e),v.isStopped()?void 0:v.completed()?void(o.loop>1&&!v.isStopped()?(o.loop-=1,v.restart(),y(r)):(o.complete&&o.complete.call(e),w.length&&(o=w.pop(),l=g(o,d,!0),d=g(o,Y(d)),o=m(l,d,o),v=b(o,e),t.push([e,v]),v.tick(n),y(r)))):y(r)}if("attention"===n)return c(e,i);if("stop"===n)return u(e);var o=n;p();var a=f(e),l=a;l=g(o,l,!0);var d=Y(a);d=g(o,d);var h=m(l,d,o),v=b(h);t.push([e,v]),v.updateElement(e,!0);var w=[],x={snabbt:function(e){return w.unshift(s(e,0,1)),x},then:function(e){return console.log("DeprecationWarning: then() is renamed to snabbt()"),this.snabbt(e)}};return y(r),o.manual?v:x},c=function(e,n){function i(t){o.tick(t),o.updateElement(e),o.completed()?(n.callback&&n.callback(e),n.loop&&n.loop>1&&(n.loop--,o.restart(),y(i))):y(i)}var r=g(n,B({}));n.movement=r;var o=x(n);t.push([e,o]),y(i)},u=function(e){for(var n=0,i=t.length;i>n;++n){var r=t[n],o=r[0],a=r[1];o===e&&a.stop()}},d=function(e,t){for(var n=0,i=e.length;i>n;++n){var r=e[n],o=r[0],a=r[1];if(o===t){var s=a.getCurrentState();return a.stop(),s}}},p=function(){n=n.filter(function(e){return h(e[0]).body})},h=function(e){for(var t=e;t.parentNode;)t=t.parentNode;return t},f=function(e){var i=d(t,e);return i?i:d(n,e)},g=function(e,t,n){t||(t=B({position:[0,0,0],rotation:[0,0,0],rotationPost:[0,0,0],scale:[1,1],scalePost:[1,1],skew:[0,0]}));var i="position",r="rotation",o="skew",a="rotationPost",s="scale",l="scalePost",c="width",u="height",d="opacity";return n&&(i="fromPosition",r="fromRotation",o="fromSkew",a="fromRotationPost",s="fromScale",l="fromScalePost",c="fromWidth",u="fromHeight",d="fromOpacity"),t.position=_(e[i],t.position),t.rotation=_(e[r],t.rotation),t.rotationPost=_(e[a],t.rotationPost),t.skew=_(e[o],t.skew),t.scale=_(e[s],t.scale),t.scalePost=_(e[l],t.scalePost),t.opacity=e[d],t.width=e[c],t.height=e[u],t},m=function(e,t,n){return n.startState=e,n.endState=t,n},v=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)},y=function(t){0===e.length&&v(w),e.push(t)},w=function U(i){for(var r=e.length,o=0;r>o;++o)e[o](i);e.splice(0,r);var a=t.filter(function(e){return e[1].completed()});n=n.filter(function(e){for(var t=0,n=a.length;n>t;++t)if(e[0]===a[t][0])return!1;return!0}),n=n.concat(a),t=t.filter(function(e){return!e[1].completed()}),0!==e.length&&v(U)},b=function(e){var t=e.startState,n=e.endState,i=_(e.duration,500),r=_(e.delay,0),o=e.perspective,a=E(_(e.easing,"linear"),e),s=0===i?n.clone():t.clone();e.transformOrigin;s.transformOrigin=e.transformOrigin;var l,c,u=0,d=0,p=!1,h=!1,f=e.manual,g=0,m=r/i;return c=e.valueFeeder?W(e.valueFeeder,t,n,s):H(t,n,s),{stop:function(){p=!0},isStopped:function(){return p},finish:function(e){f=!1;var t=i*g;u=d-t,l=e,a.resetFrom(g)},rollback:function(e){f=!1,c.setReverse();var t=i*(1-g);u=d-t,l=e,a.resetFrom(g)},restart:function(){u=void 0,a.resetFrom(0)},tick:function(t){if(!p){if(f)return d=t,void this.updateCurrentTransform();if(u||(u=t),t-u>r){!h&&e.startCallback&&e.startCallback(),h=!0,d=t-r;var n=Math.min(Math.max(0,d-u),i);a.tick(n/i),this.updateCurrentTransform(),this.completed()&&l&&l()}}},getCurrentState:function(){return s},setValue:function(e){h=!0,g=Math.min(Math.max(e,1e-4),1+m)},updateCurrentTransform:function(){var e=a.getValue();if(f){var t=Math.max(1e-5,g-m);a.isSpring?e=t:(a.tick(t,!0),e=a.getValue())}c.tween(e)},completed:function(){return p?!0:0===u?!1:a.completed()},updateElement:function(e,t){if(h||t){var n=c.asMatrix(),i=c.getProperties();X(e,n,o),q(e,i)}}}},x=function(e){var t=e.movement;e.initialVelocity=.1,e.equilibriumPosition=0;var n=P(e),i=!1,r=t.position,o=t.rotation,a=t.rotationPost,s=t.scale,l=t.scalePost,c=t.skew,u=B({position:r?[0,0,0]:void 0,rotation:o?[0,0,0]:void 0,rotationPost:a?[0,0,0]:void 0,scale:s?[0,0]:void 0,skew:c?[0,0]:void 0});return{stop:function(){i=!0},isStopped:function(e){return i},tick:function(e){i||n.equilibrium||(n.tick(),this.updateMovement())},updateMovement:function(){var e=n.getValue();r&&(u.position[0]=t.position[0]*e,u.position[1]=t.position[1]*e,u.position[2]=t.position[2]*e),o&&(u.rotation[0]=t.rotation[0]*e,u.rotation[1]=t.rotation[1]*e,u.rotation[2]=t.rotation[2]*e),a&&(u.rotationPost[0]=t.rotationPost[0]*e,u.rotationPost[1]=t.rotationPost[1]*e,u.rotationPost[2]=t.rotationPost[2]*e),s&&(u.scale[0]=1+t.scale[0]*e,u.scale[1]=1+t.scale[1]*e),l&&(u.scalePost[0]=1+t.scalePost[0]*e,u.scalePost[1]=1+t.scalePost[1]*e),c&&(u.skew[0]=t.skew[0]*e,u.skew[1]=t.skew[1]*e)},updateElement:function(e){X(e,u.asMatrix()),q(e,u.getProperties())},getCurrentState:function(){return u},completed:function(){return n.equilibrium||i},restart:function(){n=P(e)}}},k=function(e){return e},T=function(e){return(Math.cos(e*Math.PI+Math.PI)+1)/2},S=function(e){return e*e},C=function(e){return-Math.pow(e-1,2)+1},P=function(e){var t=_(e.startPosition,0),n=_(e.equilibriumPosition,1),i=_(e.initialVelocity,0),r=_(e.springConstant,.8),o=_(e.springDeceleration,.9),a=_(e.springMass,10),s=!1;return{isSpring:!0,tick:function(e,l){if(0!==e&&!l&&!s){var c=-(t-n)*r,u=c/a;i+=u,t+=i,i*=o,Math.abs(t-n)<.001&&Math.abs(i)<.001&&(s=!0)}},resetFrom:function(e){console.log("resetting spring from "+e),t=e,i=0},getValue:function(){return s?n:t},completed:function(){return s}}},A={linear:k,ease:T,easeIn:S,easeOut:C},E=function(e,t){if("spring"==e)return P(t);var n=e;G(e)||(n=A[e]);var i,r=n,o=0;return{tick:function(e){o=r(e),i=e},resetFrom:function(e){i=0},getValue:function(){return o},completed:function(){return i>=1?i:!1}}},D=function(e,t,n,i){e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t,e[13]=n,e[14]=i,e[15]=1},M=function(e,t){e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=Math.cos(t),e[6]=-Math.sin(t),e[7]=0,e[8]=0,e[9]=Math.sin(t),e[10]=Math.cos(t),e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1},L=function(e,t){e[0]=Math.cos(t),e[1]=0,e[2]=Math.sin(t),e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=-Math.sin(t),e[9]=0,e[10]=Math.cos(t),e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1},I=function(e,t){e[0]=Math.cos(t),e[1]=-Math.sin(t),e[2]=0,e[3]=0,e[4]=Math.sin(t),e[5]=Math.cos(t),e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1},O=function(e,t,n){e[0]=1,e[1]=Math.tan(t),e[2]=0,e[3]=0,e[4]=Math.tan(n),e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1},N=function(e,t,n){e[0]=t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1},z=function(e){e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1},R=function(e,t){t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]},F=function(){var e=new Float32Array(16),t=new Float32Array(16),n=new Float32Array(16);return z(e),{data:e,asCSS:function(){for(var t="matrix3d(",n=0;15>n;++n)t+=Math.abs(e[n])<1e-4?"0,":e[n].toFixed(10)+",";return t+=Math.abs(e[15])<1e-4?"0)":e[15].toFixed(10)+")"},clear:function(){z(e)},translate:function(i,r,o){return R(e,t),D(n,i,r,o),j(t,n,e),this},rotateX:function(i){return R(e,t),M(n,i),j(t,n,e),this},rotateY:function(i){return R(e,t),L(n,i),j(t,n,e),this},rotateZ:function(i){return R(e,t),I(n,i),j(t,n,e),this},scale:function(i,r){return R(e,t),N(n,i,r),j(t,n,e),this},skew:function(i,r){return R(e,t),O(n,i,r),j(t,n,e),this}}},j=function(e,t,n){return n[0]=e[0]*t[0]+e[1]*t[4]+e[2]*t[8]+e[3]*t[12],n[1]=e[0]*t[1]+e[1]*t[5]+e[2]*t[9]+e[3]*t[13],n[2]=e[0]*t[2]+e[1]*t[6]+e[2]*t[10]+e[3]*t[14],n[3]=e[0]*t[3]+e[1]*t[7]+e[2]*t[11]+e[3]*t[15],n[4]=e[4]*t[0]+e[5]*t[4]+e[6]*t[8]+e[7]*t[12],n[5]=e[4]*t[1]+e[5]*t[5]+e[6]*t[9]+e[7]*t[13],n[6]=e[4]*t[2]+e[5]*t[6]+e[6]*t[10]+e[7]*t[14],n[7]=e[4]*t[3]+e[5]*t[7]+e[6]*t[11]+e[7]*t[15],n[8]=e[8]*t[0]+e[9]*t[4]+e[10]*t[8]+e[11]*t[12],n[9]=e[8]*t[1]+e[9]*t[5]+e[10]*t[9]+e[11]*t[13],n[10]=e[8]*t[2]+e[9]*t[6]+e[10]*t[10]+e[11]*t[14],n[11]=e[8]*t[3]+e[9]*t[7]+e[10]*t[11]+e[11]*t[15],n[12]=e[12]*t[0]+e[13]*t[4]+e[14]*t[8]+e[15]*t[12],n[13]=e[12]*t[1]+e[13]*t[5]+e[14]*t[9]+e[15]*t[13],n[14]=e[12]*t[2]+e[13]*t[6]+e[14]*t[10]+e[15]*t[14],n[15]=e[12]*t[3]+e[13]*t[7]+e[14]*t[11]+e[15]*t[15],n},B=function V(e){var t=F(),n={opacity:void 0,width:void 0,height:void 0};return{position:e.position,rotation:e.rotation,rotationPost:e.rotationPost,skew:e.skew,scale:e.scale,scalePost:e.scalePost,opacity:e.opacity,width:e.width,height:e.height,clone:function(){return V({position:this.position?this.position.slice(0):void 0,rotation:this.rotation?this.rotation.slice(0):void 0,rotationPost:this.rotationPost?this.rotationPost.slice(0):void 0,skew:this.skew?this.skew.slice(0):void 0,scale:this.scale?this.scale.slice(0):void 0,scalePost:this.scalePost?this.scalePost.slice(0):void 0,height:this.height,width:this.width,opacity:this.opacity})},asMatrix:function(){var e=t;return e.clear(),this.transformOrigin&&e.translate(-this.transformOrigin[0],-this.transformOrigin[1],-this.transformOrigin[2]),this.scale&&e.scale(this.scale[0],this.scale[1]),this.skew&&e.skew(this.skew[0],this.skew[1]),this.rotation&&(e.rotateX(this.rotation[0]),e.rotateY(this.rotation[1]),e.rotateZ(this.rotation[2])),this.position&&e.translate(this.position[0],this.position[1],this.position[2]),this.rotationPost&&(e.rotateX(this.rotationPost[0]),e.rotateY(this.rotationPost[1]),e.rotateZ(this.rotationPost[2])),this.scalePost&&e.scale(this.scalePost[0],this.scalePost[1]),this.transformOrigin&&e.translate(this.transformOrigin[0],this.transformOrigin[1],this.transformOrigin[2]),e},getProperties:function(){return n.opacity=this.opacity,n.width=this.width+"px",n.height=this.height+"px",n}}},H=function(e,t,n){var i=e,r=t,o=n,a=void 0!==r.position,s=void 0!==r.rotation,l=void 0!==r.rotationPost,c=void 0!==r.scale,u=void 0!==r.scalePost,d=void 0!==r.skew,p=void 0!==r.width,h=void 0!==r.height,f=void 0!==r.opacity;return{tween:function(e){if(a){var t=r.position[0]-i.position[0],n=r.position[1]-i.position[1],g=r.position[2]-i.position[2];o.position[0]=i.position[0]+e*t,o.position[1]=i.position[1]+e*n,o.position[2]=i.position[2]+e*g}if(s){var m=r.rotation[0]-i.rotation[0],v=r.rotation[1]-i.rotation[1],y=r.rotation[2]-i.rotation[2];o.rotation[0]=i.rotation[0]+e*m,o.rotation[1]=i.rotation[1]+e*v,o.rotation[2]=i.rotation[2]+e*y}if(l){var w=r.rotationPost[0]-i.rotationPost[0],b=r.rotationPost[1]-i.rotationPost[1],x=r.rotationPost[2]-i.rotationPost[2];o.rotationPost[0]=i.rotationPost[0]+e*w,o.rotationPost[1]=i.rotationPost[1]+e*b,o.rotationPost[2]=i.rotationPost[2]+e*x}if(d){var k=r.skew[0]-i.skew[0],T=r.skew[1]-i.skew[1];o.skew[0]=i.skew[0]+e*k,o.skew[1]=i.skew[1]+e*T}if(c){var S=r.scale[0]-i.scale[0],C=r.scale[1]-i.scale[1];o.scale[0]=i.scale[0]+e*S,o.scale[1]=i.scale[1]+e*C}if(u){var P=r.scalePost[0]-i.scalePost[0],A=r.scalePost[1]-i.scalePost[1];o.scalePost[0]=i.scalePost[0]+e*P,o.scalePost[1]=i.scalePost[1]+e*A}if(p){var E=r.width-i.width;o.width=i.width+e*E}if(h){var D=r.height-i.height;o.height=i.height+e*D}if(f){var M=r.opacity-i.opacity;o.opacity=i.opacity+e*M}},asMatrix:function(){return o.asMatrix()},getProperties:function(){return o.getProperties()},setReverse:function(){var e=i;i=r,r=e}}},W=function(e,t,n,i){var r=e(0,F()),o=t,a=n,s=i,l=!1;return{tween:function(t){l&&(t=1-t),r.clear(),r=e(t,r);var n=a.width-o.width,i=a.height-o.height,c=a.opacity-o.opacity;void 0!==a.width&&(s.width=o.width+t*n),void 0!==a.height&&(s.height=o.height+t*i),void 0!==a.opacity&&(s.opacity=o.opacity+t*c)},asMatrix:function(){return r},getProperties:function(){return s.getProperties()},setReverse:function(){l=!0}}},_=function(e,t){return"undefined"==typeof e?t:e},X=function(e,t,n){var r="";n&&(r="perspective("+n+"px) ");var o=t.asCSS();e.style[i]=r+o},q=function(e,t){for(var n in t)e.style[n]=t[n]},G=function(e){return"function"==typeof e},Y=function(e){if(!e)return e;var t={};for(var n in e)t[n]=e[n];return t};return window.jQuery&&!function(e){e.fn.snabbt=function(e,t){return a(this.get(),e,t)}}(jQuery),a.createMatrix=F,a.setElementTransform=X,a})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(2),s=i(a),l=n(3),c=i(l),u=function(){function e(){r(this,e),this.waitingReq=[]}return o(e,[{key:"send",value:function(e,t){if(c["default"].isAppNormalMode()){var n=void 0,i=(new Date).getTime();switch(e){case"homeStart":n="home_page_load_start:"+i;break;case"homeEnd":n="home_page_load_end:"+i;break;case"pageLoadStart":n="page_"+t+"_load_start:"+i;break;case"pageLoadEnd":n="page_"+t+"_load_end:"+i;break;case"pageVisit":n="page_"+t+"_visit:"+i;break;case"pageLeave":n="page_"+t+"_unload:"+i;break;case"closeMusic":n="close_music:"+i;break;case"makaAD":n="maka_ad_"+t+":"+i}window.dataStoryLoad?this.sendToDataStory(n):this.waitingReq.push(n)}}},{key:"pushAll",value:function(){var e=this;DS.ready(function(){for(var t in e.waitingReq)e.sendToDataStory(e.waitingReq[t])})}},{key:"sendToDataStory",value:function(e){try{DS.sendBtnName(e)}catch(t){s["default"].log("send error "+e+t)}}}]),e}();t["default"]=new u,e.exports=t["default"]},function(e,t,n){var i;/*! Hammer.JS - v2.0.4 - 2014-09-28
   * http://hammerjs.github.io/
   *
   * Copyright (c) 2014 Jorik Tangelder;
   * Licensed under the MIT license */
!function(r,o,a,s){"use strict";function l(e,t,n){return setTimeout(f(e,n),t)}function c(e,t,n){return Array.isArray(e)?(u(e,n[t],n),!0):!1}function u(e,t,n){var i;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==s)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function d(e,t,n){for(var i=Object.keys(t),r=0;r<i.length;)(!n||n&&e[i[r]]===s)&&(e[i[r]]=t[i[r]]),r++;return e}function p(e,t){return d(e,t,!0)}function h(e,t,n){var i,r=t.prototype;i=e.prototype=Object.create(r),i.constructor=e,i._super=r,n&&d(i,n)}function f(e,t){return function(){return e.apply(t,arguments)}}function g(e,t){return typeof e==fe?e.apply(t?t[0]||s:s,t):e}function m(e,t){return e===s?t:e}function v(e,t,n){u(x(t),function(t){e.addEventListener(t,n,!1)})}function y(e,t,n){u(x(t),function(t){e.removeEventListener(t,n,!1)})}function w(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function b(e,t){return e.indexOf(t)>-1}function x(e){return e.trim().split(/\s+/g)}function k(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function T(e){return Array.prototype.slice.call(e,0)}function S(e,t,n){for(var i=[],r=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];k(r,a)<0&&i.push(e[o]),r[o]=a,o++}return n&&(i=t?i.sort(function(e,n){return e[t]>n[t]}):i.sort()),i}function C(e,t){for(var n,i,r=t[0].toUpperCase()+t.slice(1),o=0;o<pe.length;){if(n=pe[o],i=n?n+r:t,i in e)return i;o++}return s}function P(){return ye++}function A(e){var t=e.ownerDocument;return t.defaultView||t.parentWindow}function E(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){g(e.options.enable,[e])&&n.handler(t)},this.init()}function D(e){var t,n=e.options.inputClass;return new(t=n?n:xe?X:ke?Y:be?V:_)(e,M)}function M(e,t,n){var i=n.pointers.length,r=n.changedPointers.length,o=t&Ee&&i-r===0,a=t&(Me|Le)&&i-r===0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,L(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function L(e,t){var n=e.session,i=t.pointers,r=i.length;n.firstInput||(n.firstInput=N(t)),r>1&&!n.firstMultiple?n.firstMultiple=N(t):1===r&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,l=t.center=z(i);t.timeStamp=ve(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=B(s,l),t.distance=j(s,l),I(n,t),t.offsetDirection=F(t.deltaX,t.deltaY),t.scale=a?W(a.pointers,i):1,t.rotation=a?H(a.pointers,i):0,O(n,t);var c=e.element;w(t.srcEvent.target,c)&&(c=t.srcEvent.target),t.target=c}function I(e,t){var n=t.center,i=e.offsetDelta||{},r=e.prevDelta||{},o=e.prevInput||{};(t.eventType===Ee||o.eventType===Me)&&(r=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=r.x+(n.x-i.x),t.deltaY=r.y+(n.y-i.y)}function O(e,t){var n,i,r,o,a=e.lastInterval||t,l=t.timeStamp-a.timeStamp;if(t.eventType!=Le&&(l>Ae||a.velocity===s)){var c=a.deltaX-t.deltaX,u=a.deltaY-t.deltaY,d=R(l,c,u);i=d.x,r=d.y,n=me(d.x)>me(d.y)?d.x:d.y,o=F(c,u),e.lastInterval=t}else n=a.velocity,i=a.velocityX,r=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=i,t.velocityY=r,t.direction=o}function N(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:ge(e.pointers[n].clientX),clientY:ge(e.pointers[n].clientY)},n++;return{timeStamp:ve(),pointers:t,center:z(t),deltaX:e.deltaX,deltaY:e.deltaY}}function z(e){var t=e.length;if(1===t)return{x:ge(e[0].clientX),y:ge(e[0].clientY)};for(var n=0,i=0,r=0;t>r;)n+=e[r].clientX,i+=e[r].clientY,r++;return{x:ge(n/t),y:ge(i/t)}}function R(e,t,n){return{x:t/e||0,y:n/e||0}}function F(e,t){return e===t?Ie:me(e)>=me(t)?e>0?Oe:Ne:t>0?ze:Re}function j(e,t,n){n||(n=He);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return Math.sqrt(i*i+r*r)}function B(e,t,n){n||(n=He);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return 180*Math.atan2(r,i)/Math.PI}function H(e,t){return B(t[1],t[0],We)-B(e[1],e[0],We)}function W(e,t){return j(t[0],t[1],We)/j(e[0],e[1],We)}function _(){this.evEl=Xe,this.evWin=qe,this.allow=!0,this.pressed=!1,E.apply(this,arguments)}function X(){this.evEl=Ue,this.evWin=Ve,E.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function q(){this.evTarget=Ze,this.evWin=Ke,this.started=!1,E.apply(this,arguments)}function G(e,t){var n=T(e.touches),i=T(e.changedTouches);return t&(Me|Le)&&(n=S(n.concat(i),"identifier",!0)),[n,i]}function Y(){this.evTarget=Qe,this.targetIds={},E.apply(this,arguments)}function U(e,t){var n=T(e.touches),i=this.targetIds;if(t&(Ee|De)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,a=T(e.changedTouches),s=[],l=this.target;if(o=n.filter(function(e){return w(e.target,l)}),t===Ee)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<a.length;)i[a[r].identifier]&&s.push(a[r]),t&(Me|Le)&&delete i[a[r].identifier],r++;return s.length?[S(o.concat(s),"identifier",!0),s]:void 0}function V(){E.apply(this,arguments);var e=f(this.handler,this);this.touch=new Y(this.manager,e),this.mouse=new _(this.manager,e)}function $(e,t){this.manager=e,this.set(t)}function Z(e){if(b(e,ot))return ot;var t=b(e,at),n=b(e,st);return t&&n?at+" "+st:t||n?t?at:st:b(e,rt)?rt:it}function K(e){this.id=P(),this.manager=null,this.options=p(e||{},this.defaults),this.options.enable=m(this.options.enable,!0),this.state=lt,this.simultaneous={},this.requireFail=[]}function J(e){return e&ht?"cancel":e&dt?"end":e&ut?"move":e&ct?"start":""}function Q(e){return e==Re?"down":e==ze?"up":e==Oe?"left":e==Ne?"right":""}function ee(e,t){var n=t.manager;return n?n.get(e):e}function te(){K.apply(this,arguments)}function ne(){te.apply(this,arguments),this.pX=null,this.pY=null}function ie(){te.apply(this,arguments)}function re(){K.apply(this,arguments),this._timer=null,this._input=null}function oe(){te.apply(this,arguments)}function ae(){te.apply(this,arguments)}function se(){K.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function le(e,t){return t=t||{},t.recognizers=m(t.recognizers,le.defaults.preset),new ce(e,t)}function ce(e,t){t=t||{},this.options=p(t,le.defaults),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.element=e,this.input=D(this),this.touchAction=new $(this,this.options.touchAction),ue(this,!0),u(t.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function ue(e,t){var n=e.element;u(e.options.cssProps,function(e,i){n.style[C(n.style,i)]=t?e:""})}function de(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}var pe=["","webkit","moz","MS","ms","o"],he=o.createElement("div"),fe="function",ge=Math.round,me=Math.abs,ve=Date.now,ye=1,we=/mobile|tablet|ip(ad|hone|od)|android/i,be="ontouchstart"in r,xe=C(r,"PointerEvent")!==s,ke=be&&we.test(navigator.userAgent),Te="touch",Se="pen",Ce="mouse",Pe="kinect",Ae=25,Ee=1,De=2,Me=4,Le=8,Ie=1,Oe=2,Ne=4,ze=8,Re=16,Fe=Oe|Ne,je=ze|Re,Be=Fe|je,He=["x","y"],We=["clientX","clientY"];E.prototype={handler:function(){},init:function(){this.evEl&&v(this.element,this.evEl,this.domHandler),this.evTarget&&v(this.target,this.evTarget,this.domHandler),this.evWin&&v(A(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&y(this.element,this.evEl,this.domHandler),this.evTarget&&y(this.target,this.evTarget,this.domHandler),this.evWin&&y(A(this.element),this.evWin,this.domHandler)}};var _e={mousedown:Ee,mousemove:De,mouseup:Me},Xe="mousedown",qe="mousemove mouseup";h(_,E,{handler:function(e){var t=_e[e.type];t&Ee&&0===e.button&&(this.pressed=!0),t&De&&1!==e.which&&(t=Me),this.pressed&&this.allow&&(t&Me&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:Ce,srcEvent:e}))}});var Ge={pointerdown:Ee,pointermove:De,pointerup:Me,pointercancel:Le,pointerout:Le},Ye={2:Te,3:Se,4:Ce,5:Pe},Ue="pointerdown",Ve="pointermove pointerup pointercancel";r.MSPointerEvent&&(Ue="MSPointerDown",Ve="MSPointerMove MSPointerUp MSPointerCancel"),h(X,E,{handler:function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),r=Ge[i],o=Ye[e.pointerType]||e.pointerType,a=o==Te,s=k(t,e.pointerId,"pointerId");r&Ee&&(0===e.button||a)?0>s&&(t.push(e),s=t.length-1):r&(Me|Le)&&(n=!0),0>s||(t[s]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var $e={touchstart:Ee,touchmove:De,touchend:Me,touchcancel:Le},Ze="touchstart",Ke="touchstart touchmove touchend touchcancel";h(q,E,{handler:function(e){var t=$e[e.type];if(t===Ee&&(this.started=!0),this.started){var n=G.call(this,e,t);t&(Me|Le)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:Te,srcEvent:e})}}});var Je={touchstart:Ee,touchmove:De,touchend:Me,touchcancel:Le},Qe="touchstart touchmove touchend touchcancel";h(Y,E,{handler:function(e){var t=Je[e.type],n=U.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:Te,srcEvent:e})}}),h(V,E,{handler:function(e,t,n){var i=n.pointerType==Te,r=n.pointerType==Ce;if(i)this.mouse.allow=!1;else if(r&&!this.mouse.allow)return;t&(Me|Le)&&(this.mouse.allow=!0),this.callback(e,t,n)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var et=C(he.style,"touchAction"),tt=et!==s,nt="compute",it="auto",rt="manipulation",ot="none",at="pan-x",st="pan-y";$.prototype={set:function(e){e==nt&&(e=this.compute()),tt&&(this.manager.element.style[et]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return u(this.manager.recognizers,function(t){g(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),Z(e.join(" "))},preventDefaults:function(e){if(!tt){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)return void t.preventDefault();var i=this.actions,r=b(i,ot),o=b(i,st),a=b(i,at);return r||o&&n&Fe||a&&n&je?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var lt=1,ct=2,ut=4,dt=8,pt=dt,ht=16,ft=32;K.prototype={defaults:{},set:function(e){return d(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(c(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=ee(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return c(e,"dropRecognizeWith",this)?this:(e=ee(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(c(e,"requireFailure",this))return this;var t=this.requireFail;return e=ee(e,this),-1===k(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(c(e,"dropRequireFailure",this))return this;e=ee(e,this);var t=k(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){n.manager.emit(n.options.event+(t?J(i):""),e)}var n=this,i=this.state;dt>i&&t(!0),t(),i>=dt&&t(!0)},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=ft)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(ft|lt)))return!1;e++}return!0},recognize:function(e){var t=d({},e);return g(this.options.enable,[this,t])?(this.state&(pt|ht|ft)&&(this.state=lt),this.state=this.process(t),void(this.state&(ct|ut|dt|ht)&&this.tryEmit(t))):(this.reset(),void(this.state=ft))},process:function(e){},getTouchAction:function(){},reset:function(){}},h(te,K,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=t&(ct|ut),r=this.attrTest(e);return i&&(n&Le||!r)?t|ht:i||r?n&Me?t|dt:t&ct?t|ut:ct:ft}}),h(ne,te,{defaults:{event:"pan",threshold:10,pointers:1,direction:Be},getTouchAction:function(){var e=this.options.direction,t=[];return e&Fe&&t.push(st),e&je&&t.push(at),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,r=e.direction,o=e.deltaX,a=e.deltaY;return r&t.direction||(t.direction&Fe?(r=0===o?Ie:0>o?Oe:Ne,n=o!=this.pX,i=Math.abs(e.deltaX)):(r=0===a?Ie:0>a?ze:Re,n=a!=this.pY,i=Math.abs(e.deltaY))),e.direction=r,n&&i>t.threshold&&r&t.direction},attrTest:function(e){return te.prototype.attrTest.call(this,e)&&(this.state&ct||!(this.state&ct)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Q(e.direction);t&&this.manager.emit(this.options.event+t,e),this._super.emit.call(this,e)}}),h(ie,te,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ot]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&ct)},emit:function(e){if(this._super.emit.call(this,e),1!==e.scale){var t=e.scale<1?"in":"out";this.manager.emit(this.options.event+t,e)}}}),h(re,K,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[it]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime>t.time;if(this._input=e,!i||!n||e.eventType&(Me|Le)&&!r)this.reset();else if(e.eventType&Ee)this.reset(),this._timer=l(function(){this.state=pt,this.tryEmit()},t.time,this);else if(e.eventType&Me)return pt;return ft},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===pt&&(e&&e.eventType&Me?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=ve(),this.manager.emit(this.options.event,this._input)))}}),h(oe,te,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ot]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&ct)}}),h(ae,te,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Fe|je,pointers:1},getTouchAction:function(){return ne.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(Fe|je)?t=e.velocity:n&Fe?t=e.velocityX:n&je&&(t=e.velocityY),this._super.attrTest.call(this,e)&&n&e.direction&&e.distance>this.options.threshold&&me(t)>this.options.velocity&&e.eventType&Me},emit:function(e){var t=Q(e.direction);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),h(se,K,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[rt]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime<t.time;if(this.reset(),e.eventType&Ee&&0===this.count)return this.failTimeout();if(i&&r&&n){if(e.eventType!=Me)return this.failTimeout();var o=this.pTime?e.timeStamp-this.pTime<t.interval:!0,a=!this.pCenter||j(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e;var s=this.count%t.taps;if(0===s)return this.hasRequireFailures()?(this._timer=l(function(){this.state=pt,this.tryEmit()},t.interval,this),ct):pt}return ft},failTimeout:function(){return this._timer=l(function(){this.state=ft},this.options.interval,this),ft},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==pt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),le.VERSION="2.0.4",le.defaults={domEvents:!1,touchAction:nt,enable:!0,inputTarget:null,inputClass:null,preset:[[oe,{enable:!1}],[ie,{enable:!1},["rotate"]],[ae,{direction:Fe}],[ne,{direction:Fe},["swipe"]],[se],[se,{event:"doubletap",taps:2},["tap"]],[re]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var gt=1,mt=2;ce.prototype={set:function(e){return d(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?mt:gt},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,i=this.recognizers,r=t.curRecognizer;(!r||r&&r.state&pt)&&(r=t.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],t.stopped===mt||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(e),!r&&n.state&(ct|ut|dt)&&(r=t.curRecognizer=n),o++}},get:function(e){if(e instanceof K)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(c(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(c(e,"remove",this))return this;var t=this.recognizers;return e=this.get(e),t.splice(k(t,e),1),this.touchAction.update(),this},on:function(e,t){var n=this.handlers;return u(x(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this},off:function(e,t){var n=this.handlers;return u(x(e),function(e){t?n[e].splice(k(n[e],t),1):delete n[e]}),this},emit:function(e,t){this.options.domEvents&&de(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},destroy:function(){this.element&&ue(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},d(le,{INPUT_START:Ee,INPUT_MOVE:De,INPUT_END:Me,INPUT_CANCEL:Le,STATE_POSSIBLE:lt,STATE_BEGAN:ct,STATE_CHANGED:ut,STATE_ENDED:dt,STATE_RECOGNIZED:pt,STATE_CANCELLED:ht,STATE_FAILED:ft,DIRECTION_NONE:Ie,DIRECTION_LEFT:Oe,DIRECTION_RIGHT:Ne,DIRECTION_UP:ze,DIRECTION_DOWN:Re,DIRECTION_HORIZONTAL:Fe,DIRECTION_VERTICAL:je,DIRECTION_ALL:Be,Manager:ce,Input:E,TouchAction:$,TouchInput:Y,MouseInput:_,PointerEventInput:X,TouchMouseInput:V,SingleTouchInput:q,Recognizer:K,AttrRecognizer:te,Tap:se,Pan:ne,Swipe:ae,Pinch:ie,Rotate:oe,Press:re,on:v,off:y,each:u,merge:p,extend:d,inherit:h,bindFn:f,prefixed:C}),"function"==fe&&n(35)?(i=function(){return le}.call(t,n,t,e),!(i!==s&&(e.exports=i))):"undefined"!=typeof e&&e.exports?e.exports=le:r[a]=le}(window,document,"Hammer")},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(1),s=i(a),l=n(2),c=i(l),u=n(3),d=i(u),p=n(5),h=i(p),f=function(){function e(){r(this,e)}return o(e,[{key:"init",value:function(){var e=this;return new h["default"](function(t,n){s["default"].ajax({type:"GET",dataType:"json",url:d["default"].getContentJSONUrl(),success:function(n){e.contentJSON=n.data.pdata.json,e.music=n.data.pdata.music,c["default"].log(e.contentJSON),t(e.contentJSON)},error:function(e){c["default"].log(e),n(e)}})})}},{key:"hasPage",value:function(e){return e>=0&&e<this.contentJSON.length}},{key:"getPage",value:function(e){if(this.hasPage(e))return this.contentJSON[e];throw"MAKA EXCEPTION: index不合法"}},{key:"getPageLength",value:function(){return this.contentJSON.length}},{key:"get",value:function(){return this.contentJSON}},{key:"getMusicId",value:function(){return this.music?this.music.id:null}},{key:"getMusic",value:function(){return this.music?this.music:null}}]),e}();t["default"]=new f,e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={pButtonSvg:{"1.png":"1.svg","2.png":"2.svg","02.png":"02.svg","3.png":"3.svg","03.png":"03.svg","4.png":"4.svg","04.png":"04.svg","5.png":"5.svg","05.png":"05.svg","6.png":"6.svg","7.png":"7.svg","8.png":"8.svg","9.png":"9.svg"}};t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(1),s=i(a),l=n(8),c=i(l),u=function(){function e(t,n){r(this,e),this.obj=t,this.height=t.height,this.width=t.width,this.top=t.top,this.left=t.left,this.scale=n,this.showSwipe=this._getShowSwipe(t),this.showSwipe?(this.curChartIndex=0,this.chartNumber=t.content.data.length,this.chartOption=this._prepareChartOption(this.curChartIndex)):this.chartOption=this._prepareChartOption(),this._prepareElements()}return o(e,[{key:"_getShowSwipe",value:function(e){return 1===e.content.multiple?!0:!1}},{key:"_prepareElements",value:function(){this.showSwipe&&(this._prepareSwipeLegendElm(),this._prepareSwipeImgElm()),this._prepareChartElm(),this._prepareWrapperElm()}},{key:"_prepareWrapperElm",value:function(){this.wrapperElm=s["default"]('<div class="chart-wrapper"></div>'),this.wrapperElm.css({position:"absolute",width:this.scale(this.width),height:this.scale(this.height),left:this.scale(this.left),top:this.scale(this.top),background:"rgba(0,0,0,0)"}),this.showSwipe&&(this.wrapperElm.append(this.swipeImgElm),this.wrapperElm.append(this.swipeLegendElm)),this.wrapperElm.append(this.chartElm)}},{key:"_prepareSwipeLegendElm",value:function(){var e=this,t=this;this.swipeLegendElm=s["default"]('<div class="chart-swipe-legend"></div>'),this.swipeLegendElm.css({position:"absolute",left:0,top:this.scale(10),width:this.scale(this.width),"text-align":"center","z-index":0});var n=this.obj.content.options.lineColor||"gray";if(this.showSwipe){var i=this.obj.content.data;i.forEach(function(i,r){var o=s["default"]('<span class="swipe-legend-title">'+i.name+"</span>");o.css({margin:e.scale(10),fontSize:0===r?e.scale(24):e.scale(20),opacity:0===r?1:.3,color:n}),o.click(function(){t._renderSwipeLegend(!1),t.curChartIndex=s["default"](this).index(),t.chartOption=t._prepareChartOption(t.curChartIndex),t._renderSwipeLegend(!0),t._renderHighcharts()}),e.swipeLegendElm.append(o)}.bind(this))}return this.swipeLegendElm}},{key:"_prepareSwipeImgElm",value:function(){return this.swipeImgElm=s["default"]('<img src="images/swiper/swipewarn.png"></img>'),this.swipeImgElm.css({position:"absolute",width:this.scale(180),left:this.scale(230),marginTop:this.scale(-90),top:"50%",display:"none","z-index":99}),this.swipeImgElm}},{key:"_prepareChartElm",value:function(){var e=this;if(this.chartElm=s["default"]('<div class="chart"></div>'),this.chartElm.css({position:"absolute",width:this.scale(this.width),height:this.showSwipe?this.scale(this.height-50):this.scale(this.height),left:0,top:this.showSwipe?50:0,"z-index":0}),this.showSwipe){var t=new c["default"](this.chartElm[0]);t.on("swipeleft",function(){e._renderSwipeLegend(!1),e.curChartIndex=(e.curChartIndex-1+e.chartNumber)%e.chartNumber,e._renderSwipeLegend(!0),e.chartOption=e._prepareChartOption(e.curChartIndex),e._renderHighcharts()}.bind(this)),t.on("swiperight",function(){e._renderSwipeLegend(!1),e.curChartIndex=(e.curChartIndex+1)%e.chartNumber,e._renderSwipeLegend(!0),e.chartOption=e._prepareChartOption(e.curChartIndex),e._renderHighcharts()}.bind(this))}return this.chartElm}},{key:"_prepareChartOption",value:function(e){var t=this.obj.content,n=this.obj.content.options,i="14px",r=n.lineColor||"gray",o=3===t.multiple?"normal":null,a=void 0===e?t.data:[t.data[e]],s=void 0===e?n.colors:[n.colors[e]],l={chart:{type:t.type,backgroundColor:n.backgroundColor,plotBorderWidth:1,animation:{duration:300}},title:{text:null},colors:s,legend:{enabled:!0,useHTML:!0,labelFormatter:function(){return'<div style="font-size: 12px; color: '+r+'">'+this.name+"</div>"}},credits:{enabled:!1},tooltip:{style:{fontSize:i}},plotOptions:{series:{animation:!0,stacking:o,lineWidth:2}},xAxis:{lineColor:r,gridLineColor:r,categories:n.xAxis.categories,tickColor:r,labels:{staggerLines:1,distance:50,style:{paddingTop:"30px",color:r}}},yAxis:{lineColor:r,gridLineColor:r,max:n.yAxis.max||null,min:n.yAxis.min||null,title:{text:n.yAxis.title.text,style:{color:r}},labels:{style:{fontSize:i,color:r}}},series:a};return l}},{key:"_renderHighcharts",value:function(){window.Highcharts.createChart(this.chartElm[0],this.chartOption),this.swipeImgElm&&this.swipeImgElm.hide()}},{key:"_renderSwipeImg",value:function(){var e=this;setTimeout(function(){e.swipeImgElm&&e.obj.content.data.length>1&&e.swipeImgElm.fadeIn()}.bind(this),700),setTimeout(function(){e.swipeImgElm&&e.swipeImgElm.fadeOut()}.bind(this),3500)}},{key:"_renderSwipeLegend",value:function(e){this.swipeLegendElm.find(".swipe-legend-title").eq(this.curChartIndex).css({fontSize:e?this.scale(24):this.scale(20),opacity:e?1:.3})}},{key:"render",value:function(){this._renderHighcharts(),this._renderSwipeImg()}},{key:"getElement",value:function(){return this.wrapperElm}}]),e}();t["default"]=u,e.exports=t["default"]},function(e,t){(function(t){"use strict";function n(e){s.length||(a(),l=!0),s[s.length]=e}function i(){for(;c<s.length;){var e=c;if(c+=1,s[e].call(),c>u){for(var t=0,n=s.length-c;n>t;t++)s[t]=s[t+c];s.length-=c,c=0}}s.length=0,c=0,l=!1}function r(e){var t=1,n=new d(e),i=document.createTextNode("");return n.observe(i,{characterData:!0}),function(){t=-t,i.data=t}}function o(e){return function(){function t(){clearTimeout(n),clearInterval(i),e()}var n=setTimeout(t,0),i=setInterval(t,50)}}e.exports=n;var a,s=[],l=!1,c=0,u=1024,d=t.MutationObserver||t.WebKitMutationObserver;a="function"==typeof d?r(i):o(i),n.requestFlush=a,n.makeRequestCallFromTimer=o}).call(t,function(){return this}())},,function(e,t,n){var i=n(15);e.exports=i},function(e,t){(function(){var t,n,i;i=null,t=function(){return i=document.createElement("style"),document.head.appendChild(i)},n=function(e){var t;return t=i.sheet,t.insertRule(e,t.cssRules.length),i},n.reset=function(){return document.head.removeChild(i),t()},n.newStyle=function(){return t()},t(),e.exports=n}).call(this)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(6),s=i(a),l=function(){function e(){r(this,e)}return o(e,[{key:"stopAnimation",value:function(e){if(this.getInEffect(e)){var t=e.dom.children().first();e.dom.hide(),s["default"](t,"stop")}}},{key:"getInEffect",value:function(e){var t={};return 1===e.animationVersion?(t.show=e.elementAnimations.animation_in.show,t.delay=e.elementAnimations.animation_in.delay,t.speed=e.elementAnimations.animation_in.speed):(t.show=e.show,t.delay=e.delay,t.speed=e.speed),""!==t.show&&"noeffect"!==t.show&&t.show||(t=!1),e.forceNoEffect&&(t=!1),t}},{key:"actAnimation",value:function(e){var t=this.getInEffect(e);if(t){var n=e.dom.children().first();if(t){e.dom.hide();var i=this.getAnimations(e,t);i[0].startCallback=function(){e.dom.show()},i[0].delay=t.delay>300?parseInt(t.delay-300):0;for(var r=s["default"](n,i[0]),o=1;o<i.length;o++)r.snabbt(i[o])}}}},{key:"getAnimations",value:function(e,t){var n=parseInt(e.h?e.h:200),i=parseInt(e.w?e.w:200),r=void 0;switch(t.show){case"zoomIn":r=[{fromScale:[.8,.8],scale:[1,1],fromOpacity:0,opacity:1,easing:"ease",duration:t.speed}];break;case"zoomInDown":r=[{fromScale:[.5,.5],scale:[.775,.775],fromPosition:[0,-500,0],position:[0,60,0],fromOpacity:0,opacity:1,easing:"easeIn",duration:.7*t.speed},{scale:[1,1],position:[0,0,0],easing:"easeOut",duration:.4*t.speed}];break;case"expandOpen":r=[{fromScale:[1.8,1.8],scale:[.95,.95],easing:"ease",duration:parseInt(.6*t.speed)},{scale:[1,1],easing:"ease",duration:parseInt(.4*t.speed)}];break;case"fadeIn":r=[{fromScale:[.5,.5],scale:[1,1],fromOpacity:0,opacity:1,easing:"ease",duration:parseInt(.6*t.speed)},{scale:[.9,.9],easing:"ease",duration:parseInt(.2*t.speed)},{scale:[1,1],easing:"ease",duration:parseInt(.2*t.speed)}];break;case"fadeInNormal":r=[{fromOpacity:0,opacity:1,easing:"ease",duration:t.speed}];break;case"fadeInUp":r=[{fromPosition:[0,n,0],position:[0,0,0],fromOpacity:0,opacity:1,easing:"ease",duration:t.speed}];break;case"fadeInDown":r=[{fromPosition:[0,-n,0],position:[0,0,0],fromOpacity:0,opacity:1,easing:"ease",duration:t.speed}];break;case"fadeInRight":r=[{fromPosition:[i,0,0],position:[0,0,0],fromOpacity:0,opacity:1,easing:"ease",duration:t.speed}];break;case"fadeInLeft":r=[{fromPosition:[-i,0,0],position:[0,0,0],fromOpacity:0,opacity:1,easing:"ease",duration:t.speed}];break;case"moveUp":r=[{fromPosition:[0,n,0],position:[0,0,0],fromOpacity:1,opacity:1,easing:"ease",duration:t.speed}];break;case"moveDown":r=[{fromPosition:[0,-n,0],position:[0,0,0],fromOpacity:1,opacity:1,easing:"ease",duration:t.speed}];break;case"moveRight":r=[{fromPosition:[-i,0,0],position:[0,0,0],fromOpacity:1,opacity:1,easing:"ease",duration:t.speed}];break;case"moveLeft":r=[{fromPosition:[i,0,0],position:[0,0,0],fromOpacity:1,opacity:1,easing:"ease",duration:t.speed}];break;case"rotateIn":r=[{fromRotation:[0,0,Math.PI],rotation:[0,0,0],fromOpacity:0,opacity:1,easing:"ease",duration:t.speed}];break;case"rotateInDownLeft":r=[{fromRotation:[0,0,Math.PI/4],rotation:[0,0,0],fromOpacity:0,opacity:1,easing:"linear",transformOrigin:[-i/2,n/2,0],duration:t.speed}];break;case"rotateInDownRight":r=[{fromRotation:[0,0,-Math.PI/4],rotation:[0,0,0],fromOpacity:0,opacity:1,easing:"linear",transformOrigin:[i/2,n/2,0],duration:t.speed}];break;case"flipInY":r=[{fromRotation:[0,Math.PI/2,0],rotation:[0,20*-Math.PI/180,0],fromOpacity:.4,opacity:1,easing:"ease",duration:parseInt(.7*t.speed)},{fromRotation:[0,20*-Math.PI/180,0],rotation:[0,0,0],easing:"ease",duration:parseInt(.3*t.speed)}];break;case"flipInX":r=[{fromRotation:[Math.PI/2,0,0],rotation:[20*-Math.PI/180,0,0],fromOpacity:.4,opacity:1,easing:"ease",duration:parseInt(.7*t.speed)},{fromRotation:[20*-Math.PI/180,0,0],rotation:[0,0,0],easing:"ease",duration:parseInt(.3*t.speed)}];break;case"lightSpeedIn":r=[{fromSkew:[0,-Math.PI/6],skew:[0,20*Math.PI/180],fromOpacity:.4,opacity:1,fromPosition:[i,0,0],position:[0,0,0],easing:"ease",duration:parseInt(.6*t.speed)},{skew:[0,5*-Math.PI/180],easing:"ease",duration:parseInt(.2*t.speed)},{skew:[0,0],easing:"ease",duration:parseInt(.2*t.speed)}];break;case"slideRight":r=[{fromPosition:[parseInt(-1.5*i),0,0],position:[parseInt(.08*i),0,0],easing:"ease",duration:parseInt(.6*t.speed)},{position:[parseInt(-.04*i),0,0],easing:"ease",duration:parseInt(.2*t.speed)},{position:[0,0,0],easing:"ease",duration:parseInt(.2*t.speed)}];break;case"slideLeft":r=[{fromPosition:[parseInt(1.5*i),0,0],position:[parseInt(-.08*i),0,0],easing:"ease",duration:parseInt(.6*t.speed)},{position:[parseInt(.04*i),0,0],easing:"ease",duration:parseInt(.2*t.speed)},{position:[0,0,0],easing:"ease",duration:parseInt(.2*t.speed)}];break;case"slideDown":r=[{fromPosition:[0,parseInt(-1*n),0],position:[0,parseInt(.08*n),0],easing:"ease",duration:parseInt(.6*t.speed)},{position:[0,parseInt(-.04*n),0],easing:"ease",duration:parseInt(.2*t.speed)},{position:[0,0,0],easing:"ease",duration:parseInt(.2*t.speed)}];break;case"slideUp":r=[{fromPosition:[0,parseInt(1*n),0],position:[0,parseInt(-.08*n),0],easing:"ease",duration:parseInt(.6*t.speed)},{position:[0,parseInt(.04*n),0],easing:"ease",duration:parseInt(.2*t.speed)},{position:[0,0,0],easing:"ease",duration:parseInt(.2*t.speed)}];break;case"stretchRight":r=[{fromScale:[.3,1],scale:[1.02,1],easing:"ease",transformOrigin:[-i/2,0,0],duration:parseInt(.6*t.speed)
},{scale:[.99,1],easing:"ease",duration:parseInt(.2*t.speed)},{scale:[1,1],easing:"ease",duration:parseInt(.2*t.speed)}];break;case"stretchLeft":r=[{fromScale:[.3,1],scale:[1.02,1],easing:"ease",transformOrigin:[i/2,0,0],duration:parseInt(.6*t.speed)},{scale:[.99,1],easing:"ease",duration:parseInt(.2*t.speed)},{scale:[1,1],easing:"ease",duration:parseInt(.2*t.speed)}];break;case"pullUp":r=[{fromScale:[1,.3],scale:[1,1.02],easing:"ease",transformOrigin:[0,n/2,0],duration:parseInt(.6*t.speed)},{scale:[1,.99],easing:"ease",duration:parseInt(.2*t.speed)},{scale:[1,1],easing:"ease",duration:parseInt(.2*t.speed)}];break;case"pullDown":r=[{fromScale:[1,.3],scale:[1,1.02],easing:"ease",transformOrigin:[0,-n/2,0],duration:parseInt(.6*t.speed)},{scale:[1,.99],easing:"ease",duration:parseInt(.2*t.speed)},{scale:[1,1],easing:"ease",duration:parseInt(.2*t.speed)}];break;default:r=[{fromOpacity:0,opacity:1}]}return r}}]),e}();t["default"]=new l,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(1),s=i(a),l=n(5),c=i(l),u=n(3),d=i(u),p=n(2),h=i(p),f=n(10),g=i(f),m=n(7),v=i(m),y=n(14),w=i(y),b=null,x=function(){function e(){r(this,e),b=this,this.loadEnd={},this.loading={},this.loadingWait={}}return o(e,[{key:"preparePage",value:function(e){var t=[];if(e.loaded===!0){var n=c["default"].resolve(e);return n}if(v["default"].send("pageLoadStart",e.index),e.bgpic&&"0"!==e.bgpic&&" "!==e.bgpic)try{var i=void 0,r={};if(e.bgpic.indexOf("img1")>0)i=e.bgpic;else{var o=/id\/[A-Z0-9]{0,40}/,a=o.exec(e.bgpic),l=/\.jpg|\.png|\.jpeg|\.gif/i,u=l.exec(e.bgpic),p="";u&&(p=u[0]);var f=a[0].substr(3)+p;i=d["default"].getImgUrl(f)}e.bgpicCropData&&!d["default"].isGif(e.bgpic)&&d["default"].isAppNormalMode()&&(i=d["default"].addCrop(i,e.bgpicCropData)),r.inw=e.bgpicwidth;var m=b.loadImage(i,r,e);m=m.then(function(t){return e.bgDom=s["default"](t),t}),t.push(m)}catch(y){h["default"].log(y),h["default"].logPiwik(d["default"].getEnvironment(),d["default"].isAppNormalMode(),y)}return e.content.map(function(n){switch(n.type){case"pic":if(!n.picid){var i=n.con.split("/");n.picid=i[i.length-3]}var r=d["default"].getImgUrl(n.picid);n.cropData&&!d["default"].isGif(n.picid)&&d["default"].isAppNormalMode()&&(r=d["default"].addCrop(r,n.cropData));var o=b.loadImage(r,n,e);o=o.then(function(e){return n.inw&&"auto"!==n.inw||(n.inw=e.width),n.dom=s["default"](e),e}),t.push(o);break;case"pButton":if("count_down"!==n.model_type){var a=b.loadSvgImg(d["default"].getPButtonUrl(g["default"].pButtonSvg[n.pic_id]));a=a.then(function(e){return n.buttonSvg=e,e}),t.push(a)}break;case"pEraser":var l=d["default"].getImgUrl(n.picid),c=b.loadImage(l,n,e);c=c.then(function(e){return n.inw&&"auto"!==n.inw||(n.inw=e.width),n.imgDom=s["default"](e),e}),t.push(c);break;case"comparison":n.picdata.map(function(i){var r=d["default"].getImgUrl(i.picid),o=b.loadImage(r,n,e);o=o.then(function(e){return i.dom=s["default"](e),e}),t.push(o)});break;case"pshape":if(!n.shape)break;"0"===n.shape&&(n.shape="1.svg");var u=b.loadSvgImg(d["default"].getShapeUrl(n.shape));u=u.then(function(e){return n.svgXml=e,e}),t.push(u);break;case"fingerPrint":var p=b.loadImage(d["default"].getImgUrl(n.picid),n,e);p=p.then(function(e){return n.dom=s["default"](e),e}),t.push(p);break;case"phone_call":var h=b.loadImage(d["default"].getPhoneCallUrl("phonecall_bg.png"),n,e),f=b.loadImage(d["default"].getPhoneCallUrl("phonecall_info.png"),n,e),m=b.loadImage(d["default"].getPhoneCallUrl("phonecall_remind.png"),n,e),v=b.loadImage(d["default"].getPhoneCallUrl("phonecall.png"),n,e);h=h.then(function(e){return n.bgDom=s["default"](e),e}),f=f.then(function(e){return n.phoneInfoDom=s["default"](e),e}),m=m.then(function(e){return n.phoneRemindDom=s["default"](e),e}),v=v.then(function(e){return n.phonecallDom=s["default"](e),e}),t.push(h),t.push(f),t.push(m),t.push(v);break;case"glass_break":var y=[1,2,3,4,5];n.imgDom=new Array(5),y.map(function(i){var r=b.loadImage(d["default"].getGlassBreakUrl(i+".png"),n,e);r=r.then(function(e){return n.imgDom[i-1]=e,e}),t.push(r)});break;case"slide":var x=b.loadSwiper();t.push(x),n.data.map(function(n){var i=b.loadImage(d["default"].getImgUrl(n.picid),n,e);i=i.then(function(e){return n.imgDom=s["default"](e),e}),t.push(i)});break;case"eleform":b.loadImage("images/sending.gif",n,e),b.loadImage("images/sendsucess.png",n,e);break;case"charts":var k=b.loadHighcharts();t.push(k);break;case"text":case"ptext":if(n.fontId){var T,S=n.fontId;if(n.fontId.indexOf("makafont_")>=0&&(T=d["default"].engFontUrl+n.fontId+".ttf"),!b.loadEnd[T]){b.loadEnd[T]=!0;var C=b.loadFont(T,n,e).then(function(){var e='@font-face {font-family: "'+S+'"; src: url("'+T+'");font-weight: normal; font-style: normal;}';w["default"](e)});t.push(C)}}}}),h["default"].log("Preparing page... "+e.index+" pros:"+t.length),e.loaded=!0,t}},{key:"loadFont",value:function(e,t,n){return h["default"].log(t,n),new c["default"](function(t){s["default"].ajax({type:"GET",dataType:"text",url:e,cache:!0,success:function(){t()},error:function(){t(null)}})})}},{key:"loadImage",value:function(e,t,n){return new c["default"](function(i){var r=new Image,o=!1;r.onload=function(){o||(h["default"].log("Load image succeeded..."+e),o=!0,i(r))},r.onerror=function(t){h["default"].logPiwik(d["default"].getEnvironment(),d["default"].isAppNormalMode(),"Load image failed "+e+t),o||(h["default"].log("Load image failed "+e+t),o=!0,i(r))};var a=/\.jpg|\.jpeg/i,s=a.exec(e);if(s&&!e.indexOf("@"))if(t&&0!==t.inw&&"auto"!==t.inw&&t.inw&&d["default"].isAppNormalMode()){var l=t.inw>500?1e3:parseInt(2*t.inw);r.src=e+"@"+l+"w_75Q"}else r.src=e;else r.src=e;0!==n.index&&d["default"].isAppNormalMode()&&"pEraser"!==t.type&&(o||(o=!0,i(r)))})}},{key:"loadSwiper",value:function(){return new c["default"](function(e){n.e(1,function(){window.Swiper=n(37),n(36),e(window.Swiper)})})}},{key:"loadHighcharts",value:function(){return new c["default"](function(e){n.e(0,function(t){window.Highcharts=n(13),e(window.Highcharts)})})}},{key:"loadSvgImg",value:function(e){return new c["default"](function(t){b.loadEnd[e]?t(b.loadEnd[e]):b.loading[e]?(console.log("load wait"),b.loadingWait[e].push(t)):(b.loading[e]=!0,b.loadingWait[e]=[],b.loadingWait[e].push(t),console.log("load start"),s["default"].ajax({type:"GET",dataType:"text",url:e,cache:!0,success:function(t){console.log("load end");var n=t;for(var i in b.loadingWait[e]){var r=b.loadingWait[e][i];r(n)}b.loadEnd[e]=n,b.loading[e]=!1},error:function(){h["default"].log("Load svgUrl failed "+e),b.loading[e]=!1;for(var t in b.loadingWait[e]){var n=b.loadingWait[e][t];n(null)}}}))})}}]),e}();t["default"]=x,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(1),s=i(a),l=n(5),c=i(l),u=n(9),d=i(u),p=n(17),h=i(p),f=n(8),g=i(f),m=n(3),v=i(m),y=n(2),w=i(y),b=n(33),x=i(b),k=n(34),T=i(k),S=n(11),C=i(S),P=n(21),A=i(P),E=n(22),D=i(E),M=n(20),L=i(M),I=n(23),O=i(I),N=n(7),z=i(N),R=n(19),F=i(R),j=n(16),B=i(j);n(25);var H=null,W=function(){function e(){r(this,e),this.currentPageIndex=0,this.pageChangeHandlers=[],this.pageEffect=[],this.swipeDownLock=!1,v["default"].isAppNormalMode()&&(this.audioEffect=new Audio),this.pageZLevel={top:999,bottom:0,music:1e3},this.lazyLoader=new h["default"],this.firstEnsurePagesStarted=!1,H=this,this.initSwiper(),this.ensureCanvas(),this.preload=new D["default"],this.option={}}return o(e,[{key:"setOption",value:function(e){this.option=e}},{key:"initSwiper",value:function(){var e=this;w["default"].log("Initing page swiper...");var t=document.getElementById("maka-pages");this.hammerPages=new g["default"].Manager(t);var n=new g["default"].Pan;n.set({direction:g["default"].DIRECTION_ALL,preventDefault:!0}),this.hammerPages.add(n),this.hammerPages.get("pan").set({direction:g["default"].DIRECTION_VERTICAL}),this.hammerPages.on("pan",this.onPan.bind(this)),s["default"](window).on("message",function(t){var n=JSON.parse(t.originalEvent.data);"nextPage"===n.type?e.showNextPage():"prevPage"===n.type?e.showPreviousPage():"showPage"===n.type&&e.showPage(n.index)})}},{key:"ensureCanvas",value:function(){var e,t,n,i,r=v["default"].canvas.standardWidth,o=v["default"].canvas.standardHeight,a=document.body.clientWidth/r,l=document.body.clientHeight/o;H.scaleRatio=l>a?a:l,H.bgScaleRatio=a>l?a:l,l>a?(e=r>document.body.clientWidth?document.body.clientWidth:r,t=e*(o/r),n=r<document.body.clientWidth?(document.body.clientWidth-r)/2:0,i=t<document.body.clientHeight?(document.body.clientHeight-t)/2:0):(t=o>document.body.clientHeight?document.body.clientHeight:o,e=t*(r/o),i=o<document.body.clientHeight?(document.body.clientHeight-o)/2:0,n=e<document.body.clientWidth?(document.body.clientWidth-e)/2:0),w["default"].log("Ensuring canvas..."),s["default"](".maka-canvas").css({width:"100%",height:"100%",left:"0px",top:"0px",position:"absolute"}),H.ratio={height:l,width:a},H.contentsize={width:e+"px",height:t+"px",left:n+"px",top:i+"px",position:"absolute"}}},{key:"scale",value:function(e){if("string"==typeof e&&-1!==e.indexOf("px")){var t=parseInt(e.substr(0,e.length-1));return parseInt(Math.round(t*H.scaleRatio))+"px"}return e=parseInt(Math.round(e*H.scaleRatio)),e+"px"}},{key:"setCommonCSS",value:function(e,t){s["default"](e).css({width:this.scale(t.w),height:this.scale(t.h),left:this.scale(t.left),top:this.scale(t.right),rotate:t.rotate,opacity:t.opacity,display:"absolute"})}},{key:"showPPT",value:function(){if(this.preload.hide(),this.currentPageIndex=0,v["default"].isAppNormalMode()){var e=d["default"].getPage(0);H.showPageInAnimation(e)}H.showBackgroundMusic(),H.onPageChange(0),s["default"](".maka-page-0").show(),s["default"](".maka-pages").show(),z["default"].send("pageVisit",H.currentPageIndex),H.showAdarea(),H.showArrow(),H.option.pageChangeCallback&&H.option.pageChangeCallback()}},{key:"buildBackgroundMusic",value:function(){var e=this;if(v["default"].isAppNormalMode()){var t=d["default"].getMusic();t&&!function(){e.audioBackground=new Audio,H.audioBackground.src=v["default"].getMusicUrl(t),H.audioBackground.loop=!0,H.audioBackground.play();var n=function i(){H.toggleBackgroundMusic(!0),w["default"].log("Start play music for user......."),s["default"]("body").off("touchstart",i)};s["default"]("body").on("touchstart",n)}()}}},{key:"showBackgroundMusic",value:function(){var e=d["default"].getMusicId();if(e&&(H.musicDom=s["default"]("<img/>"),H.musicDom.css({width:H.scale(60),height:H.scale(60),right:H.scale(30),top:H.scale(30),opacity:.7,position:"absolute",display:"block","z-index":H.pageZLevel.music}),H.isMusicOn=!0,H.musicDom.attr({src:T["default"]}),s["default"](".maka-pages").append(H.musicDom),v["default"].isAppNormalMode())){var t=new g["default"](H.musicDom.get(0));t.on("tap",H.toggleBackgroundMusic)}}},{key:"toggleBackgroundMusic",value:function(e){v["default"].isAppNormalMode()&&(e===!0?H.isMusicOn=e:H.isMusicOn=!H.isMusicOn,H.musicDom&&(H.isMusicOn?(H.musicDom.attr({src:T["default"]}),H.audioBackground&&H.audioBackground.play()):(H.musicDom.attr({src:x["default"]}),H.audioBackground&&H.audioBackground.pause(),z["default"].send("closeMusic"))))}},{key:"ensurePages",value:function(e,t){if(e&&0!==e.length){t=t||function(){};var n=[],i=[];H.firstEnsurePagesStarted||(H.preload.increaseSteps(1),w["default"].runAsync(function(){H.preload.increaseProgress()})),e.forEach(function(e){if(d["default"].hasPage(e)){var t=d["default"].getPage(e);t.index=e;var i=H.lazyLoader.preparePage(t);if(!H.firstEnsurePagesStarted){H.preload.increaseSteps(i.length);for(var r=function(){H.preload.increaseProgress()},o=0;o<i.length;o++)i[o]=i[o].then(r)}n.push({page:t,promiseArray:i})}}),n.forEach(function(e){var t=new c["default"](function(t){c["default"].all(e.promiseArray).then(function(){H.renderPage(e.page),t(e.page)})});H.firstEnsurePagesStarted||(H.preload.increaseSteps(1),t=t.then(function(){H.preload.increaseProgress()})),i.push(t)}),c["default"].all(i).then(function(){t()})["catch"](w["default"].log),H.firstEnsurePagesStarted=!0}}},{key:"ensureAllPages",value:function(e){for(var t=[],n=d["default"].getPageLength(),i=0;n>i;i++)t.push(i);this.ensurePages(t,e)}},{key:"showPreviousPage",value:function(){if(w["default"].log("Decide to show previous page, currentPageIndex:"+H.currentPageIndex),H.currentPageIndex>0){var e,t,n,i,r,o;!function(){z["default"].send("pageVisit",H.currentPageIndex-1),z["default"].send("pageLeave",H.currentPageIndex),e="maka-page-"+H.currentPageIndex,t=s["default"]("."+e),n=H.currentPageIndex-1;var a=H.currentPageIndex;if(i="maka-page-"+n,r=s["default"]("."+i),v["default"].isAppNormalMode()){var l=d["default"].getPage(H.currentPageIndex);H.panDownAnimations||l.swipeDownLock||H.initpanDownAnimations(l),H.animateToPrevPage(function(){var e=d["default"].getPage(a),i=d["default"].getPage(n);t.hide(),r.show(),H.hidePageElement(e),H.showPageInAnimation(i),H.showAdarea(),H.showArrow()})}else t.hide(),r.show(),o=d["default"].getPage(n),H.showPageInAnimation(o);H.onPageChange(n),H.currentPageIndex=n,H.option.pageChangeCallback&&H.option.pageChangeCallback()}()}H.showAdarea(),H.showArrow()}},{key:"showPage",value:function(e){H.ensurePages([e],function(){var t=e,n=H.currentPageIndex,i=s["default"](".maka-page-"+t),r=s["default"](".maka-page-"+n);r.hide(),i.fadeIn(function(){var n=d["default"].getPage(t);H.showPageInAnimation(n),H.currentPageIndex=e})})}},{key:"showNextPage",value:function(e){w["default"].log("Decide to show next page, currentPageIndex:"+H.currentPageIndex),H.hasNextPage()?H.ensurePages([H.currentPageIndex+1],function(){z["default"].send("pageVisit",H.currentPageIndex+1),z["default"].send("pageLeave",H.currentPageIndex);var t=s["default"](".maka-page-"+(H.currentPageIndex+1)),n=s["default"](".maka-page-"+H.currentPageIndex),i=H.currentPageIndex+1,r=H.currentPageIndex;if(v["default"].isAppNormalMode()){var o=d["default"].getPage(H.currentPageIndex);H.panUpAnimations||o.swipeUpLock||H.initpanUpAnimations(o),t.show(),H.animateToNextPage(function(){var e=d["default"].getPage(r),o=d["default"].getPage(i);n.hide(),t.show(),H.hidePageElement(e),H.showPageInAnimation(o),H.showAdarea(),H.showArrow(),H.ensurePages([i+1,i+2,i+3]),H.panUpAnimations=null})}else{n.hide(),t.show();var a=d["default"].getPage(H.currentPageIndex);H.showPageInAnimation(a),H.ensurePages([i+1,i+2,i+3])}H.onPageChange(i),H.currentPageIndex=i,H.showAdarea(),H.showArrow(),H.option.pageChangeCallback&&H.option.pageChangeCallback(),e&&e()}):this.option.lastCallback&&this.option.lastCallback()}},{key:"onPageChange",value:function(e){H.pageChangeHandlers.map(function(t){t(e)})}},{key:"hasNextPage",value:function(){return H.currentPageIndex<d["default"].getPageLength()-1}},{key:"getCurrentPageIndex",value:function(){return H.currentPageIndex}},{key:"showAdarea",value:function(){var e=s["default"](".maka-adArea");H.currentPageIndex===d["default"].getPageLength()-1?(e.fadeIn(),w["default"].log("show"),s["default"](".maka-adArea").unbind(),s["default"](".maka-adArea").on("click",function(){z["default"].send("makaAD",100)})):(e.hide(),w["default"].log("hide"))}},{key:"showArrow",value:function(){var e=s["default"](".maka-Arrow"),t=d["default"].getPage(H.currentPageIndex);t.MWChains&&t.MWChains.nextPage&&!t.MWChains.nextPage.done?e.hide():t.swipeUpLock||t.swipeDownLock||H.currentPageIndex===d["default"].getPageLength()-1?e.hide():e.show()}},{key:"hideArrow",value:function(){var e=s["default"](".maka-Arrow");e.hide()}},{key:"hidePageElement",value:function(e){v["default"].isAppNormalMode()&&e.content.forEach(function(e){"charts"===e.type?e.dom.hide():B["default"].stopAnimation(e)})}},{key:"showPageInAnimation",value:function(e){v["default"].isAppNormalMode()&&e.content.forEach(function(e){B["default"].actAnimation(e),e.showCallback&&e.showCallback(),"charts"===e.type&&(e.chartElement.render(),e.dom.fadeIn()),"slide"===e.type&&setTimeout(function(){e.slider.update()},500)})}},{key:"animateToNextPage",value:function(e){var t=H.panUpAnimations?H.panUpAnimations.length:1,n=F["default"].debouncedCallback(e,t);for(var i in H.panUpAnimations)H.panUpAnimations[i].finish(n);H.panUpAnimations=null,H.panDownAnimations=null}},{key:"animateToPrevPage",value:function(e){var t=H.panDownAnimations?H.panDownAnimations.length:1,n=F["default"].debouncedCallback(e,t);for(var i in H.panDownAnimations)H.panDownAnimations[i].finish(n);H.panUpAnimations=null,H.panDownAnimations=null}},{key:"onSwipeDown",value:function(){H.showPreviousPage()}},{key:"onSwipeUp",value:function(){H.showNextPage()}},{key:"initpanUpAnimations",value:function(e){var t=s["default"](".maka-page-"+(H.currentPageIndex+1)),n=s["default"](".maka-page-"+H.currentPageIndex);H.panUpAnimations=[],H.panUpAnimations.push(F["default"].getLeaveEffect(e.effect,n)),H.panUpAnimations.push(F["default"].getEntryEffect(e.effect,t))}},{key:"initpanDownAnimations",value:function(e){e=d["default"].getPage(e.index-1);var t=s["default"](".maka-page-"+H.currentPageIndex),n=s["default"](".maka-page-"+(H.currentPageIndex-1));H.panDownAnimations=[],H.panDownAnimations.push(F["default"].getBackEffect(e.effect,n)),H.panDownAnimations.push(F["default"].getOutEffect(e.effect,t))}},{key:"onPan",value:function(e){var t=document.body.clientHeight,n=e.deltaY/t,i=s["default"](".maka-page-"+(H.currentPageIndex+1)),r=s["default"](".maka-page-"+(H.currentPageIndex-1)),o=d["default"].getPage(H.currentPageIndex);e.deltaY<0&&!H.panUpAnimations&&H.hasNextPage()&&!e.isFinal&&!o.swipeUpLock&&H.initpanUpAnimations(o),e.deltaY>0&&!H.panDownAnimations&&H.currentPageIndex>0&&!e.isFinal&&!o.swipeDownLock&&H.initpanDownAnimations(o),n>1?n=1:-1>n&&(n=-1);var a=e.changedPointers[0].clientX<4||e.changedPointers[0].clientX>document.body.clientWidth-4,l=e.changedPointers[0].clientY<4||e.changedPointers[0].clientY>document.body.clientHeight-4;if((a||l)&&(console.log(e.changedPointers[0].clientX+"x"+document.body.clientWidth+"y"+e.changedPointers[0].clientY),this.hammerPages.stop(),e.isFinal=!0),e.isFinal)if((-.2>n||e.velocityY>.5)&&!o.swipeUpLock)H.showNextPage();else if(0>n){for(var c in H.panUpAnimations)H.panUpAnimations[c].rollback();H.panUpAnimations=null}else if((n>.2||e.velocityY<-.5)&&!o.swipeDownLock)H.showPreviousPage();else{for(var c in H.panDownAnimations)H.panDownAnimations[c].rollback();H.panDownAnimations=null}else if(0>n&&-.1>n)H.ensurePages([H.currentPageIndex+1],function(){i.show();for(var e in H.panUpAnimations)H.panUpAnimations[e].setValue(-n);for(var e in H.panDownAnimations)H.panDownAnimations[e].setValue(0)});else if(n>0&&n>.1){r.show();for(var c in H.panDownAnimations)H.panDownAnimations[c].setValue(n);for(var c in H.panUpAnimations)H.panUpAnimations[c].setValue(0)}}},{key:"rotate",value:function(e){return"rotate("+e+"deg)"}},{key:"ms",value:function(e){return e+"ms"}},{key:"addpx",value:function(e){return parseInt(e)+"px"}},{key:"shadow",value:function(e){return"0 0 "+H.addpx(e)+" black"}},{key:"url",value:function(e){return-1===e.indexOf("http")?"http://"+e:e}},{key:"renderImg",value:function(e){var t=s["default"]("<div></div>"),n=s["default"]("<div></div>");t.css({width:H.scale(e.w),height:H.scale(e.h),left:H.scale(e.left),top:H.scale(e.top),position:"absolute",opacity:e.opacity,transform:H.rotate(e.rotate)});var i=void 0,r=void 0,o=void 0;return e.cropData&&!v["default"].isGif(e.picid&&v["default"].isAppNormalMode())?(o="100%",i=0,r=0):(o=H.scale(e.inw),i=H.scale(e.intop),r=H.scale(e.inleft)),n.css({position:"absolute",width:"100%",height:"100%",overflow:"hidden",borderRadius:H.scale(e.borderradius*e.h/200),boxShadow:H.shadow(e.boxshadow),"background-image":"url("+e.dom.context.src+")","background-repeat":"no-repeat","background-size":o,"background-position":r+" "+i}),n.attr("imgSrc",e.dom.context.src),n.on("touchstart",function(){var e=s["default"]("<img/>");e.css("opacity",0),e.attr("src",s["default"](this).attr("imgSrc")),n.append(e)}),n.on("touchend",function(){n.empty()}),t.append(n),t}},{key:"renderText",value:function(e){var t=s["default"]("<div></div>"),n=s["default"]("<div></div>");if(e.version>=21&&n.addClass("no_margin"),t.css({position:"absolute",width:H.scale(e.w),top:H.scale(e.top),left:H.scale(e.left),transform:H.rotate(e.rotate)}),n.css({position:"absolute",width:"100%",color:e.ftcolor,fontSize:H.scale(e.ftsize),opacity:e.opacity,background:e.bgcolor,textAlign:e.textalign,fontWeight:e.fontbold?"bold":"normal",textDecoration:e.udl?"underline":"none",lineHeight:e.lineheight,borderStyle:e["border-style"],borderColor:e["border-color"],borderWidth:H.scale(e["border-width"]),fontStyle:e.fontitalic?"italic":"normal",borderRadius:H.scale(e.borderradius*e.height/200),boxShadow:H.shadow(e.boxshadow),wordWrap:"break-word"}),e.fontId&&n.css({"font-family":e.fontId}),"text"===e.type){var i;switch(e.textvalign){case"top":i=0;break;case"middle":i=e.h/2-e.tl/2;break;case"bottom":i=e.h-e.tl}n.css({marginTop:H.scale(i),height:"auto"})}if(n.append(e.con),t.append(n),"text"===e.type){var r=n.get(0).firstChild;for(w["default"].log(r.toString());r.hasChildNodes();)parseInt(r.style.fontSize)&&(r.style.fontSize=H.scale(parseInt(r.style.fontSize))),r=r.firstChild}return t}},{key:"renderShape",value:function(e){var t,n=s["default"]("<div></div>"),i=s["default"]("<div></div>");if(n.css({position:"absolute",width:H.scale(e.w),height:H.scale(e.h),top:H.scale(e.top),left:H.scale(e.left),transform:H.rotate(e.rotate)}),i.css({position:"absolute",width:H.scale(e.w),height:H.scale(e.h)}),e.svgXml){t=s["default"](e.svgXml),t.css({position:"absolute",width:H.scale(e.w),height:H.scale(e.h),opacity:e.opacity});var r=s["default"]("<div></div>");r.append(t),r.find("svg").get(0).setAttribute("preserveAspectRatio","none meet"),t.find("[fill]").attr({fill:e.shapecolor})}else t=s["default"]("<div></div>"),t.css({position:"absolute",width:H.scale(e.w),height:H.scale(e.h),backgroundColor:e.shapecolor,opacity:e.opacity});return i.append(t),n.append(i),n}},{key:"renderButton",value:function(e){var t=s["default"]("<div></div>"),n=s["default"]("<div></div>"),i=s["default"]("<a></a>");t.css({position:"absolute",width:H.scale(e.w),height:H.scale(e.height),top:H.scale(e.top),left:H.scale(e.left),transform:H.rotate(e.rotate)}),n.css({position:"absolute",width:"100%",color:e.ftcolor||"#585858",fontSize:H.scale(e.ftsize),lineHeight:e.lineheight,opacity:e.opacity,borderStyle:e["border-style"],borderColor:e["border-color"],borderWidth:H.scale(e["border-width"]),background:e.bgcolor,textAlign:e.textalign,borderRadius:H.scale(e.borderradius*e.height/200),boxShadow:H.shadow(e.boxshadow),wordWrap:"break-word"}),n.append(e.con);var r=n.get(0).firstChild;return r&&r.hasChildNodes()&&(parseInt(r.style.fontSize)&&(r.style.fontSize=H.scale(parseInt(r.style.fontSize))),r=r.firstChild),e.url?(i.attr({href:H.url(e.url)}),i.css({position:"absolute",width:"100%",height:"100%"}),i.append(n),t.append(i)):t.append(n),t}},{key:"renderSpecialButton",value:function(e){var t=new O["default"](e,H.scale);return t.getElement()}},{key:"renderFormList",value:function(e){var t=s["default"]("<div></div>"),n=s["default"]("<div></div>"),i=[];return t.css({position:"absolute",width:H.scale(e.w),height:H.scale(e.h),top:H.scale(e.top),left:H.scale(e.left)}),e.qlist.map(function(n){var r=s["default"]("<input>");r.css({border:"2px solid "+e.formcolor,height:H.scale(80),marginBottom:H.scale(20),fontSize:H.scale(30)}),r.attr({type:"text","class":"form-input",placeholder:n.name,name:n.id}),i.push(r),t.append(r)}),n.css({height:H.scale(80),fontSize:H.scale(30),marginTop:H.scale(20),lineHeight:H.scale(80),background:e.formcolor}),n.attr({"class":"form-submit"}),n.append(e.btn_name||"提交"),t.append(n),n.on("click",function(){var t={};t.formdata={};var n=s["default"]("<div></div>"),r=s["default"]('<img src="images/sending.gif"/>'),o=s["default"]("<p>提交中...</p>");n.css({position:"fixed",width:"100%",height:"100%",top:"0px",left:"0px",zIndex:"999",background:"rgba(42,50,65,1)"}),r.css({position:"absolute",width:H.scale("140"),top:"30%",left:"50%",marginLeft:H.scale("-70")}),o.css({position:"absolute",margin:"0",width:"80%",top:"50%",left:"10%",textAlign:"center",color:"white",fontSize:H.scale("40")});var a=v["default"].getProjectId();if(t.formid=a+"_"+e.formid,""===i[0].val().replace(/^\s\s*/,"").replace(/\s\s*$/,""))o.html("请输入"+e.qlist[0].name),n.append(o);else if(""===i[1].val().replace(/^\s\s*/,"").replace(/\s\s*$/,"")&&i.length>=2)o.html("请输入"+e.qlist[1].name),n.append(o);else{for(var l in i)t.formdata[i[l].attr("name")]=i[l].val();n.append(r),n.append(o),s["default"].ajax({type:"post",url:v["default"].postFormUrl+v["default"].getProjectId()+"_"+e.formid,dataType:"html",cache:!1,data:t,success:function(){for(var t in i)i[t].val("");setTimeout(function(){o.html("提交成功!<br>"+e.sucmsg),r.attr("src","images/sendsucess.png"),n.css({background:"rgba(0,0,0,0.8)"}),n.show()},200)},error:function(){o.html("网络不给力哦～请稍后再试!"),n.append(o),setTimeout(function(){n.remove()},2e3)}})}s["default"](".maka-canvas").append(n),H.hideArrow(),n.on("mousedown touchstart",function(e){e.preventDefault(),n.unbind(),H.showArrow(),n.remove()})}),t}},{key:"renderComparison",value:function(e){var t,n=s["default"]("<div></div>"),i=s["default"]("<div></div>"),r=s["default"]("<div></div>");n.css({position:"absolute",width:H.scale(e.width),height:H.scale(e.height),top:H.scale(e.top)}),i.css({position:"absolute",width:H.scale(e.width),height:H.scale(e.height),overflow:"hidden"}),r.css({position:"absolute",width:H.scale(e.width/2),height:H.scale(e.height),overflow:"hidden"}),e.picdata.map(function(t,n){switch(n){case 0:var o=t.inw?t.inw:e.width,a=t.inleft?t.inleft:0,l=t.intop?t.intop:0;s["default"](t.dom).css({position:"absolute",width:H.scale(o),left:H.scale(a),top:H.scale(l),userDrag:"none",userSelect:"none"}),i.append(t.dom);break;case 1:var c=t.inw?t.inw:e.width,u=t.inleft?t.inleft:0,d=t.intop?t.intop:0;s["default"](t.dom).css({position:"absolute",width:H.scale(c),left:H.scale(u),top:H.scale(d),userDrag:"none",userSelect:"none"}),r.append(t.dom)}}),n.append(i),n.append(r);var o=new g["default"](n.get(0));return o.on("panstart",function(){t=parseInt(r.get(0).style.width)}),o.on("pan",function(n){t+n.deltaX<e.width*H.scaleRatio&&t+n.deltaX>0&&r.css({width:H.addpx(t+n.deltaX)})}),n}},{key:"renderFingerPrint",value:function(e,t){t.swipeUpLock=!0;var n=s["default"]("<div></div>"),i=s["default"]("<div></div>");n.css({position:"absolute",width:H.scale(e.w),height:H.scale(e.h),top:H.scale(e.top),left:H.scale(e.left)}),i.css({position:"absolute",width:H.scale(e.w),height:H.scale(e.h),top:0,left:0,userSelect:"none","-webkit-touch-callout":"none",background:"rgba(0,0,0,0.0)"}),s["default"](e.dom).css({position:"absolute",width:H.scale(e.inw),top:H.scale(e.intop),left:H.scale(e.inleft),userSelect:"none","-webkit-touch-callout":"none"}),n.append(e.dom),n.append(i);var r,o=!1,a=0,l=i,c=function(){a=0;var e=s["default"]("<div>解锁成功</div>");n.append(e),e.css({background:"rgba(0,0,0,0.6)",color:"white",position:"absolute",top:"-50%",left:"50%",width:"120px",height:"30px",margin:"-15px 0 0 -60px","text-align":"center","line-height":"30px","border-radius":"100px","font-size":"20px"}),setTimeout(function(){e.fadeOut(1e3),o?H.showNextPage():(o=!0,t.swipeUpLock=!1,H.showNextPage())},1500)};if("VUT6I6NZ6H2BPG1G3I54"===e.picid)l.on("touchstart mousedown",function(){r=window.setInterval(function(){a+=10,s["default"](e.dom).css({transform:"scale("+(1+a/1e3)+")"}),a>1500&&(clearInterval(r),c())},10)}),l.on("touchend mouseup",function(){1500>a&&(a=0,s["default"](e.dom).css({transform:"scale(1)"}),window.clearInterval(r))});else{var u=s["default"]("<div></div>");u.css({position:"absolute",width:H.scale(e.w),height:H.scale(e.h),bottom:"-5px",left:0,"animation-duration":"1.5s","border-top":"solid 5px rgba(255,255,255,0.3)"}),l.on("touchstart mousedown",function(){r||(i.append(u),u.removeClass("moveUp").hide().addClass("moveUp").show(),r=window.setInterval(function(){a+=10,a>1500&&(clearInterval(r),c(),u.remove())},10))}),l.on("touchend mouseup",function(){1500>a&&(a=0,u.remove(),window.clearInterval(r),r=null)})}return n}},{key:"renderPhoneCall",value:function(e,t){t.swipeUpLock=!0;var n=function(n){if(v["default"].isAppNormalMode()){var i=t.index,r=e;n!==i||r.hasClick?H.audioEffect.pause():(H.audioEffect.src="music/phonecall_music.mp3",H.audioEffect.loop=!0,H.audioEffect.play())}};v["default"].isAppNormalMode()&&H.pageChangeHandlers.push(n);var i=s["default"]("<div></div>"),r=s["default"]("<div></div>"),o=s["default"]("<div></div>"),a=s["default"]("<div></div>");if(i.css({position:"absolute",width:"100%",height:"100%",textAlign:"center",color:"#ffffff"}),s["default"](e.bgDom).css({position:"absolute",width:"100%",left:"0px",top:"0px"}),s["default"](e.phoneInfoDom).css({position:"absolute",right:H.scale("90"),top:H.scale("560"),width:H.scale("53"),height:H.scale("80")}),s["default"](e.phoneRemindDom).css({position:"absolute",left:H.scale("90"),top:H.scale("560"),width:H.scale("82"),height:H.scale("82")}),r.css({top:H.scale("650"),position:"relative"}),s["default"](e.phonecallDom).css({width:H.scale("126")}),o.css({position:"relative",top:H.scale("60"),fontSize:H.scale("40")}),a.css({position:"relative",top:H.scale("100"),fontSize:H.scale("30")}),o.append(e.text1),a.append(e.text2),i.append(e.bgDom),i.append(o),i.append(a),i.append(e.phoneInfoDom),i.append(e.phoneRemindDom),r.append(e.phonecallDom),i.append(r),v["default"].isAppNormalMode()){var l=new g["default"](e.phonecallDom[0]);l.on("tap",function(){w["default"].log("click phone call"),e.hasClick=!0,t.swipeUpLock=!1,H.showNextPage()})}return i}},{key:"renderGlassBreak",value:function(e,t){t.swipeUpLock=!0;var n=function(n){var i=s["default"]("<div>用力砸我</div>"),o=e,a=t.index;i.css({position:"absolute",color:"white",textAlign:"center",fontSize:H.scale("40"),zIndex:"999",width:"100%",height:"100%",paddingTop:"50%"}),n!==a||o.hasBreak||(r.append(i),setTimeout(function(){i.remove()},2e3))};H.pageChangeHandlers.push(n);var i,r=s["default"]("<div></div>");if(r.css({position:"absolute",width:"100%",height:"100%"}),e.imgDom.map(function(e,t){switch(i=e,t){case 0:s["default"](i).css({top:"0px",left:"0px"});break;case 1:s["default"](i).css({top:H.scale("30"),left:H.scale("-200")});break;case 2:s["default"](i).css({top:H.scale("400"),left:H.scale("-180")});break;case 3:s["default"](i).css({top:H.scale("400"),left:"0px"});break;case 4:s["default"](i).css({top:H.scale("140"),left:H.scale("260")})}s["default"](i).css({position:"absolute",width:H.scale("640"),opacity:0}),s["default"](i).attr({"class":"glass"+t}),r.append(i)}),v["default"].isAppNormalMode()){var o=0,a=new g["default"](r.get(0));a.on("tap",function(){5>o&&(H.audioEffect.src=v["default"].glassBreakVoice,H.audioEffect.play()),s["default"](r).children(".glass"+o).css({opacity:1}),++o>4&&(e.hasBreak=!0,window.setTimeout(function(){t.swipeUpLock=!1,H.showNextPage()},350))})}return r}},{key:"renderSlide",value:function(e){var t,n,i,r=s["default"]('<div class="swiper-container" style="z-index: 0"></div>'),o=s["default"]('<div class="swiper-wrapper"></div>'),a=s["default"]('<div class="swiper-pagination"></div>');return r.css({position:"absolute",width:H.scale(e.width),height:H.scale(e.height),left:H.scale(e.left),
top:H.scale(e.top),overflow:"hidden"}),r.append(o),r.append(a),H.slide=new window.Swiper(r,{pagination:a,paginationClickable:!0,spaceBetween:60,speed:600,observer:!0,observeParents:!0}),e.data.map(function(r){t=s["default"]('<div class="swiper-slide"></div>');var o=s["default"]("<div></div>");s["default"](r.imgDom).css({position:"absolute",width:H.scale(r.inw),height:H.scale(r.inh),left:H.scale(r.inleft),top:H.scale(r.intop)}),t.css({width:"100%",height:"100%",overflow:"hidden",background:"#ffffff",lineHeight:"1.5"}),o.css({position:"absolute",overflow:"hidden",width:H.scale(e.picWidth),height:H.scale(e.picHeight)}),o.append(r.imgDom),t.append(o),r.titleText&&(n=s["default"]("<div></div>"),n.css({position:"absolute",width:H.scale(r.titleText.width),left:H.scale(r.titleText.left),top:H.scale(r.titleText.top),fontSize:H.scale(r.titleText.fontsize),lineHeight:r.titleText.lineheight,color:r.titleText.fontcolor}),n.append(r.titleText.con),t.append(n)),r.contentText&&(i=s["default"]("<div></div>"),r.contentText.opacity?i.css({position:"absolute",width:"100%",top:H.scale(r.contentText.top),fontSize:H.scale(r.contentText.fontsize),lineHeight:r.contentText.lineheight,color:r.contentText.fontcolor,textAlign:"center",background:"black",opacity:r.contentText.opacity}):i.css({position:"absolute",width:H.scale(r.contentText.width),left:H.scale(r.contentText.left),top:H.scale(r.contentText.top),fontSize:H.scale(r.contentText.fontsize),lineHeight:r.contentText.lineheight,color:r.contentText.fontcolor}),i.append(r.contentText.con),t.append(i)),H.slide.appendSlide(t)}),e.slider=H.slide,r}},{key:"renderChart",value:function(e){var t=void 0;return t="pie"!==e.content.type?new C["default"](e,H.scale):new A["default"](e,H.scale),e.chartElement=t,e.chartElement.render(),t.getElement()}},{key:"renderEraser",value:function(e,t){var n=new L["default"](e,H,t);return n.getDom()}},{key:"renderPage",value:function(e){if(!e.rendered&&!e.rendering){e.rendering=!0,z["default"].send("pageLoadEnd",e.index),w["default"].log("Start rendering page ",e.index);var t=s["default"]('<div class="maka-page maka-page-'+e.index+'"></div>');t.css({"z-index":this.pageZLevel.top-e.index});var n=s["default"]("<div></div>"),i=s["default"]('<div class="maka-eleCanvas"></div>');if(i.css(H.contentsize),t.css({"z-index":999-e.index}),n.css({position:"absolute",width:640*H.bgScaleRatio+"px",height:1008*H.bgScaleRatio+"px",top:"50%",left:"50%","margin-left":-320*H.bgScaleRatio+"px","margin-top":-504*H.bgScaleRatio+"px",overflow:"hidden",backgroundColor:e.bgcolor}),e.bgpic&&w["default"].trim(e.bgpic)&&"0"!==w["default"].trim(e.bgpic)){if(e.bgpicCropData&&!v["default"].isGif(e.bgpic&&v["default"].isAppNormalMode()))s["default"](e.bgDom).css({position:"absolute",width:640*H.bgScaleRatio+"px",height:1008*H.bgScaleRatio+"px",top:0,left:0,userDrag:"none",userSelect:"none",opacity:e.opacity});else{var r=H.bgScaleRatio*e.bgpicwidth*s["default"](e.bgDom).context.naturalHeight/s["default"](e.bgDom).context.naturalWidth,o=1;r<document.body.clientHeight&&(o=1+(document.body.clientHeight-r)/r),s["default"](e.bgDom).css({position:"absolute",width:Math.ceil(H.bgScaleRatio*e.bgpicwidth*o)+"px",top:H.bgScaleRatio*e.bgpictop+"px",left:H.bgScaleRatio*e.bgpicleft+"px",userDrag:"none",userSelect:"none",opacity:e.opacity})}n.append(e.bgDom)}t.append(n),t.append(i),s["default"](".maka-pages").append(t),e.MWChains={},e.content.map(function(t){var n=s["default"]("<div></div>");switch(t.type){case"pic":n=H.renderImg(t);break;case"text":n=H.renderText(t);break;case"ptext":n=H.renderText(t);break;case"pshape":n=H.renderShape(t);break;case"btn":n=H.renderButton(t);break;case"pButton":n=H.renderSpecialButton(t);break;case"eleform":n=H.renderFormList(t);break;case"comparison":n=H.renderComparison(t);break;case"phone_call":n=H.renderPhoneCall(t,e);break;case"fingerPrint":n=H.renderFingerPrint(t,e);break;case"glass_break":n=H.renderGlassBreak(t,e);break;case"slide":n=H.renderSlide(t);break;case"charts":n=H.renderChart(t);break;case"pEraser":n=H.renderEraser(t,e);break;default:H.setCommonCSS(t.dom,t)}t.dom=n,i.append(n)});var a=d["default"].getPage(e.index);H.hidePageElement(a),w["default"].log("Finish rendering page ",e.index),e.rendering=!1,e.rendered=!0}}}]),e}(),_=new W;window.onresize=_.ensureCanvas,t["default"]=_,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(6),s=i(a),l=function(){function e(){r(this,e)}return o(e,[{key:"getLeaveEffect",value:function(e,t){var n=null,i=window.innerHeight,r=window.innerWidth;return"cubedown"===e?n=s["default"](t,{transformOrigin:[0,0,i/2],fromRotation:[0,0,0],fromPosition:[0,0,0],fromScale:[1,1],fromOpacity:1,rotation:[Math.PI/2,0,0],manual:!0,easing:"linear",duration:500}):"toup"===e?n=s["default"](t,{transformOrigin:[0,0,0],fromRotation:[0,0,0],fromPosition:[0,0,0],fromScale:[1,1],fromOpacity:1,position:[0,-i,0],manual:!0,easing:"linear",duration:500}):"moveup"===e?n=s["default"](t,{transformOrigin:[0,0,0],fromRotation:[0,0,0],fromPosition:[0,0,0],fromScale:[1,1],fromOpacity:1,position:[0,-i,0],manual:!0,easing:"linear",duration:500}):"flipup"===e?n=s["default"](t,{transformOrigin:[0,0,0],fromRotation:[0,0,0],fromPosition:[0,0,0],fromScale:[1,1],fromOpacity:1,rotation:[Math.PI/2,0,0],manual:!0,easing:"linear",duration:500}):"news"===e?n=s["default"](t,{transformOrigin:[0,0,0],fromScale:[1,1],fromRotation:[0,0,0],fromPosition:[0,0,0],fromOpacity:1,rotation:[0,0,5*Math.PI],scale:[.6,.6],opacity:0,manual:!0,easing:"ease",duration:700}):"scaleup"===e?n=s["default"](t,{transformOrigin:[0,0,0],fromOpacity:1,fromScale:[1,1],fromRotation:[0,0,0],fromPosition:[0,0,0],rotation:[0,0,0],scale:[.6,.6],opacity:0,manual:!0,easing:"ease",duration:500}):"carouup"===e?n=s["default"](t,{transformOrigin:[0,0,0],fromOpacity:1,fromScale:[1,1],fromRotation:[0,0,0],fromPosition:[0,0,0],position:[0,-i,0],scale:[.6,.6],manual:!0,easing:"ease",duration:500}):"fall"===e?n=s["default"](t,{transformOrigin:[-r/2,-i/2,0],fromOpacity:1,fromScale:[1,1],fromRotation:[0,0,0],fromPosition:[0,0,0],position:[0,i,0],rotation:[0,0,-.3],manual:!0,easing:"ease",duration:800}):""!==e&&(n=s["default"](t,{position:[0,-i,0],fromPosition:[0,0,0],scale:[1,1],rotation:[0,0,0],manual:!0,easing:"linear",duration:500})),n}},{key:"getEntryEffect",value:function(e,t){var n=null,i=window.innerHeight;return console.log("ety"+e),"cubedown"===e?n=s["default"](t,{fromRotation:[-Math.PI/2,0,0],rotation:[0,0,0],transformOrigin:[0,0,i/2],manual:!0,easing:"linear",duration:500}):"toup"===e?n=s["default"](t,{transformOrigin:[0,0,0],fromRotation:[0,0,0],fromPosition:[0,0,0],fromScale:[1,1],fromOpacity:1,position:[0,0,0],manual:!0,easing:"linear",duration:500}):"moveup"===e?n=s["default"](t,{transformOrigin:[0,0,0],fromScale:[1,1],fromRotation:[0,0,0],fromPosition:[0,i,0],position:[0,0,0],manual:!0,easing:"linear",duration:500}):"flipup"===e?n=s["default"](t,{transformOrigin:[0,0,0],fromScale:[1,1],fromRotation:[-Math.PI/2,0,0],fromPosition:[0,0,0],rotation:[0,0,0],manual:!0,easing:"easeIn",duration:500,delay:400}):"news"===e?n=s["default"](t,{transformOrigin:[0,0,0],fromOpacity:0,fromScale:[.6,.6],fromRotation:[0,0,5*Math.PI],fromPosition:[0,0,0],rotation:[0,0,0],scale:[1,1],opacity:1,manual:!0,easing:"ease",duration:700,delay:1e3}):"scaleup"===e?n=s["default"](t,{transformOrigin:[0,0,0],fromOpacity:0,fromScale:[1.2,1.2],fromRotation:[0,0,0],fromPosition:[0,0,0],rotation:[0,0,0],scale:[1,1],opacity:1,manual:!0,easing:"ease",duration:500}):"carouup"===e?n=s["default"](t,{transformOrigin:[0,0,0],fromOpacity:1,fromScale:[.9,.9],fromRotation:[0,0,0],fromPosition:[0,0,0],position:[0,0,0],scale:[1,1],manual:!0,easing:"ease",duration:500}):""!==e&&(n=s["default"](t,{transformOrigin:[0,0,0],fromScale:[1,1],fromRotation:[0,0,0],fromPosition:[0,0,0],fromOpacity:1,scale:[1,1],manual:!0,easing:"easeIn",duration:500})),n}},{key:"getOutEffect",value:function(e,t){var n=null,i=window.innerHeight;return"cubedown"===e?n=s["default"](t,{fromPosition:[0,0,0],scale:[1,1],fromRotation:[0,0,0],rotation:[-Math.PI/2,0,0],transformOrigin:[0,0,i/2],manual:!0,easing:"linear",duration:500}):"toup"===e?n=s["default"](t,{position:[0,0,0],fromPosition:[0,0,0],transformOrigin:[0,0,0],fromScale:[1,1],rotation:[0,0,0],manual:!0,easing:"linear",duration:500}):"flipup"===e?n=s["default"](t,{transformOrigin:[0,0,0],fromScale:[1,1],fromRotation:[0,0,0],fromPosition:[0,0,0],rotation:[Math.PI/2,0,0],manual:!0,easing:"easeIn",duration:500}):"moveup"===e?n=s["default"](t,{position:[0,i,0],fromPosition:[0,0,0],transformOrigin:[0,0,0],fromScale:[1,1],rotation:[0,0,0],manual:!0,easing:"linear",duration:500}):"news"===e?n=s["default"](t,{transformOrigin:[0,0,0],fromOpacity:1,fromScale:[1,1],fromRotation:[0,0,5*Math.PI],fromPosition:[0,0,0],rotation:[0,0,0],scale:[.6,.6],opacity:0,manual:!0,easing:"ease",duration:700}):"scaleup"===e?n=s["default"](t,{transformOrigin:[0,0,0],fromOpacity:1,fromScale:[1,1],fromRotation:[0,0,0],fromPosition:[0,0,0],rotation:[0,0,0],scale:[1.2,1.2],opacity:0,manual:!0,easing:"ease",duration:500}):""!==e&&(n=s["default"](t,{fromPosition:[0,0,0],fromRotation:[0,0,0],position:[0,0,0],scale:[1,1],rotation:[0,0,0],manual:!0,easing:"linear",duration:500})),n}},{key:"getBackEffect",value:function(e,t){var n=null,i=window.innerHeight;return"cubedown"===e?n=s["default"](t,{fromRotation:[Math.PI/2,0,0],fromPosition:[0,0,0],rotation:[0,0,0],transformOrigin:[0,0,i/2],manual:!0,easing:"linear",duration:500}):"toup"===e?n=s["default"](t,{position:[0,0,0],fromPosition:[0,-i,0],transformOrigin:[0,0,0],fromScale:[1,1],rotation:[0,0,0],manual:!0,easing:"linear",duration:500}):"flipup"===e?n=s["default"](t,{transformOrigin:[0,0,0],fromScale:[1,1],fromRotation:[-Math.PI/2,0,0],fromPosition:[0,0,0],rotation:[0,0,0],manual:!0,easing:"easeIn",duration:500,delay:400}):"moveup"===e?n=s["default"](t,{transformOrigin:[0,0,0],fromPosition:[0,-i,0],fromScale:[1,1],fromRotation:[0,0,0],position:[0,0,0],rotation:[0,0,0],manual:!0,easing:"linear",duration:500}):"news"===e?n=s["default"](t,{transformOrigin:[0,0,0],fromOpacity:0,fromScale:[.6,.6],fromRotation:[0,0,5*Math.PI],fromPosition:[0,0,0],rotation:[0,0,0],scale:[1,1],opacity:1,manual:!0,easing:"ease",duration:700,delay:1e3}):"scaleup"===e?n=s["default"](t,{transformOrigin:[0,0,0],fromOpacity:0,fromScale:[.6,.6],fromRotation:[0,0,0],fromPosition:[0,0,0],rotation:[0,0,0],scale:[1,1],opacity:1,manual:!0,easing:"ease",duration:500}):"carouup"===e?n=s["default"](t,{transformOrigin:[0,0,0],fromOpacity:1,fromScale:[.6,.6],fromRotation:[0,0,0],fromPosition:[0,-i,0],position:[0,0,0],scale:[1,1],manual:!0,easing:"linear",duration:500}):""!==e&&(n=s["default"](t,{transformOrigin:[0,0,0],fromPosition:[0,-i,0],fromRotation:[0,0,0],fromOpacity:1,fromScale:[1,1],position:[0,0,0],rotation:[0,0,0],scale:[1,1],manual:!0,easing:"linear",duration:800})),console.log(n),n}},{key:"debouncedCallback",value:function(e,t){var n=t;return function(){n--,0===n&&e()}}}]),e}();t["default"]=new l,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(1),s=i(a);n(24);var l=function(){function e(t,n,i){r(this,e),this.eleDom=s["default"]('<div class="eraser"></div>');var o=this.eleDom,a=n;t.forceNoEffect=!0;var l=!1;i.swipeDownLock=!0,i.swipeUpLock=!0,t.showCallback=function(){if(!l){var e=s["default"]("<div>擦一擦</div>");o.append(e),e.css({background:"rgba(0,0,0,0.6)",color:"white",position:"absolute",top:"50%",left:"50%",width:"120px",height:"30px",margin:"-15px 0 0 -60px","text-align":"center","line-height":"30px","border-radius":"100px","font-size":"20px"}),setTimeout(function(){e.fadeOut(1e3)},1500)}};var c=void 0,u=void 0,d=void 0,p=void 0,h=void 0,f=void 0,g=void 0;if(t.w>=640&&t.h>=1e3){c=window.innerWidth,u=window.innerHeight,d=-parseInt(a.contentsize.top),p=-parseInt(a.contentsize.left);var m=window.innerWidth/640>window.innerHeight/1008?window.innerWidth/640:window.innerHeight/1008;g=parseInt(m*t.inw),f=parseInt(m*t.inleft),h=parseInt(m*t.intop)}else c=parseInt(a.scale(t.w)),u=parseInt(a.scale(t.h)),p=parseInt(a.scale(t.left)),g=parseInt(a.scale(t.inw)),f=parseInt(a.scale(t.inleft)),h=parseInt(a.scale(t.intop));this.eleDom.css({position:"absolute",width:c,height:u,left:p,top:d,"z-index":999});var v=parseInt(t.imgDom.context.naturalWidth),y={};y.w=10*parseInt(v*c/g/10),y.h=10*parseInt(y.w*u/c/10),y.x=parseInt(f*y.w/c),y.y=parseInt(h*y.w/c),this.eleDom.append(t.imgDom),s["default"](t.imgDom).eraser({canvasWidth:c,canvasHeight:u,cropConfig:y,completeRatio:.5,completeFunction:function(){l=!0,o.fadeOut(800,function(){setTimeout(function(){i.swipeDownLock=!1,i.swipeUpLock=!1,o.remove(),a.showArrow()},500)})}}),console.log("erasor")}return o(e,[{key:"getDom",value:function(){return this.eleDom}}]),e}();t["default"]=l,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;e=c,t=o,n=a,i=!0,s=c=void 0}},l=n(11),c=i(l),u=function(e){function t(e,n){r(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n)}return o(t,e),a(t,[{key:"_getShowSwipe",value:function(e){return e.content.data.length>1?!0:!1}},{key:"_normalizeData",value:function(e){var t=e[0].data,n=[];for(var i in t)n.push({name:t[i][0],y:t[i][1]});return{data:n}}},{key:"_prepareChartOption",value:function(e){var t=this,n=this.obj.content,i=this.obj.content.options,r="13px",o=i.lineColor||"gray",a=void 0===e?this._normalizeData(n.data):this._normalizeData([n.data[e]]),s=i.colors,l={chart:{type:n.type,backgroundColor:i.backgroundColor,animation:{duration:300}},title:{text:null},colors:s,legend:{enabled:!0,useHTML:!0,labelFormatter:function(){return'<div style="font-size: '+r+"; color: "+o+'">'+this.name+"</div>"}},credits:{enabled:!1},tooltip:{pointFormat:"<b>{point.y}%</b>",style:{fontSize:r}},plotOptions:{pie:{allowPointSelect:!0,dataLabels:{formatter:function(){return this.percentage>5?this.percentage.toFixed(1)+"%":""},distance:-parseInt(t.scale(t.width).replace("px",""))/6,color:"white",style:{fontSize:"18px"}},showInLegend:!0}},series:[a]};return l}}]),t}(c["default"]);t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(1),s=i(a),l=n(2),c=i(l),u=n(7),d=i(u),p=n(3),h=i(p),f=n(32),g=i(f),m=n(6),v=i(m),y=function(){function e(){r(this,e),this.element=s["default"](".maka-preload"),this.zoomElement=this.element.find(".zoom"),this.loadElement=this.element.find(".load"),this.pie1Element=this.loadElement.find(".pie1"),this.pie2Element=this.loadElement.find(".pie2"),this.thumbElement=this.loadElement.find(".thumb"),this.percentageElement=this.element.find(".percentage"),this.markElement=this.element.find(".mark"),this.percent=0,this.degree=0,this.steps=0,this.curStep=0,this.enabled=!0,this.callback=function(){},this.finishDelay=500,this.showPreload=!1}return o(e,[{key:"showPreloadArea",value:function(){this.zoomElement.hide(),this.loadElement.fadeIn(),this.percentageElement.fadeIn(),this.showPreload=!0}},{key:"increaseProgress",value:function(){if(c["default"].log("increaseProgress, step progress: "+(this.curStep+1)+"/"+this.steps),this.enabled){if(0===this.percent)var e=setInterval(function(){if(this.showPreload){var t=parseInt(360*this.percent),n=this;360===t?this.degree+=6:t-this.degree>180?this.degree+=1:t-this.degree>40?this.degree+=.5:t-this.degree<10&&330>t?this.degree+=.02:t>this.degree?this.degree+=.4:t<=this.degree&&this.degree<359&&(this.degree+=.01),this.degree>360&&(this.degree=360,clearInterval(e),d["default"].send("homeEnd"),h["default"].isTemplate()&&!h["default"].isRemoveDesignerAd(),setTimeout(function(){n.callback()},this.finishDelay)),this.loading(this.degree)}}.bind(this),1);this.curStep++,this.percent=this.curStep/this.steps}}},{key:"loading",value:function(e){180>=e&&e>=0?this.pie1Element.css({transform:"rotate("+e+"deg)"}):360>=e&&e>180&&(this.pie1Element.css({transform:"rotate(180deg)"}),this.pie2Element.css({"border-radius":"155px",background:"rgba(175, 228, 221, 1)",transform:"rotate("+e+"deg)"})),this.percentageElement.find(".num").html(parseInt(e/3.6))}},{key:"increaseSteps",value:function(e){return this.steps+=e,this.steps}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1}},{key:"onReady",value:function(e){this.callback=e}},{key:"showDesingerAd",value:function(){var e=this;this.element.html("");var t=s["default"]("<img/>");t.attr({src:g["default"]}),this.element.css({"text-align":"center"}),window.innerHeight/646>window.innerWidth/410?t.css({width:"100%"}):t.css({height:"100%"}),t.hide(),this.element.append(t),t.fadeIn(),t.on("touchstart mousedown",function(t){t.stopPropagation(),t.preventDefault(),setTimeout(function(){e.callback(),s["default"](".maka-preload").addClass("pt-page-moveToTop").fadeOut(3e3)},100)})}},{key:"hide",value:function(){v["default"](s["default"](".maka-preload"),{fromOpacity:1,opacity:0,easing:"ease",duration:300,complete:function(){s["default"](".maka-preload").hide()}})}}]),e}();t["default"]=y,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(1),s=i(a),l=n(3),c=i(l),u=n(2),d=i(u),p=n(10),h=i(p),f=n(5),g=i(f),m=function(){function e(t,n){r(this,e),this.obj=t,this.scale=n,this._prepareElements()}return o(e,[{key:"_prepareElements",value:function(){var e=this,t=s["default"]("<div></div>"),n=s["default"]("<a></a>");if(t.css({position:"absolute",width:this.scale(this.obj.width),height:this.scale(this.obj.tl),top:this.scale(this.obj.top),left:this.scale(this.obj.left),transform:"rotate("+this.obj.rotate+")deg",opacity:this.obj.opacity}),"link"===this.obj.model_type||"phone"===this.obj.model_type||"interaction"===this.obj.model_type){var i=s["default"]("<div></div>"),r=s["default"]("<div></div>");n.css({position:"absolute",width:"100%",height:"100%",animationDuration:this.obj.speed+"ms"}),i.css({position:"absolute",width:this.scale(this.obj.picwidth),height:this.scale(this.obj.picheight)});var o=s["default"](this.obj.buttonSvg);switch(o.css({width:this.scale(this.obj.picwidth),height:this.scale(this.obj.picheight)}),o.find("[fill]").attr({fill:this.obj.ftcolor}),i.append(o),r.css({position:"absolute",left:this.scale(this.obj.picwidth),fontSize:this.scale(this.obj.ftsize),color:this.obj.ftcolor,lineHeight:this.scale(this.obj.lineheight),marginLeft:"5px"}),this.obj.model_type){case"link":n.attr({href:this._url(this.obj.url)}),r.text(this.obj.con);break;case"phone":r.text(this.obj.con),this.obj.phoneNumber&&n.attr("href","tel:"+this.obj.phoneNumber);break;case"interaction":var a=this,l=function(){a._loadSvg(c["default"].getPButtonUrl(h["default"].pButtonSvg[a.obj.after_pic_id])).then(function(e){a.obj.buttonAfterSvg=s["default"](e),a.obj.buttonAfterSvg.find("[fill]").attr({fill:a.obj.ftcolor}),o.children().replaceWith(a.obj.buttonAfterSvg)})};"clicked"===d["default"].getCookie(this._getButtonId())?l():o.click(function(){e.posting||(e.posting=!0,l(),e._setButtonClick().then(function(t){r.text(t),e.posting=!1})["catch"](function(e){d["default"].error(e)}))}.bind(this)),this._getButtonClick().then(function(t){t[e._getButtonId()]?(e.buttonClickCount=t[e._getButtonId()],r.text(e.buttonClickCount)):(e.buttonClickCount=0,r.text(e.buttonClickCount))}.bind(this))["catch"](function(e){d["default"].error(e)})}n.append(i),n.append(r)}else{var u,p,f,g,m,v,y=s["default"]('<span id="day"></span>'),w=s["default"]('<span id="hour"></span>'),b=s["default"]('<span id="minute"></span>'),x=s["default"]('<span id="second"></span>'),k=1e3,T=60*k,S=60*T,C=24*S;n.css({position:"absolute",width:"100%",animationDuration:this.obj.speed+"ms",textAlign:"center",color:this.obj.ftcolor,lineHeight:this.scale(this.obj.lineheight),fontSize:this.scale(this.obj.ftsize)});var P=this.obj.deadline_date+" "+this.obj.deadline_time;P=P.replace(/-/g,"/");var A=new Date(P),E=A.getTime();if(m=new Date,v=m.getTime(),E-v>0){u=Math.floor((E-v)/C),p=Math.floor((E-v)/S)%24,f=Math.floor((E-v)/T)%60,g=Math.floor((E-v)/k)%60,y.append(10>u?"0"+u:u),w.append(10>p?"0"+p:p),b.append(10>f?"0"+f:f),x.append(10>g?"0"+g:g),n.append(y),n.append(s["default"]('<span class="timeSpace">:</span>')),n.append(w),n.append(s["default"]('<span class="timeSpace">:</span>')),n.append(b),n.append(s["default"]('<span class="timeSpace">:</span>')),n.append(x);var D=setInterval(function(){v+=1e3,E-v?(u=Math.floor((E-v)/C),p=Math.floor((E-v)/S)%24,f=Math.floor((E-v)/T)%60,g=Math.floor((E-v)/k)%60,window.document.getElementById("day").innerHTML=10>u?"0"+u:u,window.document.getElementById("hour").innerHTML=10>p?"0"+p:p,window.document.getElementById("minute").innerHTML=10>f?"0"+f:f,window.document.getElementById("second").innerHTML=10>g?"0"+g:g):clearInterval(D)},1e3)}else n.append("00"),n.append(s["default"]('<span class="time-space">:</span>')),n.append("00"),n.append(s["default"]('<span class="time-space">:</span>')),n.append("00"),n.append(s["default"]('<span class="time-space">:</span>')),n.append("00")}t.append(n),this.eleDom=t}},{key:"_url",value:function(e){return-1===e.indexOf("http")?"http://"+e:e}},{key:"_getButtonId",value:function(){return c["default"].getProjectId()+"_btn_"+this.obj.button_id}},{key:"_setButtonClick",value:function(){var e=this,t=new g["default"](function(t,n){s["default"].ajax({type:"post",url:c["default"].eventClickUrl,dataType:"json",cache:!1,data:{pid:c["default"].getProjectId(),btnid:e._getButtonId()},success:function(){d["default"].setCookie(e._getButtonId(),"clicked"),t(++e.buttonClickCount)},error:function(e){n(e)}})});return t}},{key:"_getButtonClick",value:function(){var e=new g["default"](function(e,t){s["default"].ajax({type:"get",url:c["default"].eventClickUrl+"/"+c["default"].getProjectId(),dataType:"json",cache:!1,success:function(t){e(t.data)},error:function(e){t(e)}})});return e}},{key:"_loadSvg",value:function(e){return new g["default"](function(t){s["default"].get(e,function(e){t(e)},"text")})}},{key:"getElement",value:function(){return this.eleDom}}]),e}();t["default"]=m,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var r=n(1),o=i(r);!function(e){var t={init:function(n){return this.each(function(){var i=e(this),r=i.data("eraser");if(!r){var o=function(){var o=e("<canvas/>"),a=o.get(0),s=a.getContext("2d"),l=window.devicePixelRatio||1,c=s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1,u=l/c,d=n.canvasWidth,p=n.canvasHeight,h=d*u,f=p*u,g=i.offset(),m=(n&&n.size?n.size:40)*u,v=n&&n.completeRatio?n.completeRatio:.7,y=n&&n.completeFunction?n.completeFunction:null,w=n&&n.progressFunction?n.progressFunction:null,b="auto"==i.css("z-index")?1:i.css("z-index"),x=[],k=Math.floor(h/m),T=k*Math.floor(f/m),S=T,C=i[0];for(i.after(o),a.id=C.id,a.className=C.className,a.width=h,a.height=f,a.style.width=d.toString()+"px",a.style.height=p.toString()+"px",s.drawImage(C,-n.cropConfig.x,-n.cropConfig.y,n.cropConfig.w,n.cropConfig.h,0,0,h,f),i.remove(),s.globalCompositeOperation="destination-out",s.strokeStyle="rgba(255,0,0,255)",s.lineWidth=m,s.lineCap="round",o.bind("mousedown.eraser",t.mouseDown),o.bind("touchstart.eraser",t.touchStart),o.bind("touchmove.eraser",t.touchMove),o.bind("touchend.eraser",t.touchEnd);S--;)x.push(1);r={posX:g.left,posY:g.top,touchDown:!1,touchID:-999,touchX:0,touchY:0,ptouchX:0,ptouchY:0,canvas:o,ctx:s,w:h,h:f,scaleRatio:u,source:C,size:m,parts:x,colParts:k,numParts:T,ratio:0,complete:!1,completeRatio:v,completeFunction:y,progressFunction:w,zIndex:b},o.data("eraser",r),e(window).resize(function(){var e=o.offset();r.posX=e.left,r.posY=e.top})};this.complete&&this.naturalWidth>0?o():i.load(o)}})},touchStart:function(n){var i=e(this),r=i.data("eraser");if(!r.touchDown){var o=n.originalEvent.changedTouches[0],a=o.pageX-r.posX,s=o.pageY-r.posY;a*=r.scaleRatio,s*=r.scaleRatio,t.evaluatePoint(r,a,s),r.touchDown=!0,r.touchID=o.identifier,r.touchX=a,r.touchY=s,n.preventDefault()}},touchMove:function(n){var i=e(this),r=i.data("eraser");if(r.touchDown)for(var o=n.originalEvent.changedTouches,a=o.length;a--;)if(o[a].identifier==r.touchID){var s=o[a].pageX-r.posX,l=o[a].pageY-r.posY;s*=r.scaleRatio,l*=r.scaleRatio,t.evaluatePoint(r,s,l),r.ctx.beginPath(),r.ctx.moveTo(r.touchX,r.touchY),r.touchX=s,r.touchY=l,r.ctx.lineTo(r.touchX,r.touchY),r.ctx.stroke(),i.css({"z-index":i.css("z-index")==r.zIndex?parseInt(r.zIndex)+1:r.zIndex}),n.preventDefault();break}},touchEnd:function(t){var n=e(this),i=n.data("eraser");if(i.touchDown)for(var r=t.originalEvent.changedTouches,o=r.length;o--;)if(r[o].identifier==i.touchID){i.touchDown=!1,t.preventDefault();break}},evaluatePoint:function(e,t,n){var i=Math.floor(t/e.size)+Math.floor(n/e.size)*e.colParts;i>=0&&i<e.numParts&&(e.ratio+=e.parts[i],e.parts[i]=0,e.complete||(i=e.ratio/e.numParts,i>=e.completeRatio?(e.complete=!0,null!=e.completeFunction&&e.completeFunction()):null!=e.progressFunction&&e.progressFunction(i)))},mouseDown:function(n){var i=e(this),r=i.data("eraser"),o=n.pageX-r.posX,a=n.pageY-r.posY;o*=r.scaleRatio,a*=r.scaleRatio,t.evaluatePoint(r,o,a),r.touchDown=!0,r.touchX=o,r.touchY=a,r.ctx.beginPath(),r.ctx.moveTo(r.touchX-1,r.touchY),r.ctx.lineTo(r.touchX,r.touchY),r.ctx.stroke(),i.bind("mousemove.eraser",t.mouseMove),e(document).bind("mouseup.eraser",r,t.mouseUp),n.preventDefault()},mouseMove:function(n){var i=e(this),r=i.data("eraser"),o=n.pageX-r.posX,a=n.pageY-r.posY;o*=r.scaleRatio,a*=r.scaleRatio,t.evaluatePoint(r,o,a),r.ctx.beginPath(),r.ctx.moveTo(r.touchX,r.touchY),r.touchX=o,r.touchY=a,r.ctx.lineTo(r.touchX,r.touchY),r.ctx.stroke(),i.css({"z-index":i.css("z-index")==r.zIndex?parseInt(r.zIndex)+1:r.zIndex}),n.preventDefault()},mouseUp:function(t){var n=t.data,i=n.canvas;n.touchDown=!1,i.unbind("mousemove.eraser"),e(document).unbind("mouseup.eraser"),t.preventDefault()},clear:function(){var t=e(this),n=t.data("eraser");if(n){n.ctx.clearRect(0,0,n.w,n.h),console.log("clear",n);for(var i=n.numParts;i--;)n.parts[i]=0;n.ratio=n.numParts,n.complete=!0,null!=n.completeFunction&&n.completeFunction()}},size:function(t){var n=e(this),i=n.data("eraser");i&&t&&(i.size=t,i.ctx.lineWidth=t)},reset:function(){var t=e(this),n=t.data("eraser");if(n){n.ctx.globalCompositeOperation="source-over",n.ctx.drawImage(n.source,0,0,n.w,n.h),n.ctx.globalCompositeOperation="destination-out";for(var i=n.numParts;i--;)n.parts[i]=1;n.ratio=0,n.complete=!1,n.touchDown=!1}},progress:function(){var t=e(this),n=t.data("eraser");return n?n.ratio/n.numParts:0}};e.fn.eraser=function(n){return t[n]?t[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void e.error("Method "+n+" does not yet exist on jQuery.eraser"):t.init.apply(this,arguments)}}(o["default"])},function(e,t){},function(e,t,n){"use strict";var i=n(4);e.exports=i,i.prototype.done=function(e,t){var n=arguments.length?this.then.apply(this,arguments):this;n.then(null,function(e){setTimeout(function(){throw e},0)})}},function(e,t,n){"use strict";function i(e){var t=new r(r._99);return t._37=1,t._12=e,t}var r=n(4);e.exports=r;var o=i(!0),a=i(!1),s=i(null),l=i(void 0),c=i(0),u=i("");r.resolve=function(e){if(e instanceof r)return e;if(null===e)return s;if(void 0===e)return l;if(e===!0)return o;if(e===!1)return a;if(0===e)return c;if(""===e)return u;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new r(t.bind(e))}catch(n){return new r(function(e,t){t(n)})}return i(e)},r.all=function(e){var t=Array.prototype.slice.call(e);return new r(function(e,n){function i(a,s){if(s&&("object"==typeof s||"function"==typeof s)){if(s instanceof r&&s.then===r.prototype.then){for(;3===s._37;)s=s._12;return 1===s._37?i(a,s._12):(2===s._37&&n(s._12),void s.then(function(e){i(a,e)},n))}var l=s.then;if("function"==typeof l){var c=new r(l.bind(s));return void c.then(function(e){i(a,e)},n)}}t[a]=s,0===--o&&e(t)}if(0===t.length)return e([]);for(var o=t.length,a=0;a<t.length;a++)i(a,t[a])})},r.reject=function(e){return new r(function(t,n){n(e)})},r.race=function(e){return new r(function(t,n){e.forEach(function(e){r.resolve(e).then(t,n)})})},r.prototype["catch"]=function(e){return this.then(null,e)}},function(e,t,n){"use strict";var i=n(4);e.exports=i,i.prototype["finally"]=function(e){return this.then(function(t){return i.resolve(e()).then(function(){return t})},function(t){return i.resolve(e()).then(function(){throw t})})}},function(e,t,n){"use strict";e.exports=n(4),n(26),n(28),n(27),n(30)},function(e,t,n){"use strict";var i=n(4),r=n(31);e.exports=i,i.denodeify=function(e,t){return t=t||1/0,function(){var n=this,r=Array.prototype.slice.call(arguments,0,t>0?t:0);return new i(function(t,i){r.push(function(e,n){e?i(e):t(n)});var o=e.apply(n,r);!o||"object"!=typeof o&&"function"!=typeof o||"function"!=typeof o.then||t(o)})}},i.nodeify=function(e){return function(){var t=Array.prototype.slice.call(arguments),n="function"==typeof t[t.length-1]?t.pop():null,o=this;try{return e.apply(this,arguments).nodeify(n,o)}catch(a){if(null===n||"undefined"==typeof n)return new i(function(e,t){t(a)});r(function(){n.call(o,a)})}}},i.prototype.nodeify=function(e,t){return"function"!=typeof e?this:void this.then(function(n){r(function(){e.call(t,null,n)})},function(n){r(function(){e.call(t,n)})})}},function(e,t,n){"use strict";function i(){
if(l.length)throw l.shift()}function r(e){var t;t=s.length?s.pop():new o,t.task=e,a(t)}function o(){this.task=null}var a=n(12),s=[],l=[],c=a.makeRequestCallFromTimer(i);e.exports=r,o.prototype.call=function(){try{this.task.call()}catch(e){r.onerror?r.onerror(e):(l.push(e),c())}finally{this.task=null,s[s.length]=this}}},function(e,t,n){e.exports=n.p+"c9757c74222bb0af79d6bad4fd46edc2.png"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAvCAYAAABzJ5OsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABs1JREFUeNrUWW1MU1cYhqZT+ZYF6NVtUjAZRUQrH44sW5SZ+RFZxKgRlzlZHBOJitsSyJQhMiTBuQ2jGywukcmfsqAD5xbZBqiTRB0f1QrSRaFINcUR5cNEYCTsPt1Oc3q4be+9bRN9f7T369z7nPc85z3v+xzfqakpH3et6MCBFcPDw2ljT56oh4eGYsl15XNK5eQ/k5M4njFz5mhISEinf0DAnwGBgbUFBQUD7n7XVy54AB6wWHaZzf3LBgcHQ6W2j4nRtKo47qeg4OBv5XZEMvjCwsKM20ZjUa+pN8bHAxYUGDgWuyCuJlylypfaCdHgS0pKFnUZDD84A63RxPbNU6stAQEBY+y9vt5ejh8l7sGDByGOOhEXv6jyq/LyDz0KPj8vr7CjrfWT0cePZ9HXg4OCxhdpl3SvWbtW/0ZqqknMB+/09MxuaGjQXGpq0vbd7VOx96PUUcYF8fHLxIyCS/BZ27c33bxpSGVBr1i56sr7WVlXng8NHZNLmabmZnV1VdXy7u5bkewovPra62lFBw82ygLP00TF0+QiS5OVq9dczd2794I7oIU6cfTLL9JpSvEdGF+SmFRadvhwsWTwb2/e3E0Dh7d37t5Tl75uXbePF+zho0ezPt23L729vc3OWW+uWr2luLhYJxo8S5WIiIjhwqJiXWJigsVdkG1t7VxnVyd35/Zt7q7JxIWFhw99fuRIHfXtrfy3o8VQSCk0OVngJ09VV8qhCSanwWDgOtrb1QDKcttq/12zgj9VXa2lgcMQJG7euF7F0ziJncRKNhwiqtBUgcfFACdA/zIauVudner798zcyOjoTLEdBfCK48fW4Xjnrt31huvX1Zf/uLQY5/fu338xPKK/kj9c75A2LM/z9+2vccVxgP4od0+mo/jtygAU/zTwd7du1eM4Y9OmbDqcsvxX0CsnDRxRRczkPF1bq/UGcNihsjIdRp+cY2Wn2yuEbqABwqGPF80VcNj86OghrCfkHM6Fk+3AI8mivY4GnozjcoATw0JIe5+f+B/bgUd2SHsdDTwFFO9DzrN+w8aLmEM/n28oEwscBifS3jcau5OwgNqiDdJachO5ijtej5wXOfBSZKQlfvFiU9yCOAu7NrBRRcw7N2zcqP/xdK0N4+jIyA7+r1gJytD5OJIsOaATEhKNn5WW1jnruBBwnDvzPOE+nEIiD8+UtwBegQqIflBsdjjN41FRFinAAZici3JOcrIt8vFryEIr51G60fm4NyaoEHCp70hKTjbRqy54r6BrThQSTyNwmFartcM2MTGRqqAvCFVATwNwEnXYa4rx8TH/p5UqzszPz2+GYnxiwv9ZA24DHxwUPPisAbcWLw8fPlZ46mUvx8RYpABH5eTuN5VQsmh5Qm6uMjIyMssVcADW6/Ucnv3t/Hmt1ArMbrL6+v6thASHMPp/miAZPPKgc+fOaRwBB+DvTpxIafy1IUVKccIaSkc7xY4vCxXQDskF5OUoLqS81Blw2NHy8uXIS9wBDkNlRY5fmDvXbPU+RE/6oZaWFrWryglShdjJaezqUntiTt3Qd2jIcXiEqtUKHkUtRE9y45ezZ1OEGtfV12ve27Yt850tGblms3k2CzwtLU2w6vLz93e68KHAdwUc36ZHTsVxx235PNRa26TlMzfiWZq3ZaWHNqP6Fyok8A9eC304Ni7O5DxKaVwmgvVnztjeHRYW9ojIIFbwkJmhj5AHIMHRjXU6ndZRBUSfC1leXt4FFCJCHkadTGs2jtQ0WjKJjp5/1k76AHVyBwZqrl27us0qpfAPoxFJjwP5jrkCzs2ZM+SsA/zPBYS7xsbfNcgQQ4JDxsSIWLQj4WBI4dOkD6SYl5qbTEQJZsUmR4UEKUS+rqjQeXoV/aaiIqW66uQqcr506SvfHz12LHOaegDvQx+nwya0Q1fAUeGggvI0cIwSDRxcp70uqFWywtPChfE9RIIj4ZBMaLFDL0cmzPkgK5uOMEKC6zTwLH3oFMBbSRYLfH9+fgatlLF0mUYbmj5QZaGPO1rhvGWgCjxOA+dHvlkIuCB4kjdA2KevQfSEdig1fZAyOXflZO+gqYI0gC/stzhq43RbB9LalZbLJ2kKeWpLh47jQls78DiAO9ubcrknBV0H+jhkZlYJQycgCEFXkQoaSz5WTiHN3hHHJYMnk/hef3+lXt+R7kglg66CxQdVvtCIkB0RzB0kWUJZJsIhT9ccR9s4ssDTNJKygYzREZMKy91IlrV9j05ArYXo6Q7f4WnkKnJ2v2WDp+kE0RPaISQ4dm0QMkQQ5ONIa13ts3oVvFBnoGQJxmS+5nQXLGv/CjAAHMWHsk7d/PsAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAvCAYAAABzJ5OsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABsJJREFUeNrUWX1MU1cUh4YgDhAlSqsiLeikWNHKtyIKM1O3qBCnA5e4YJSJxG04HURxFFghwc2IwwnGJaD8Yf0MbjOKGaDMzTo+LEKlXQY8PtQWDVgKE/hj7J1mF2+fr+1r+7rA+afvfry+3z333HPP+R3n8fFxJ7ZEKpVyx8bG4lDb29vbo7+/fwieOc7Oz3Nyc6udWBRne8ADWP3g4F6tRrP56ZPepfqhITdL78yfN693jg+3gcvjnbJ3MTaBz87OTuomiINqtSrMno/Pnj17ICBg4Y9zuNzMo0ePah0KHkD/pVbndBKdgWxuv6eHx0jQEtFFaxfBCDyYx5OenlKF4mEC3bhQGNQVJBIRYeHhhFgs1njPmjVCndPY2MRTPlbyWpqbBY8UD4WDev00up1YERqWlpeXJ2MFfI5Esq71UXP5k6dPffH+GZ6eo+vWb5B/sG2bYmFAwEtrtV15/brw+rVrUSpVG586FhERee5kcXGyXeDBTOS/3SvDDyICvSclRU6nYWulprZWUFFeHktdxNKlwbV8f/8d5szIJPjMjIzsurt3cvE+vh9fm19YKLNF05bkdElJVEV52QaqZxKHhoWZWgDHlKk8bGw4jPetjlnTLLt8udQRwEHS9u2TnzpdegZ2FvWBqXZ1dl5grHk4nHW1NQRuKjuTd1XBn7MBsn9gwE2hUPAa6usFbUqlwE8g0OTm5t5C4+0dHTOzMjOTurq7uJbOwBvgP0pMVOGucP3G9x7gf26LTQNQUoO83t4eXl9fnxd1zv0HfxiZJywg7ZOUVNwjvbth4w6qFzICfyA9/YT8/u/pqB0SEqr+vqREZg1QlUrF62xv5/V0dfFw7ZkTKnjkWvenpe7F3WjkylVBuP274OaibHmUito+Pj66rwsKKi19mG6b2ZDQ0BANmCs6xC9evJj1XKstJB+T3ziwMIDb+edfHKxk4gqvXrkiZhs4fojhAkTttsfKRFCyEXjogAH8xnwnLo5wmgSyMzn5DnoG5f6n/dfgITI09i6vX3CEgDvENWpOQIn43I6O9i1GNg8hLX4Rsa11+M8FfL4mePlyQrREpAF7hv6VkRESJu/Hb90qVxXk85Htwz0E4bQLmAwe2r6/ZYvcXq0uensxQV7tGgjU2FBEQny8qqT4u1HkOkll7yd/ql2Gh4a24ROjo6MJW7XrqNABZJl4herer3XLDc6lT2tQNufv4eFw3D3a+vGQ8HCVo4CDgMnhYYMBvE6nE6FOX98FGqdJKnBWqPEXZ2x01HNi60k7nazg0SFH8s/4+ByO0xQWTl+f1m8qAp87d643x8eH2z0VwT979qx/apsN3hgeHnabrEAhiaH2uXjNnNlG/hqSj26C4P0fICCTunnjhtia9+AdvO3q6lrr4jZ9+oTzp6Mh2JDzFRXiq5cuxtJlUUwFsjGcpIKkhOPl5fUzNRtiE/ixY8diS04Vx9sDHKSpvl6InufN9201mA1EZ40N9QMQrUEHbKelYApSNN2gzg1SvurbVVFMP2qrQLaGJzxcHu+niZCYDAvukuANVB5QcWCX1CzKFDlkr0A8xSRbM+I2Z8w4M+FtgG5GAxB2/nD2bBT1kBXmS5NsAQ4Bm7nxxYFCwtIBx3c3MFDYgJJwA3gwHX+BvxpNgMm4a5LJZGI6YpSJZGRk3AHCCieTcHbicFaWWVoFFIl/208gOP4Ge7AoMBCo6wtI+yeLimIRXxMZEUmQWbxZkB6eniaT9W++/dbAQgC5+qdabXB5TBIVsHVc66BgnLsx4m2ohFPmkayLkMUYUrHNm9JNeQzIMcvOnStn28Umbd+eih9UKvFkdMMuCQ7+EHwoapOpVwJ4FnjetSflFmRLdGnf8aIiGdvAvzx0KAEHLhavqDTLmBm0TWGHwRuUna8oRd4HFlNd/YuQ6dbbIlTG2BRbTEtxp+zeXdPa2hKHLyA7J09GTQgcIRKJZOPtWzcj8dt01eqYTXTFN5P8PNX+wTz2ffpZJToDjoh5vjpyJKGpqdGo3kVHsNLaPMX+1+LuEzxQYUF+ImiGLsKzR+AC3PXxzlQcOGh8zdpYibn6lMWaFNWE0C6wUdoxdWubMxWrwKNDDJUSapEYFgF8SnRMjIqpOYHvrqqqEtbV1NAStLDbsOtMSpqM67BSqXTZ45aWS+ZqsODvodLh7u4+gi6uIb3esGBzxQWkbVHwstITRUUHmO6c1RVwtgvJthaQbQKPkz7AGZLaXIvCaWsEAiwIbSFCtKV0bxd46kJ0Ot2mkVevBLqXL4Po5rhOm6YnEx/lW+7u9e4eHldsBYzLvwIMAIPgz2aEbfwsAAAAAElFTkSuQmCC"},function(e,t){(function(t){e.exports=t}).call(t,{})},,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){d["default"].log(t),e.config({debug:h["default"].isWxDebug(),appId:t.wechat.appId,timestamp:t.wechat.timestamp,nonceStr:t.wechat.nonceStr,signature:t.wechat.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo"]})}function o(e,t){e.ready(function(){e.onMenuShareAppMessage({title:t.title,desc:t.content,link:t.link,imgUrl:t.thumb,type:"",configUrl:"",success:function(){DS&&DS.sendRepost("appMessage")},cancel:function(){}}),e.onMenuShareTimeline({title:t.title,link:t.link,imgUrl:t.thumb,success:function(){DS&&DS.sendRepost("timeline")},cancel:function(){}}),e.onMenuShareQQ({title:t.title,desc:t.content,link:t.link,imgUrl:t.thumb,success:function(){DS&&DS.sendRepost("QQ")},cancel:function(){}}),e.onMenuShareWeibo({title:t.title,desc:t.content,link:t.link,imgUrl:t.thumb,success:function(){DS&&DS.sendRepost("Weibo")},cancel:function(){}})})}function a(e,t){c["default"].getJSON(h["default"].getWxKeyURL(),function(n){200===n.code&&(console.log(n.data.wechat),e.wechat=n.data.wechat,t(e))})}function s(e){e.thumb.indexOf("img1.maka.im")>0&&(e.thumb.indexOf("@")>0?e.thumb=e.thumb+"_100w":e.thumb=e.thumb+"@100w"),a(e,function(e){c["default"].getScript(f,function(){var t=window.wx;e.link=window.location.host+"/k/"+e.id,r(t,e),o(t,e),DS.ready(function(){e.link=DS.linkChange(window.location.host+"/k/"+e.id),r(window.wx,e),o(window.wx,e)})})})}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),c=i(l),u=n(2),d=i(u),p=n(3),h=i(p),f="http://res.wx.qq.com/open/js/jweixin-1.0.0.js";t["default"]={init:s},e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(1),s=i(a),l=n(8),c=i(l),u=n(3),d=i(u),p=n(6),h=i(p),f=function(){function e(){var t=this;r(this,e),this.loaded=!1,this.hasSP=!1,this.isReady=!1,this.SPURL="",this.spPage=s["default"]('<div class="SPpage"></div>'),this.iframe=s["default"]('<iframe border=0 style="border:0;outline:0" width="100%" height="100%"></iframe>'),this.spPage.hide(),this.spPage.append(this.iframe),this.spPage.css({position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"white","z-index":999}),s["default"](".maka-pages").eq(0).append(this.spPage),this.spPage.hide(),this.hammer=new c["default"](s["default"](".SPpage").get(0)),this.hammer.on("swipedown",this.hideSP.bind(this)),s["default"](window).on("message",function(e){var n=JSON.parse(e.originalEvent.data);"hideSP"===n.type&&t.hideSP()})}return o(e,[{key:"loadSP",value:function(){var e=this;if("wemedia"===window.projectVersion.viplevel)return e.hasSP=!0,e.loaded=!0,void(this.SPURL="/user/wemedia/"+window.projectVersion.uid);var t=d["default"].getSPEventUrl();e.loaded||s["default"].getJSON(t,function(t){200===t.code&&(e.loaded=!0,1===parseInt(t.data.specialevent.status)&&"iframe"===t.data.specialevent.type&&(e.hasSP=!0,e.SPURL=t.data.specialevent.url))})}},{key:"showSP",value:function(){if(this.hasSP&&this.loaded){this.isReady||(this.iframe.attr("src",this.SPURL),this.isReady=!0),this.spPage.hide();var e=window.innerHeight;h["default"](this.spPage,{transformOrigin:[0,0,0],fromRotation:[0,0,0],fromPosition:[0,e,0],fromOpacity:1,position:[0,0,0],easing:"linear",duration:500}),this.spPage.fadeIn()}}},{key:"hideSP",value:function(){console.log("hide");var e=window.innerHeight;h["default"](this.spPage,{transformOrigin:[0,0,0],fromRotation:[0,0,0],fromPosition:[0,0,0],fromOpacity:1,position:[0,e,0],easing:"linear",duration:500}),this.spPage.fadeOut()}}]),e}();t["default"]=new f,e.exports=t["default"]}]);